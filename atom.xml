<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Sinoeast</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-04-06T08:04:02.317Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Sinoeast</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ³¨è§£ä¸åå°„</title>
    <link href="http://example.com/posts/41268e44/"/>
    <id>http://example.com/posts/41268e44/</id>
    <published>2021-04-02T15:47:18.000Z</published>
    <updated>2021-04-06T08:04:02.317Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h1><h2 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h2><p>â—†å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£,Javaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹,ä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»– Annotationç±»å‹ä½œè¯´æ˜</p><p>â—†è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨ java. lang. annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ°ã€(@ Target,@ Retentionï¼Œ@Documented, @Inheritedï¼‰</p><p>@ Target:ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´(å³è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹)</p><p>@ Retention:è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯,ç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆSOURCE&lt;CLASS&lt;RUNTIME)</p><p>@ Document:è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨ javadocä¸­</p><p>@ Inherited:è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•å…ƒæ³¨è§£</span></span><br><span class="line"><span class="meta">@MyAnnotation</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦‚æœæ²¡æœ‰é»˜è®¤å€¼ï¼Œå¿…é¡»èµ‹å€¼</span></span><br><span class="line">    <span class="meta">@MyAnnotation(name = &quot;lant&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MyAnnotation2(&quot;lant&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target(value = &#123;ElementType.METHOD,ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(value = RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ³¨è§£çš„å‚æ•°:å‚æ•°ç±»å‹+å‚æ•°å()</span></span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation2&#123;</span><br><span class="line">    <span class="comment">//valueå¯ä»¥é»˜è®¤</span></span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210406143937611.png" alt="image-20210406143937611"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡åå°„è·å–ç±»çš„classå¯¹è±¡</span></span><br><span class="line">        Class c1=Class.forName(<span class="string">&quot;AnnotationsAndReflection.Reflection.User&quot;</span>);</span><br><span class="line">        System.out.println(c1);</span><br><span class="line">        Class c2=Class.forName(<span class="string">&quot;AnnotationsAndReflection.Reflection.User&quot;</span>);</span><br><span class="line">        <span class="comment">//ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªclasså¯¹è±¡</span></span><br><span class="line">        <span class="comment">//ä¸€ä¸ªç±»è¢«åŠ è½½å,ç±»çš„æ•´ä¸ªç»“æ„éƒ½ä¼šè¢«å°è£…åœ¨Classå¯¹è±¡ä¸­</span></span><br><span class="line">        System.out.println(c1.hashCode());</span><br><span class="line">        System.out.println(c2.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//classç±»çš„åˆ›å»ºæ–¹å¼</span></span><br><span class="line">User user= <span class="keyword">new</span> VipUser();</span><br><span class="line">System.out.println(user.name);</span><br><span class="line"><span class="comment">//æ–¹å¼ä¸€ï¼šé€šè¿‡å¯¹è±¡è·å¾—</span></span><br><span class="line">Class cs1=user.getClass();</span><br><span class="line">System.out.println(cs1.hashCode());</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼äºŒï¼šfornameè·å¾—</span></span><br><span class="line">Class cs2=Class.forName(<span class="string">&quot;AnnotationsAndReflection.Reflection.VipUser&quot;</span>);</span><br><span class="line">System.out.println(cs2.hashCode());</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼ä¸‰ï¼šé€šè¿‡ç±»å.classè·å¾—</span></span><br><span class="line">Class cs3=VipUser.class;</span><br><span class="line">System.out.println(cs3.hashCode());</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼å››ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ªTYPEå±æ€§</span></span><br><span class="line">Class cs4= Character.TYPE;</span><br><span class="line">System.out.println(cs4.hashCode());</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å¾—çˆ¶ç±»ç±»å‹</span></span><br><span class="line">Class cs5=cs1.getSuperclass();</span><br><span class="line">System.out.println(cs5.hashCode());</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;æ³¨è§£&quot;&gt;&lt;a href=&quot;#æ³¨è§£&quot; class=&quot;headerlink&quot; title=&quot;æ³¨è§£&quot;&gt;&lt;/a&gt;æ³¨è§£&lt;/h1&gt;&lt;h2 id=&quot;å…ƒæ³¨è§£&quot;&gt;&lt;a href=&quot;#å…ƒæ³¨è§£&quot; class=&quot;headerlink&quot; title=&quot;å…ƒæ³¨è§£&quot;&gt;&lt;/a&gt;å…ƒæ³¨è§£&lt;/h2&gt;&lt;p&gt;â—†å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£,Javaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹,ä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»– Annotationç±»å‹ä½œè¯´æ˜&lt;/p&gt;
&lt;p&gt;â—†è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨ java. lang. annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ°ã€(@ Target,@ Retentionï¼Œ@Documented, @Inheritedï¼‰&lt;/p&gt;
&lt;p&gt;@ Target:ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´(å³è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹)&lt;/p&gt;
&lt;p&gt;@ Retention:è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯,ç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆSOURCE&amp;lt;CLASS&amp;lt;RUNTIME)&lt;/p&gt;
&lt;p&gt;@ Document:è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨ javadocä¸­&lt;/p&gt;
&lt;p&gt;@ Inherited:è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.lang.annotation.*;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æµ‹è¯•å…ƒæ³¨è§£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@MyAnnotation&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Test2&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å¦‚æœæ²¡æœ‰é»˜è®¤å€¼ï¼Œå¿…é¡»èµ‹å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@MyAnnotation(name = &amp;quot;lant&amp;quot;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@MyAnnotation2(&amp;quot;lant&amp;quot;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;test2&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Inherited&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Documented&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Target(value = &amp;#123;ElementType.METHOD,ElementType.TYPE&amp;#125;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Retention(value = RetentionPolicy.RUNTIME)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface&lt;/span&gt; MyAnnotation&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ³¨è§£çš„å‚æ•°:å‚æ•°ç±»å‹+å‚æ•°å()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;String &lt;span class=&quot;title&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &amp;quot;&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface&lt;/span&gt; MyAnnotation2&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//valueå¯ä»¥é»˜è®¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;String &lt;span class=&quot;title&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;åå°„&quot;&gt;&lt;a href=&quot;#åå°„&quot; class=&quot;headerlink&quot; title=&quot;åå°„&quot;&gt;&lt;/a&gt;åå°„&lt;/h1&gt;</summary>
    
    
    
    
    <category term="JavaSE" scheme="http://example.com/tags/JavaSE/"/>
    
  </entry>
  
  <entry>
    <title>å¤šçº¿ç¨‹</title>
    <link href="http://example.com/posts/5729df21/"/>
    <id>http://example.com/posts/5729df21/</id>
    <published>2021-03-26T08:53:49.000Z</published>
    <updated>2021-04-06T02:52:58.700Z</updated>
    
    <content type="html"><![CDATA[<h1 id="çº¿ç¨‹å®ç°ğŸŒŸ"><a href="#çº¿ç¨‹å®ç°ğŸŒŸ" class="headerlink" title="çº¿ç¨‹å®ç°ğŸŒŸ"></a>çº¿ç¨‹å®ç°ğŸŒŸ</h1><h2 id="çº¿ç¨‹ç®€ä»‹"><a href="#çº¿ç¨‹ç®€ä»‹" class="headerlink" title="çº¿ç¨‹ç®€ä»‹"></a>çº¿ç¨‹ç®€ä»‹</h2><p>è¿›ç¨‹æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">æ“ä½œç³»ç»Ÿ</a>ç»“æ„çš„åŸºç¡€ã€‚</p><p>åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œ==è¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨==ã€‚</p><p>ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚</p><p>çº¿ç¨‹æ˜¯<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">æ“ä½œç³»ç»Ÿ</a>èƒ½å¤Ÿè¿›è¡Œè¿ç®—<a href="https://baike.baidu.com/item/%E8%B0%83%E5%BA%A6">è°ƒåº¦</a>çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨<a href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B">è¿›ç¨‹</a>ä¹‹ä¸­ï¼Œæ˜¯<a href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B">è¿›ç¨‹</a>ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯<a href="https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B">è¿›ç¨‹</a>ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚</p><h2 id="çº¿ç¨‹çš„åˆ›å»º"><a href="#çº¿ç¨‹çš„åˆ›å»º" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»º"></a>çº¿ç¨‹çš„åˆ›å»º</h2><p>ä¸‰ç§åˆ›å»ºæ–¹å¼</p><ul><li>ç»§æ‰¿Threadç±»</li><li>å®ç°Runnableæ¥å£ï¼ˆThreadæ˜¯Runnableçš„å®ç°ç±»ï¼‰</li><li>å®ç°Callableæ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**åˆ›å»ºçº¿ç¨‹æ–¹å¼1:ç»§æ‰¿Threadç±»,é‡å†™run()æ–¹æ³•,è°ƒç”¨ startå¼€å¯çº¿ç¨‹</span></span><br><span class="line"><span class="comment"> * çº¿ç¨‹å¼€å¯ä¸ä¸€å®šç«‹å³æ‰§è¡Œï¼Œç”±CPUè°ƒåº¦</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread1</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//runæ–¹æ³•çº¿ç¨‹ä½“</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;runæ–¹æ³•çº¿ç¨‹ä½“&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TestThread1 testThread1 = <span class="keyword">new</span> TestThread1();</span><br><span class="line">        testThread1.start();</span><br><span class="line">        <span class="comment">//mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºçº¿ç¨‹æ–¹å¼2ï¼šå®ç°Runnableç±»ï¼Œé‡å†™runæ–¹æ³•ï¼Œæ‰§è¡Œçº¿ç¨‹éœ€è¦ä¸¢å…¥Threadï¼ˆRunnableæ¥å£å®ç°ç±»ï¼‰ï¼Œè°ƒç”¨startæ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThead3</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//runæ–¹æ³•çº¿ç¨‹ä½“</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;runæ–¹æ³•çº¿ç¨‹ä½“&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºRunnableæ¥å£çš„å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">        TestThead3 testThead3 = <span class="keyword">new</span> TestThead3();</span><br><span class="line">        <span class="comment">//åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œé€šè¿‡çº¿ç¨‹å¯¹è±¡æ¥å¼€å¯æˆ‘ä»¬çš„çº¿ç¨‹ã€‚ï½ä»£ç†</span></span><br><span class="line">        <span class="keyword">new</span> Thread(testThead3).start();</span><br><span class="line">        <span class="comment">//testThread1.start();</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å›¾ç‰‡ä¸‹è½½</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.MalformedURLException;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»ƒä¹ Thread,å®ç°å¤šçº¿ç¨‹åŒæ­¥ä¸‹è½½å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread2</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String url;<span class="comment">//ç½‘ç»œå›¾ç‰‡åœ°å€</span></span><br><span class="line">    <span class="keyword">private</span> String name;<span class="comment">//ä¿å­˜çš„æ–‡ä»¶å</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestThread2</span><span class="params">(String url, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestThread2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸‹è½½å›¾ç‰‡çº¿ç¨‹çš„æ‰§è¡Œä½“</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        WebDownload webDownload = <span class="keyword">new</span> WebDownload();</span><br><span class="line">        webDownload.download(url,name);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸‹è½½äº†æ–‡ä»¶ï¼š&quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TestThread2 testThread1 = <span class="keyword">new</span> TestThread2(<span class="string">&quot;https://csdnimg.cn/release/blogv2/dist/pc/img/original.png&quot;</span>,<span class="string">&quot;åŸåˆ›&quot;</span>);</span><br><span class="line">        TestThread2 testThread2 = <span class="keyword">new</span> TestThread2(<span class="string">&quot;https://csdnimg.cn/identity/blog6.png&quot;</span>,<span class="string">&quot;ç­‰çº§&quot;</span>);</span><br><span class="line">        TestThread2 testThread3 = <span class="keyword">new</span> TestThread2(<span class="string">&quot;https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png&quot;</span>,<span class="string">&quot;æ”¶è—&quot;</span>);</span><br><span class="line"></span><br><span class="line">        testThread1.start();</span><br><span class="line">        testThread2.start();</span><br><span class="line">        testThread3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‹è½½å™¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WebDownload</span></span>&#123;</span><br><span class="line">    <span class="comment">//ä¸‹è½½æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">download</span><span class="params">(String url,String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileUtils.copyURLToFile(<span class="keyword">new</span> URL(url),<span class="keyword">new</span> File(name));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">&quot;IOå¼‚å¸¸ï¼Œdownloadæ–¹æ³•å‡ºç°é—®é¢˜&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆè¯†å¹¶å‘"><a href="#åˆè¯†å¹¶å‘" class="headerlink" title="åˆè¯†å¹¶å‘"></a>åˆè¯†å¹¶å‘</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">//ä¹°æ˜¾å¡çš„ä¾‹å­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘ç°é—®é¢˜ï¼šå¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æºçš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•°æ®ç´Šä¹±</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread4</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¾å¡æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticketNum ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestThread4</span><span class="params">(<span class="keyword">int</span> ticketNum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ticketNum = ticketNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = ticketNum; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            ticketNum--;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;æ‹¿åˆ°äº†ç¬¬&quot;</span>+i+<span class="string">&quot;å¼ ç¥¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TestThread4 testThread4 = <span class="keyword">new</span> TestThread4(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">new</span> Thread(testThread4,<span class="string">&quot;é»„ç‰›&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(testThread4,<span class="string">&quot;ç©·å­¦ç”Ÿ&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(testThread4,<span class="string">&quot;çŸ¿è€æ¿&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(testThread4,<span class="string">&quot;è‡­æ‰“æ¸¸æˆ&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210327195841124.png" alt="image-20210327195841124"></p><h2 id="Lamdaè¡¨è¾¾å¼"><a href="#Lamdaè¡¨è¾¾å¼" class="headerlink" title="Lamdaè¡¨è¾¾å¼"></a>Lamdaè¡¨è¾¾å¼</h2><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ lambdaè¡¨è¾¾å¼</p><ul><li><p>é¿å…åŒ¿åå†…éƒ¨ç±»å®šä¹‰è¿‡å¤š</p></li><li><p>å¯ä»¥è®©ä½ çš„ä»£ç çœ‹èµ·æ¥å¾ˆç®€æ´</p></li><li><p>å»æ‰äº†ä¸€å †æ²¡æœ‰æ„ä¹‰çš„ä»£ç ,åªç•™ä¸‹æ ¸å¿ƒçš„é€»è¾‘</p></li></ul><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210329163032063.png" alt="image-20210329163032063"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Math math = (a,b) -&gt; &#123;</span><br><span class="line">            System.out.println(a+b);</span><br><span class="line">            System.out.println(a-b);</span><br><span class="line">        &#125;;</span><br><span class="line">        math.add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Math</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">double</span> b)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€ä»£ç†æ¨¡å¼"><a href="#é™æ€ä»£ç†æ¨¡å¼" class="headerlink" title="é™æ€ä»£ç†æ¨¡å¼"></a>é™æ€ä»£ç†æ¨¡å¼</h2><p>çœŸå®å¯¹è±¡å’Œä»£ç†å¯¹è±¡éƒ½è¦å®ç°åŒä¸€ä¸ªæ¥å£</p><p>ä»£ç†å¯¹è±¡è¦ä»£ç†çœŸå®è§’è‰²</p><p>å¥½å¤„ï¼š</p><ul><li>ä»£ç†å¯¹è±¡å¯ä»¥åšå¾ˆå¤šçœŸå®å¯¹è±¡åšä¸äº†çš„äº‹æƒ…</li><li>çœŸå®å¯¹è±¡ä¸“æ³¨åšè‡ªå·²çš„äº‹æƒ…</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticProxy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        new Thread(new Runnable() &#123;</span></span><br><span class="line"><span class="comment">//            @Override</span></span><br><span class="line"><span class="comment">//            public void run() &#123;</span></span><br><span class="line"><span class="comment">//                System.out.println(&quot;å¤šçº¿ç¨‹ç»“å©š&quot;);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;).start();</span></span><br><span class="line">        <span class="keyword">new</span> Thread(()-&gt; System.out.println(<span class="string">&quot;é™æ€ä»£ç†å¤šçº¿ç¨‹ï¼ˆlamdaè¡¨è¾¾å¼ï¼‰&quot;</span>)).start();</span><br><span class="line">        <span class="keyword">new</span> WeddingCompany(<span class="keyword">new</span> Me()).happyMarry();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span>  <span class="title">Marry</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">happyMarry</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Me</span> <span class="keyword">implements</span>  <span class="title">Marry</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">happyMarry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ¥ç»“å©š&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WeddingCompany</span> <span class="keyword">implements</span> <span class="title">Marry</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Marry target;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeddingCompany</span><span class="params">(Marry target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">happyMarry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        before();</span><br><span class="line">        <span class="keyword">this</span>.target.happyMarry();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å©šåº†å…¬å¸æ¥äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="çº¿ç¨‹çŠ¶æ€"><a href="#çº¿ç¨‹çŠ¶æ€" class="headerlink" title="çº¿ç¨‹çŠ¶æ€"></a>çº¿ç¨‹çŠ¶æ€</h1><h2 id="çº¿ç¨‹åœæ­¢"><a href="#çº¿ç¨‹åœæ­¢" class="headerlink" title="çº¿ç¨‹åœæ­¢"></a>çº¿ç¨‹åœæ­¢</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.å»ºè®®çº¿ç¨‹æ­£å¸¸åœæ­¢---&gt;åˆ©ç”¨æ¬¡æ•°,ä¸å»ºè®®æ­»å¾ªç¯</span></span><br><span class="line"><span class="comment">//2.å»ºè®®ä½¿ç”¨æ ‡å¿—ä½--&gt;è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½</span></span><br><span class="line"><span class="comment">//3.ä¸è¦ä½¿ç”¨stopæˆ–è€… destroyç­‰è¿‡æ—¶æˆ–è€…JDKä¸å»ºè®®ä½¿ç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadStop</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.è®¾ç½®ä¸€ä¸ªæ ‡è¯†ä½</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(flag)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;run&quot;</span>+i++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2ã€‚è®¾ç½®ä¸€ä¸ªå…¬å¼€çš„æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼Œè½¬æ¢æ ‡è¯†ä½</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ThreadStop threadStop = <span class="keyword">new</span> ThreadStop();</span><br><span class="line">        <span class="keyword">new</span> Thread(threadStop).start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">90000</span>)&#123;</span><br><span class="line">                <span class="comment">//è°ƒç”¨stopæ–¹æ³•åˆ‡æ¢æ ‡è¯†ä½ï¼Œè®©çº¿ç¨‹åœæ­¢</span></span><br><span class="line">                threadStop.stop();</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i%<span class="number">1000</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;main&quot;</span>+i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çº¿ç¨‹ä¼‘çœ ï¼ˆThread-sleepï¼‰"><a href="#çº¿ç¨‹ä¼‘çœ ï¼ˆThread-sleepï¼‰" class="headerlink" title="çº¿ç¨‹ä¼‘çœ ï¼ˆThread.sleepï¼‰"></a>çº¿ç¨‹ä¼‘çœ ï¼ˆThread.sleepï¼‰</h2><p>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé”, sleep.ä¸ä¼šé‡Šæ”¾é”;</p><ul><li>æ¨¡æ‹Ÿå€’è®¡æ—¶</li><li>æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</li></ul><h2 id="çº¿ç¨‹ç¤¼è®©ï¼ˆThread-yieldï¼‰"><a href="#çº¿ç¨‹ç¤¼è®©ï¼ˆThread-yieldï¼‰" class="headerlink" title="çº¿ç¨‹ç¤¼è®©ï¼ˆThread.yieldï¼‰"></a>çº¿ç¨‹ç¤¼è®©ï¼ˆThread.yieldï¼‰</h2><p>ç¤¼è®©çº¿ç¨‹,è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœ,ä½†ä¸é˜»å¡</p><p>å°†çº¿ç¨‹ä»è¿è¡ŒçŠ¶æ€è½¬ä¸ºå°±ç»ªçŠ¶æ€</p><p>è®©cpué‡æ–°è°ƒåº¦,ç¤¼è®©ä¸ä¸€å®šæˆåŠŸ!çœ‹CPUå¿ƒæƒ…</p><h2 id="çº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œï¼ˆThread-joinï¼‰"><a href="#çº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œï¼ˆThread-joinï¼‰" class="headerlink" title="çº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œï¼ˆThread.joinï¼‰"></a>çº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œï¼ˆThread.joinï¼‰</h2><p>Joinåˆå¹¶çº¿ç¨‹,å¾…æ­¤çº¿ç¨‹æ‰§è¡Œå®Œæˆå,å†æ‰§è¡Œå…¶ä»–çº¿ç¨‹,å…¶ä»–çº¿ç¨‹é˜»å¡</p><p>å¯ä»¥æƒ³è±¡æˆæ’é˜Ÿ</p><h2 id="çº¿ç¨‹çŠ¶æ€ï¼ˆThread-stateï¼‰"><a href="#çº¿ç¨‹çŠ¶æ€ï¼ˆThread-stateï¼‰" class="headerlink" title="çº¿ç¨‹çŠ¶æ€ï¼ˆThread.stateï¼‰"></a>çº¿ç¨‹çŠ¶æ€ï¼ˆThread.stateï¼‰</h2><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210401155144937.png" alt="image-20210401155144937"></p><h2 id="çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆgetPriority-setPriority-int-ï¼‰"><a href="#çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆgetPriority-setPriority-int-ï¼‰" class="headerlink" title="çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆgetPriority(),setPriority(int)ï¼‰"></a>çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆgetPriority(),setPriority(int)ï¼‰</h2><p>ä¼˜å…ˆçº§ä½åªæ˜¯æ„å‘³ç€è·å¾—è°ƒåº¦çš„==æ¦‚ç‡ä½==å¹¶ä¸æ˜¯ä¼˜å…ˆçº§ä½å°±ä¸ä¼šè¢«è°ƒç”¨äº†è¿™éƒ½æ˜¯çœ‹CPUçš„è°ƒåº¦ï¼ˆæ€§èƒ½å€’ç½®ï¼‰</p><h2 id="å®ˆæŠ¤çº¿ç¨‹ï¼ˆsetdaemonï¼ˆbooleanï¼‰ï¼‰"><a href="#å®ˆæŠ¤çº¿ç¨‹ï¼ˆsetdaemonï¼ˆbooleanï¼‰ï¼‰" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹ï¼ˆsetdaemonï¼ˆbooleanï¼‰ï¼‰"></a>å®ˆæŠ¤çº¿ç¨‹ï¼ˆsetdaemonï¼ˆbooleanï¼‰ï¼‰</h2><ul><li><p>çº¿ç¨‹åˆ†ä¸ºç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹</p></li><li><p>è™šæ‹Ÿæœºå¿…é¡»ç¡®ä¿ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</p></li><li><p>è™šæ‹Ÿæœºä¸ç”¨ç­‰å¾…å®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</p></li><li><p>å¦‚åå°è®°å½•æ“ä½œæ—¥å¿—,ç›‘æ§å†…å­˜åƒåœ¾å›æ”¶ç­‰å¾….</p></li></ul><h1 id="çº¿ç¨‹åŒæ­¥ğŸŒŸ"><a href="#çº¿ç¨‹åŒæ­¥ğŸŒŸ" class="headerlink" title="çº¿ç¨‹åŒæ­¥ğŸŒŸ"></a>çº¿ç¨‹åŒæ­¥ğŸŒŸ</h1><p>å…³é”®å­—ï¼šsynchronized </p><p>åŒæ­¥å—: synchronizedï¼ˆObjectï¼‰{</p><p>â€‹    xxx</p><p>}</p><ul><li><p>Objectï¼šè¦é”çš„å¯¹è±¡ </p></li><li><p>xxxï¼šå¯¹è±¡å˜åŒ–çš„è¿‡ç¨‹</p></li></ul><h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><p>äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶:</p><ol><li><p>äº’æ–¥æ¡ä»¶:ä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</p></li><li><p>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶:â€”ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶,å¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚</p></li><li><p>ä¸å‰¥å¤ºæ¡ä»¶:è¿›ç¨‹å·²è·å¾—çš„èµ„æº,åœ¨æœªä½¿ç”¨å®Œä¹‹å‰,ä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚</p></li><li><p>å¾ªç¯ç­‰å¾…æ¡ä»¶:è‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread.syn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Deadlock</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Makeup makeup = <span class="keyword">new</span> Makeup(<span class="number">0</span>,<span class="string">&quot;å°çº¢&quot;</span>);</span><br><span class="line">        Makeup makeup1 = <span class="keyword">new</span> Makeup(<span class="number">1</span>,<span class="string">&quot;å°å&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Thread(makeup).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(makeup1).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lipstick</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mirror</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Makeup</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éœ€è¦èµ„æºåªæœ‰ä¸€ä»½ï¼Œç”¨staticæ¥ä¿è¯åªæœ‰ä¸€ä»½</span></span><br><span class="line">    <span class="keyword">static</span> Lipstick lipstick= <span class="keyword">new</span> Lipstick();</span><br><span class="line">    <span class="keyword">static</span> Mirror mirror= <span class="keyword">new</span> Mirror();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> chioce;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Makeup</span><span class="params">(<span class="keyword">int</span> chioce, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.chioce = chioce;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            makeUp();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŒ–å¦†äº’ç›¸æŒæœ‰å¯¹æ–¹çš„é”ï¼Œå°±æ˜¯éœ€è¦æ‹¿åˆ°å¯¹æ–¹çš„èµ„æº</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeUp</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(chioce==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lipstick)&#123;</span><br><span class="line">                System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†å£çº¢&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (mirror)&#123;</span><br><span class="line">                    System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†é•œå­&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (mirror)&#123;</span><br><span class="line">                System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†é•œå­&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (lipstick)&#123;</span><br><span class="line">                    System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†å£çº¢&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è§£å†³</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeUp</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(chioce==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lipstick)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†å£çº¢&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">synchronized</span> (mirror)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†é•œå­&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (mirror)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†é•œå­&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">synchronized</span> (lipstick)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">this</span>.name+<span class="string">&quot;æ‹¿äº†å£çº¢&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Locké”"><a href="#Locké”" class="headerlink" title="Locké”"></a>Locké”</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//åŠ é”</span></span><br><span class="line">lock.lock();</span><br><span class="line"><span class="comment">//ä»£ç å—</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//è§£é”</span></span><br><span class="line">lock.unlock();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="çº¿ç¨‹é€šä¿¡"><a href="#çº¿ç¨‹é€šä¿¡" class="headerlink" title="çº¿ç¨‹é€šä¿¡"></a>çº¿ç¨‹é€šä¿¡</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread.syn;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹--ã€‹åˆ©ç”¨ç¼“å†²åŒºï¼šç®¡ç¨‹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadCommunication1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åŒä¸€ä¸ªç¼“å­˜åŒº</span></span><br><span class="line">        Warehouse warehouse= <span class="keyword">new</span> Warehouse();</span><br><span class="line">        <span class="keyword">new</span> Producers(warehouse).start();</span><br><span class="line">        <span class="keyword">new</span> Consumers(warehouse).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº§å“ï¼šé¸¡</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chicken</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chicken</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿäº§è€… å¾€ä»“åº“å¡é¸¡</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producers</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    Warehouse warehouse=<span class="keyword">new</span> Warehouse();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producers</span><span class="params">(Warehouse warehouse)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.warehouse =warehouse;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            Chicken chicken = <span class="keyword">new</span> Chicken(i);</span><br><span class="line">            warehouse.push(chicken);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ¶ˆè´¹è€… ä»ä»“åº“æ‹¿é¸¡</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumers</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    Warehouse warehouse=<span class="keyword">new</span> Warehouse();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Consumers</span><span class="params">(Warehouse warehouse)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.warehouse =warehouse;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            Chicken chicken=warehouse.pop();</span><br><span class="line">            System.out.println(<span class="string">&quot;æ¶ˆè´¹åˆ°äº†&quot;</span>+chicken.id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//äº§å“åº“</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Warehouse</span> </span>&#123;</span><br><span class="line">    <span class="comment">//äº§å“åº“10åªé¸¡å°±æ»¡äº†</span></span><br><span class="line">    Chicken[] chicken = <span class="keyword">new</span> Chicken[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®°æ•°</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿäº§</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(Chicken chicke)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(count==chicken.length)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä»“åº“æ»¡äº†åº“å­˜ï¼š&quot;</span>+count+<span class="string">&quot;  æƒ³åŠ å…¥çš„é¸¡çš„ç¼–å·æ˜¯&quot;</span>+(chicke.id));</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//ç”Ÿäº§ç­‰å¾…</span></span><br><span class="line">                <span class="keyword">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        chicken[count]=chicke;</span><br><span class="line">        count++;</span><br><span class="line">        System.out.println(count+<span class="string">&quot;å·ä»“åº“   åŠ å…¥çš„é¸¡çš„ç¼–å·æ˜¯&quot;</span>+chicke.id);</span><br><span class="line">        <span class="comment">//é€šçŸ¥æ¶ˆè´¹</span></span><br><span class="line">        <span class="keyword">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¶ˆè´¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Chicken <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(count==<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä»“åº“ç©ºäº†&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//æ¶ˆè´¹ç­‰å¾…</span></span><br><span class="line">                <span class="keyword">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">&quot;æˆ‘å–èµ°äº†&quot;</span>+count+<span class="string">&quot;å·ä»“åº“çš„é¸¡&quot;</span>+chicken[count-<span class="number">1</span>].id);</span><br><span class="line">        count--;</span><br><span class="line">        System.out.println(<span class="string">&quot;   è¿˜å‰©åº“å­˜ï¼š&quot;</span>+count);</span><br><span class="line">        <span class="comment">//é€šçŸ¥ç”Ÿäº§</span></span><br><span class="line">        <span class="keyword">this</span>.notifyAll();</span><br><span class="line">        <span class="keyword">return</span> chicken[count];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread.syn;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹2--ã€‹åˆ©ç”¨æ ‡å¿—ä½ï¼šä¿¡å·ç¯æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadCommunication2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Tv tv=<span class="keyword">new</span> Tv();</span><br><span class="line">        Player player=<span class="keyword">new</span> Player(tv);</span><br><span class="line">        Watcher watcher=<span class="keyword">new</span> Watcher(tv);</span><br><span class="line">        <span class="keyword">new</span> Thread(player).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(watcher).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§‚ä¼—</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    Tv tv;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Watcher</span><span class="params">(Tv tv)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tv = tv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                tv.watch();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¼”å‘˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    Tv tv;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span><span class="params">(Tv tv)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tv = tv;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                tv.action(<span class="string">&quot;çŒ«å’Œè€é¼ &quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                tv.action(<span class="string">&quot;ç±³è€é¼ &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tv</span></span>&#123;</span><br><span class="line">    <span class="comment">//æ ‡è¯†ä½</span></span><br><span class="line">    <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="comment">//æ ‡å¿—ä½ä¸ºçœŸ èŠ‚ç›®ç­‰å¾…</span></span><br><span class="line">        <span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ’­æ”¾äº†&quot;</span>+name);</span><br><span class="line">        <span class="comment">//æ ‡å¿—ä½ä¸ºå‡ é€šçŸ¥è§‚ä¼—æ¥çœ‹</span></span><br><span class="line">        <span class="keyword">this</span>.notifyAll();</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="comment">//æ ‡å¿—ä½è½¬åŒ–</span></span><br><span class="line">        <span class="keyword">this</span>.flag =!<span class="keyword">this</span>.flag;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">watch</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//æ ‡å¿—ä½ä¸ºçœŸ è§‚ä¼—ç­‰ä¸€ä¸‹</span></span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;è§‚çœ‹äº†&quot;</span>+<span class="keyword">this</span>.name);</span><br><span class="line">        <span class="comment">//æ ‡å¿—ä½ä¸ºå‡ é€šçŸ¥èŠ‚ç›®æ’­æ”¾</span></span><br><span class="line">        <span class="keyword">this</span>.notifyAll();</span><br><span class="line">        <span class="comment">//æ ‡å¿—ä½è½¬åŒ–</span></span><br><span class="line">        <span class="keyword">this</span>.flag =!<span class="keyword">this</span>.flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><p>â—†èƒŒæ™¯:ç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æº,æ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹,å¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚</p><p>â—†æ€è·¯:æå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹,æ”¾å…¥çº¿ç¨‹æ± ä¸­,ä½¿ç”¨æ—¶ç›´æ¥è·å–,ä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚</p><p>â€‹            å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚ç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…¬å…±äº¤é€šå·¥å…·ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executor;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ThreadPoolExecutor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadPool</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºçº¿ç¨‹æ±  å‚æ•°ä¸ºçº¿ç¨‹æ± å¤§å°</span></span><br><span class="line">        ExecutorService service = Executors.newFixedThreadPool(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.æ‰§è¡Œ</span></span><br><span class="line">        service.execute(<span class="keyword">new</span> NyThread());</span><br><span class="line">        service.execute(<span class="keyword">new</span> NyThread());</span><br><span class="line">        service.execute(<span class="keyword">new</span> NyThread());</span><br><span class="line">        service.execute(<span class="keyword">new</span> NyThread());</span><br><span class="line">        <span class="comment">//3.å…³é—­é“¾æ¥</span></span><br><span class="line">        service.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NyThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;çº¿ç¨‹å®ç°ğŸŒŸ&quot;&gt;&lt;a href=&quot;#çº¿ç¨‹å®ç°ğŸŒŸ&quot; class=&quot;headerlink&quot; title=&quot;çº¿ç¨‹å®ç°ğŸŒŸ&quot;&gt;&lt;/a&gt;çº¿ç¨‹å®ç°ğŸŒŸ&lt;/h1&gt;&lt;h2 id=&quot;çº¿ç¨‹ç®€ä»‹&quot;&gt;&lt;a href=&quot;#çº¿ç¨‹ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;çº¿ç¨‹ç®€ä»‹&quot;&gt;&lt;/a&gt;çº¿ç¨‹ç®€ä»‹&lt;/h2&gt;&lt;p&gt;è¿›ç¨‹æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯&lt;a href=&quot;https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F&quot;&gt;æ“ä½œç³»ç»Ÿ&lt;/a&gt;ç»“æ„çš„åŸºç¡€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œ==è¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨==ã€‚&lt;/p&gt;
&lt;p&gt;ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹æ˜¯&lt;a href=&quot;https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F&quot;&gt;æ“ä½œç³»ç»Ÿ&lt;/a&gt;èƒ½å¤Ÿè¿›è¡Œè¿ç®—&lt;a href=&quot;https://baike.baidu.com/item/%E8%B0%83%E5%BA%A6&quot;&gt;è°ƒåº¦&lt;/a&gt;çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨&lt;a href=&quot;https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B&quot;&gt;è¿›ç¨‹&lt;/a&gt;ä¹‹ä¸­ï¼Œæ˜¯&lt;a href=&quot;https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B&quot;&gt;è¿›ç¨‹&lt;/a&gt;ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯&lt;a href=&quot;https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B&quot;&gt;è¿›ç¨‹&lt;/a&gt;ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çº¿ç¨‹çš„åˆ›å»º&quot;&gt;&lt;a href=&quot;#çº¿ç¨‹çš„åˆ›å»º&quot; class=&quot;headerlink&quot; title=&quot;çº¿ç¨‹çš„åˆ›å»º&quot;&gt;&lt;/a&gt;çº¿ç¨‹çš„åˆ›å»º&lt;/h2&gt;&lt;p&gt;ä¸‰ç§åˆ›å»ºæ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»§æ‰¿Threadç±»&lt;/li&gt;
&lt;li&gt;å®ç°Runnableæ¥å£ï¼ˆThreadæ˜¯Runnableçš„å®ç°ç±»ï¼‰&lt;/li&gt;
&lt;li&gt;å®ç°Callableæ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**åˆ›å»ºçº¿ç¨‹æ–¹å¼1:ç»§æ‰¿Threadç±»,é‡å†™run()æ–¹æ³•,è°ƒç”¨ startå¼€å¯çº¿ç¨‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * çº¿ç¨‹å¼€å¯ä¸ä¸€å®šç«‹å³æ‰§è¡Œï¼Œç”±CPUè°ƒåº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TestThread1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Thread&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//runæ–¹æ³•çº¿ç¨‹ä½“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;runæ–¹æ³•çº¿ç¨‹ä½“&amp;quot;&lt;/span&gt;+i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        TestThread1 testThread1 = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TestThread1();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        testThread1.start();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹&amp;quot;&lt;/span&gt;+i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    
    <category term="JavaSE" scheme="http://example.com/tags/JavaSE/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç»œç¼–ç¨‹</title>
    <link href="http://example.com/posts/f6491cfb/"/>
    <id>http://example.com/posts/f6491cfb/</id>
    <published>2021-03-26T02:33:21.000Z</published>
    <updated>2021-03-27T12:06:44.923Z</updated>
    
    
    
    
    
    <category term="Java" scheme="http://example.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Markdown</title>
    <link href="http://example.com/posts/6fc8eab5/"/>
    <id>http://example.com/posts/6fc8eab5/</id>
    <published>2021-03-22T11:51:25.000Z</published>
    <updated>2021-03-24T10:15:58.949Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Markdownå­¦ä¹ "><a href="#Markdownå­¦ä¹ " class="headerlink" title="Markdownå­¦ä¹ "></a>Markdownå­¦ä¹ </h1><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="4çº§æ ‡é¢˜"><a href="#4çº§æ ‡é¢˜" class="headerlink" title="4çº§æ ‡é¢˜"></a>4çº§æ ‡é¢˜</h4><h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><p><em>Hello</em></p><p><strong>Hello</strong></p><p><strong><em>Hello</em></strong></p><p><strong><del>Hello</del></strong></p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a><strong>å¼•ç”¨</strong></h2><blockquote><p><strong>æ‘˜æŠ„ä¸€ä¸‹  &gt;ç©ºæ ¼</strong></p></blockquote><h2 id="åˆ†éš”çº¿"><a href="#åˆ†éš”çº¿" class="headerlink" title="åˆ†éš”çº¿"></a><strong>åˆ†éš”çº¿</strong></h2><hr><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a><strong>å›¾ç‰‡</strong></h2><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210324181454148.png" alt="æˆªå›¾"></p><h2 id="è¶…é“¾æ¥"><a href="#è¶…é“¾æ¥" class="headerlink" title="è¶…é“¾æ¥"></a><strong>è¶…é“¾æ¥</strong></h2><p><strong><a href="https://baike.baidu.com/item/Re%EF%BC%9A%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%9A%84%E5%BC%82%E4%B8%96%E7%95%8C%E7%94%9F%E6%B4%BB/18114401?fromtitle=%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%9A%84%E5%BC%82%E4%B8%96%E7%95%8C%E7%94%9F%E6%B4%BB&fromid=19464067&fr=aladdin">Re0</a></strong></p><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a><strong>åˆ—è¡¨</strong></h2><ol><li><strong>a</strong></li><li><strong>b</strong></li><li><strong>c</strong></li></ol><ul><li><strong>å‡å·ç©ºæ ¼</strong></li><li><strong>b</strong></li><li><strong>c</strong></li></ul><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a><strong>è¡¨æ ¼</strong></h2><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a><strong>ä»£ç </strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Markdownå­¦ä¹ &quot;&gt;&lt;a href=&quot;#Markdownå­¦ä¹ &quot; class=&quot;headerlink&quot; title=&quot;Markdownå­¦ä¹ &quot;&gt;&lt;/a&gt;Markdownå­¦ä¹ &lt;/h1&gt;&lt;h2 id=&quot;æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;æ ‡é¢˜&quot;&gt;&lt;/a&gt;æ ‡é¢˜&lt;/h2&gt;&lt;h2 id=&quot;äºŒçº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#äºŒçº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;äºŒçº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;äºŒçº§æ ‡é¢˜&lt;/h2&gt;&lt;h3 id=&quot;ä¸‰çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#ä¸‰çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;ä¸‰çº§æ ‡é¢˜&lt;/h3&gt;&lt;h4 id=&quot;4çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#4çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;4çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;4çº§æ ‡é¢˜&lt;/h4&gt;&lt;h2 id=&quot;å­—ä½“&quot;&gt;&lt;a href=&quot;#å­—ä½“&quot; class=&quot;headerlink&quot; title=&quot;å­—ä½“&quot;&gt;&lt;/a&gt;å­—ä½“&lt;/h2&gt;&lt;p&gt;&lt;em&gt;Hello&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hello&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Hello&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;del&gt;Hello&lt;/del&gt;&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="Markdown" scheme="http://example.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>JavaSE</title>
    <link href="http://example.com/posts/2b32338b/"/>
    <id>http://example.com/posts/2b32338b/</id>
    <published>2021-03-22T11:44:06.000Z</published>
    <updated>2021-04-06T02:52:59.323Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JavaSE"><a href="#JavaSE" class="headerlink" title="JavaSE"></a>JavaSE</h1><h2 id="ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹"><a href="#ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹" class="headerlink" title="ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹"></a>ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹</h2><ul><li>ç¼–è¯‘å‹ï¼šæŠŠæ•´ä¸ªæ–‡ä»¶è¿›è¡Œç¿»è¯‘åä½¿ç”¨</li><li>è§£é‡Šå‹ï¼šæŠŠæ–‡ä»¶ç¿»è¯‘ä¸€æ®µä½¿ç”¨ä¸€æ®µ</li></ul><p>javaä¸¤è€…é›†æˆï¼Œç°å°†javaæ–‡ä»¶ç¿»è¯‘æˆclassæ–‡ä»¶ï¼Œä¹‹åé€šè¿‡è§£é‡Šå™¨è¿›è¡Œä½¿ç”¨</p><h2 id="æ ‡è¯†ç¬¦-å…³é”®å­—"><a href="#æ ‡è¯†ç¬¦-å…³é”®å­—" class="headerlink" title="æ ‡è¯†ç¬¦ å…³é”®å­—"></a>æ ‡è¯†ç¬¦ å…³é”®å­—</h2><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210321210643933.png" alt="image-20210321210643933"></p><p>Javaæ‰€æœ‰çš„ç»„æˆéƒ¨åˆ†éƒ½éœ€è¦åå­—ã€‚ç±»åï¼Œå˜é‡åä»¥åŠæ–¹æ³•åéƒ½è¢«ç§°ä¸º==æ ‡è¯†ç¬¦==</p><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p>å¼ºç±»å‹è¯­è¨€</p><pre><code>    - è¦æ±‚å˜é‡çš„ä½¿ç”¨è¦ä¸¥æ ¼ç¬¦åˆè§„å®šï¼Œæ‰€æœ‰å˜é‡éƒ½å¿…é¡»å…ˆå®šä¹‰åæ‰èƒ½ä½¿ç”¨</code></pre><p>å¼±ç±»å‹è¯­è¨€</p><p>Javaçš„æ•°æ®</p><ul><li>åŸºæœ¬ç±»å‹ï¼ˆæ•´æ•°ï¼šbyte/short/int/longï¼Œæµ®ç‚¹ï¼šfloat/douleï¼Œå­—ç¬¦ç±»å‹ï¼šcharï¼Œå¸ƒå°”ç±»å‹ï¼šbooleanï¼‰</li><li>å¼•ç”¨ç±»å‹ï¼ˆç±»ï¼Œæ¥å£ï¼Œæ•°ç»„ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="comment">//æ•´æ•°</span></span><br><span class="line">    <span class="keyword">int</span> num1 = <span class="number">10</span>;<span class="comment">//æœ€å¸¸ç”¨</span></span><br><span class="line">    <span class="keyword">byte</span> num2 = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">short</span> num3 = <span class="number">30</span>;</span><br><span class="line">    <span class="keyword">long</span> num4 = <span class="number">30L</span>;<span class="comment">//Longç±»å‹è¦åœ¨æ•°å­—åé¢åŠ ä¸ªL</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°æ•°:æµ®ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">float</span> num5 = <span class="number">50.1F</span>;<span class="comment">//floatç±»å‹è¦åœ¨æ•°å­—åé¢åŠ ä¸ªF</span></span><br><span class="line">    <span class="keyword">double</span> num6 = <span class="number">3.141592653589793238462643</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å­—ç¬¦</span></span><br><span class="line">    <span class="keyword">char</span> name = <span class="string">&#x27;å›½&#x27;</span>;</span><br><span class="line">    <span class="comment">//å­—ç¬¦ä¸²ï¼ŒStringä¸æ˜¯å…³é”®å­—,ç±»</span></span><br><span class="line">    <span class="comment">// String name=&quot;è“å¤©&quot;;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¸ƒå°”å€¼:æ˜¯é</span></span><br><span class="line">    <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">//booLean fLag false</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210321212849780.png" alt="image-20210321212849780"></p><h3 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•´æ•°æ‹“å±•:</span></span><br><span class="line">    <span class="comment">// è¿›åˆ¶ äºŒè¿›åˆ¶0b åè¿›åˆ¶ å…«è¿›åˆ¶0  åå…­è¿›åˆ¶0x</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> i2 = <span class="number">010</span>;<span class="comment">//å…«è¿›åˆ¶0</span></span><br><span class="line">    <span class="keyword">int</span> i3 = <span class="number">0x10</span>;<span class="comment">//åå…­è¿›åˆ¶0x</span></span><br><span class="line">    <span class="keyword">int</span> i4 = <span class="number">0b10</span>;<span class="comment">//äºŒè¿›åˆ¶0b</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ®ç‚¹æ•°æ‹“å±• é“¶è¡Œä¸šåŠ¡æ€ä¹ˆè¡¨ç¤ºï¼ŸBigDecimal æ•°å­¦å·¥å…·ç±»</span></span><br><span class="line">    <span class="comment">//float æœ‰é™ ç¦»æ•£ èˆå…¥è¯¯å·® å¤§çº¦ æ¥è¿‘ä½†ä¸ç­‰äº</span></span><br><span class="line">    <span class="comment">//double</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°æ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°æ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°æ¯”è¾ƒ</span></span><br><span class="line">    <span class="keyword">float</span> f = <span class="number">0.1f</span>;<span class="comment">//0.1</span></span><br><span class="line">    <span class="keyword">double</span> d = <span class="number">0.1</span>;<span class="comment">//0.1</span></span><br><span class="line">    System.out.println(f==d);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> f1 = <span class="number">8513287816546f</span>;</span><br><span class="line">    <span class="keyword">float</span> f2 = f1 + <span class="number">1</span>;</span><br><span class="line">    System.out.println(f1==f2);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦æ‹“å±•</span></span><br><span class="line">    <span class="keyword">char</span> c1 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="keyword">char</span> c2 = <span class="string">&#x27;ä¸­&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    System.out.println((<span class="keyword">int</span>)c1);<span class="comment">//å¼ºåˆ¶è½¬æ¢97</span></span><br><span class="line">    System.out.println((<span class="keyword">int</span>)c2);<span class="comment">//å¼ºåˆ¶è½¬æ¢20013</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰€æœ‰çš„å­—ç¬¦æœ¬è´¨è¿˜æ˜¯æ•°å­—</span></span><br><span class="line"><span class="comment">//ç¼–ç  unicode&gt;ASCIIè¡¨ï¼ˆ97 = aï¼Œ65 = Aï¼‰ 2å­—èŠ‚ 65536</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// U0000 UFFFF</span></span><br><span class="line"><span class="keyword">char</span> c3 = <span class="string">&#x27;\u0061&#x27;</span>;</span><br><span class="line">System.out.println(c3);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¸ƒå°”å€¼æ‹“å±•</span></span><br><span class="line">    <span class="keyword">boolean</span> bool = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(bool=<span class="keyword">true</span>)&#123;&#125;<span class="comment">//æ–°æ‰‹</span></span><br><span class="line">    <span class="keyword">if</span>(bool)&#123;&#125;<span class="comment">//è€æ‰‹</span></span><br><span class="line">    <span class="comment">//Less is More ä»£ç è¦ç²¾ç®€æ˜“è¯»</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line">    <span class="comment">//\t åˆ¶è¡¨ç¬¦</span></span><br><span class="line">    <span class="comment">//\n æ¢è¡Œ</span></span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">    System.out.println(<span class="string">&quot;Hello\tWorld&quot;</span>);<span class="comment">//HelloWorld</span></span><br><span class="line">    System.out.println(<span class="string">&quot;Hello\nWorld&quot;</span>);<span class="comment">//Hello</span></span><br><span class="line"><span class="comment">//World</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String sa = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">String sb = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">System.out.println(sa==sb);<span class="comment">//false</span></span><br><span class="line">String sc = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">String sd = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">System.out.println(sc==sd);<span class="comment">//true</span></span><br><span class="line"><span class="comment">//å¯¹è±¡ ä»å†…å­˜åˆ†æ</span></span><br></pre></td></tr></table></figure><h3 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h3><p>ç”±äºJavaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥è¦è¿›è¡Œæœ‰äº›è¿ç®—çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°ç±»å‹è½¬æ¢</p><p>ä½â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“&gt;é«˜</p><ul><li>Byte, short,char-&gt;int-&gt;long-&gt;float-&gt;double</li></ul><p>è¿ç®—ä¸­ï¼Œä¸åŒç±»å‹çš„æ•°æ®å…ˆè½¬åŒ–ä¸ºåŒä¸€ç±»å‹ï¼Œç„¶åè¿›è¡Œè¿ç®—</p><p>æ³¨æ„ç‚¹:</p><pre><code>    1. ä¸èƒ½å¯¹å¸ƒå°”å€¼è¿›è¡Œè½¬æ¢    2. ä¸èƒ½æŠŠå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºä¸ç›¸å¹²çš„ç±»å‹    3. åœ¨æŠŠé«˜å®¹é‡è½¬æ¢åˆ°ä½å®¹é‡çš„æ—¶å€™,å¼ºåˆ¶è½¬æ¢    4. è½¬æ¢çš„æ—¶å€™å¯èƒ½å­˜åœ¨å†…å­˜æº¢å‡º,æˆ–è€…ç²¾åº¦é—®é¢˜!</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆç±»å‹ï¼‰å˜é‡å  é«˜--&gt;ä½</span></span><br><span class="line"><span class="comment">//è‡ªåŠ¨è½¬æ¢ä½--&gt;é«˜</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">128</span>;</span><br><span class="line">    <span class="keyword">byte</span> b =(<span class="keyword">byte</span>)i;<span class="comment">//å†…å­˜æº¢å‡º</span></span><br><span class="line">    System.out.println(i);<span class="comment">//128</span></span><br><span class="line">    System.out.println(b);<span class="comment">//-128</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> f = <span class="number">45.123f</span>;</span><br><span class="line">    <span class="keyword">int</span> ii = (<span class="keyword">int</span>)f;<span class="comment">//ç²¾åº¦ä¸‹é™</span></span><br><span class="line">    System.out.println(ii); <span class="comment">//45</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ“ä½œæ¯”è¾ƒå¤§çš„æ•°çš„æ—¶å€™ï¼Œæ³¨æ„æº¢å‡ºé—®é¢˜</span></span><br><span class="line">    <span class="comment">//jdk7æ–°ç‰¹æ€§ï¼Œæ•°å­—ä¹‹é—´å¯ä»¥ç”¨ä¸‹åˆ’çº¿åˆ†éš”</span></span><br><span class="line">    <span class="keyword">int</span> money = <span class="number">10_0000_0000</span>;</span><br><span class="line">    <span class="keyword">int</span> year = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">int</span> total = money*year;<span class="comment">//-884901888</span></span><br><span class="line">    <span class="keyword">long</span> total2 =money*year;<span class="comment">//-884901888 é»˜è®¤æ˜¯intï¼Œè½¬æ¢ä¹‹å‰å·²ç»å­˜åœ¨é—®é¢˜äº†</span></span><br><span class="line">    <span class="keyword">long</span> total3 =money*(<span class="keyword">long</span>)year;<span class="comment">//12000000000 å…ˆæŠŠä¸€ä¸ªæ•°è½¬æ¢ä¸ºlong</span></span><br></pre></td></tr></table></figure><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><ul><li><p>Javaæ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€,æ¯ä¸ªå˜é‡éƒ½å¿…é¡»å£°æ˜å…¶ç±»å‹ã€‚</p></li><li><p>Javaå˜é‡æ˜¯ç¨‹åºä¸­æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒ,å…¶è¦ç´ åŒ…æ‹¬å˜é‡å,å˜é‡ç±»å‹å’Œä½œç”¨åŸŸ</p></li></ul><p>  æ³¨æ„äº‹é¡¹:</p><ul><li>æ¯ä¸ªå˜é‡éƒ½æœ‰ç±»å‹,ç±»å‹å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹,ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹</li><li>å˜é‡åå¿…é¡»æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦</li><li>å˜é‡å£°æ˜æ˜¯ä¸€æ¡å®Œæ•´çš„è¯­å¥,å› æ­¤æ¯ä¸€ä¸ªå£°æ˜éƒ½å¿…é¡»ä»¥åˆ†å·ç»“æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="keyword">int</span> CONSTANT = <span class="number">2021</span>;<span class="comment">//å¸¸é‡ finalå…³é”®è¯ï¼Œåˆå§‹åŒ–åä¸èƒ½å†æ”¹å˜å€¼</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> a = <span class="number">1</span>;<span class="comment">//ç±»å˜é‡ ä»å±äºç±»ï¼Œstaticå…³é”®è¯</span></span><br><span class="line">    <span class="keyword">int</span> b;<span class="comment">//å®ä¾‹å˜é‡ ä»å±äºå¯¹è±¡;å¦‚æœä¸è‡ªè¡Œåˆå§‹åŒ–ï¼Œè¿™ä¸ªç±»å‹çš„é»˜è®¤å€¼ 0 0.0</span></span><br><span class="line">  <span class="comment">//char:\u0000 è¿™ä¸ªunicodeå­—ç¬¦ä»£è¡¨çš„å°±æ˜¯ç©ºæ ¼ æœ¬åœ°é‡‡ç”¨çš„æ˜¯ASCIIç¼–ç ï¼Œcharæ˜¯Unicode</span></span><br><span class="line">  <span class="comment">//å¸ƒå°”å€¼ï¼šé»˜è®¤æ˜¯false</span></span><br><span class="line">  <span class="comment">//é™¤äº†åŸºæœ¬ç±»å‹ï¼Œå…¶ä½™éƒ½æ˜¯null </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> c =<span class="number">3</span>;<span class="comment">//å±€éƒ¨å˜é‡ å¿…é¡»å£°æ˜å’Œåˆå§‹åŒ–å€¼</span></span><br><span class="line">      Demo03 demo03 = <span class="keyword">new</span> Demo03();</span><br><span class="line">        System.out.println(demo03.b);</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210322143130013.png" alt="image-20210322143130013"></p><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210322144845053.png" alt="image-20210322144845053"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼ºè½¬ ç±»å‹ æ¨¡</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">    System.out.println(a+b);</span><br><span class="line">    System.out.println(a-b);</span><br><span class="line">    System.out.println(a*b);</span><br><span class="line">    System.out.println(a/(<span class="keyword">double</span>)b);<span class="comment">//å¼ºè½¬ä¿è¯ç»“æœ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> c = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> d =<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">char</span> e = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">short</span> f = <span class="number">4</span>;</span><br><span class="line">    System.out.println(c+d+e+f);<span class="comment">//long æœ‰æ¯”inté«˜çš„å–é«˜çš„ï¼Œå…¶ä»–å–int</span></span><br><span class="line">    System.out.println(d+e+f);<span class="comment">//int</span></span><br><span class="line">System.out.println(e+f);<span class="comment">//int</span></span><br><span class="line">System.out.println(<span class="number">3</span>%<span class="number">2</span>);  <span class="comment">//æ¨¡è¿ç®—ï¼Œå–ä½™</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//è‡ªå¢++ è‡ªå‡--</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> b = a++;<span class="comment">//å…ˆèµ‹å€¼å†è‡ªå¢</span></span><br><span class="line">    System.out.println(a);<span class="comment">//4</span></span><br><span class="line">    <span class="keyword">int</span> c = ++a;<span class="comment">//å…ˆè‡ªå¢å†èµ‹å€¼</span></span><br><span class="line">    System.out.println(a);<span class="comment">//5</span></span><br><span class="line">    System.out.println(b);<span class="comment">//3</span></span><br><span class="line">    System.out.println(c);<span class="comment">//5</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¹‚è¿ç®— 9^9 å¾ˆå¤šè¿ç®—ä½¿ç”¨å·¥å…·ç±»æ¥æ“ä½œ</span></span><br><span class="line"><span class="keyword">double</span> pow=Math.pow(<span class="number">9</span>,<span class="number">9</span>);</span><br><span class="line">System.out.println(pow);<span class="comment">//81</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çŸ­è·¯è¿ç®— åˆ°c&lt;4ç»“æŸ</span></span><br><span class="line">    <span class="keyword">int</span> c = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">boolean</span> d = (c&lt;<span class="number">4</span>)&amp;&amp;(c++&lt;<span class="number">4</span>);</span><br><span class="line">    System.out.println(d);<span class="comment">//false</span></span><br><span class="line">    System.out.println(c);<span class="comment">//5</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*   ä½è¿ç®— </span></span><br><span class="line"><span class="comment">A = 0011 1100</span></span><br><span class="line"><span class="comment">B = 0000 1101</span></span><br><span class="line"><span class="comment">------------------------</span></span><br><span class="line"><span class="comment">A&amp;B = 0000 1100 éƒ½ä¸º1å–1</span></span><br><span class="line"><span class="comment">A|B = 0011 1101 æœ‰1å–1</span></span><br><span class="line"><span class="comment">A^B = 0011 0001 ç›¸åŒ0ä¸åŒ1</span></span><br><span class="line"><span class="comment">~B  = 1111 0010 å–å</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2*8 =16 æ€ä¹ˆè®¡ç®—æœ€å¿«2*2*2*2</span></span><br><span class="line"><span class="comment">æ•ˆç‡æé«˜ï¼ï¼ï¼ï¼</span></span><br><span class="line"><span class="comment">&lt;&lt;å·¦ç§»*2</span></span><br><span class="line"><span class="comment">&gt;&gt;å³ç§»/2</span></span><br><span class="line"><span class="comment">0000 0001 1</span></span><br><span class="line"><span class="comment">0000 0010 2</span></span><br><span class="line"><span class="comment">0000 0100 4</span></span><br><span class="line"><span class="comment">0000 1000 8</span></span><br><span class="line"><span class="comment">0001 0000 16</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        System.out.println(<span class="number">2</span>&lt;&lt;<span class="number">3</span>);<span class="comment">//16</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(a+=b);<span class="comment">//a = a+b  30</span></span><br><span class="line">System.out.println(<span class="string">&quot;&quot;</span>+a+b);<span class="comment">//å­—ç¬¦è¿æ¥3020</span></span><br><span class="line">System.out.println(a+b+<span class="string">&quot;&quot;</span>);<span class="comment">//  50</span></span><br><span class="line">System.out.println(a&gt;b?<span class="number">10</span>:<span class="number">11</span>);<span class="comment">//ä¸‰å…ƒè¿ç®—ç¬¦10</span></span><br></pre></td></tr></table></figure><h1 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h1><h2 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h2><p>é€šè¿‡ Scannerç±»çš„ next()ä¸ nextLine()æ–¹æ³•è·å–è¾“å…¥çš„å­—ç¬¦ä¸²,åœ¨è¯»å–å‰æˆ‘ä»¬ä¸€èˆ¬éœ€è¦ä½¿<br>ç”¨ hasNext()ä¸ hasNextLine()åˆ¤æ–­æ˜¯å¦è¿˜æœ‰è¾“å…¥çš„æ•°æ®ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæ‰«æå™¨å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶é”®ç›˜æ•°æ®</span></span><br><span class="line">Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">System.out.println(<span class="string">&quot;ä½¿ç”¨nextæ–¹å¼æ¥æ”¶ï¼š&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ç”¨æˆ·æœ‰æ²¡æœ‰è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">if</span>(scanner.hasNextLine())&#123;</span><br><span class="line"><span class="comment">//ä½¿ç”¨nextæ–¹å¼æ¥æ”¶</span></span><br><span class="line">String s = scanner.nextLine();</span><br><span class="line">System.out.println(<span class="string">&quot;è¾“å‡ºçš„å†…å®¹æ˜¯ï¼š&quot;</span>+s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡¡æ˜¯å±äºIOæµçš„ç±»å¦‚æœä¸å…³é—­ä¼šä¸€ç›´å ç”¨èµ„æºï¼Œè¦å…»æˆå¥½ä¹ æƒ¯ç”¨å®Œå°±å…³æ‰</span></span><br><span class="line">scanner.close();</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210323102534536.png" alt="image-20210323102534536"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å…¥å¤šä¸ªæ•°å­—ã€‚æ±‚æ€»å’Œå’Œå¹³å‡æ•° ï¼Œæ²¡è¾“å…¥ä¸€ä¸ªæ•°å­—ç”¨å›è½¦é”®ç¡®è®¤ï¼Œé€šè¿‡è¾“å…¥éæ•°å­—æ¥ç»“æŸè¾“å…¥æ‰§è¡Œç»“æœ</span></span><br><span class="line">Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">double</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (scanner.hasNextDouble())&#123;</span><br><span class="line">    <span class="keyword">double</span> x = scanner.nextDouble();</span><br><span class="line">    total += x;</span><br><span class="line">    num += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;æ€»å’Œï¼š&quot;</span>+total);</span><br><span class="line">System.out.println(<span class="string">&quot;å¹³å‡ï¼š&quot;</span>+total/num);</span><br><span class="line"></span><br><span class="line">scanner.close();</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºç»“æ„"><a href="#é¡ºåºç»“æ„" class="headerlink" title="é¡ºåºç»“æ„"></a>é¡ºåºç»“æ„</h2><p>è¯­å¥ä¸è¯­å¥ä¹‹é—´,æ¡†ä¸æ¡†ä¹‹é—´æ˜¯æŒ‰ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿›è¡Œçš„,å®ƒæ˜¯ç”±è‹¥å¹²ä¸ªä¾æ¬¡æ‰§è¡Œçš„å¤„ç†æ­¥éª¤ç»„æˆçš„,å®ƒæ˜¯ä»»ä½•ä¸€ä¸ªç®—æ³•éƒ½ç¦»ä¸å¼€çš„ä¸€ç§åŸºæœ¬ç®—æ³•ç»“æ„ã€‚</p><h2 id="é€‰æ‹©ç»“æ„"><a href="#é€‰æ‹©ç»“æ„" class="headerlink" title="é€‰æ‹©ç»“æ„"></a>é€‰æ‹©ç»“æ„</h2><ul><li><p>ifå•é€‰æ‹©ç»“æ„</p><p>if(boolean){</p><p>}</p></li><li><p>ifåŒé€‰æ‹©ç»“æ„</p><p>If(boolean){</p><p>â€‹        }else{</p><p>}</p></li><li><p>ifå¤šé€‰æ‹©ç»“æ„</p><p>if(boolean){</p><p>â€‹    }else if(boolean){</p><p>â€‹    }else{</p><p>}</p></li><li><p>åµŒå¥—çš„ifç»“æ„</p><p>if(boolean){</p><p>â€‹        if(boolean){}</p><p>}</p></li><li><p>switchå¤šé€‰æ‹©ç»“æ„ æ²¡æœ‰breakä¼šæœ‰caseç©¿é€</p><p>Switch(variable){</p><p>â€‹        Case variable:</p><p>â€‹                Xxx;</p><p>â€‹                break;</p><p>â€‹        Case variable:</p><p>â€‹                Xxx;</p><p>â€‹                Break;</p><p>â€‹        Default:</p><p>â€‹                Xxx;</p><p>}</p></li></ul><h2 id="å¾ªç¯ç»“æ„"><a href="#å¾ªç¯ç»“æ„" class="headerlink" title="å¾ªç¯ç»“æ„"></a>å¾ªç¯ç»“æ„</h2><ul><li><p>whileå¾ªç¯</p><p>While(boolean){</p><p>}</p></li><li><p>doâ€¦while å¾ªç¯</p><p>do{</p><p>}while(boolean)</p></li><li><p>for å¾ªç¯</p><p>For(åˆå§‹åŒ–;boolean;æ›´æ–°){</p><p>}</p></li><li><p>å¢å¼ºforå¾ªç¯ ï¼ˆæ•°ç»„ï¼‰</p><p>for(å£°æ˜è¯­å¥:è¡¨è¾¾å¼){</p><p>}</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//100-150è´¨æ•° break;continue;å¾ªç¯ä¸­æ ‡ç­¾ï¼ˆäº†è§£ä¸å»ºè®®ä½¿ç”¨ï¼‰</span></span><br><span class="line">        outer:</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">101</span>; i &lt; <span class="number">150</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt; i/<span class="number">2</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % j==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">continue</span> outer;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(i+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><p>Javaæ–¹æ³•æ˜¯è¯­å¥çš„é›†åˆ,å®ƒä»¬åœ¨ä¸€èµ·æ‰§è¡Œä¸€ä¸ªåŠŸèƒ½</p><ul><li><p>æ–¹æ³•æ˜¯è§£å†³ä¸€ç±»é—®é¢˜çš„æ­¥éª¤çš„æœ‰åºç»„åˆ</p></li><li><p>æ–¹æ³•åŒ…å«äºç±»æˆ–å¯¹è±¡ä¸­</p></li><li><p>æ–¹æ³•åœ¨ç¨‹åºä¸­è¢«åˆ›å»º,åœ¨å…¶ä»–åœ°æ–¹è¢«å¼•ç”¨</p></li></ul><p>è®¾è®¡æ–¹æ³•çš„åŸåˆ™:æ–¹æ³•çš„æœ¬æ„æ˜¯åŠŸèƒ½å—,å°±æ˜¯å®ç°æŸä¸ªåŠŸèƒ½çš„è¯­å¥å—çš„é›†åˆã€‚æˆ‘ä»¬è®¾è®¡æ–¹æ³•çš„<br>æ—¶å€™,æœ€å¥½ä¿æŒæ–¹æ³•çš„åŸå­æ€§,==å°±æ˜¯ä¸€ä¸ªæ–¹æ³•åªå®Œæˆ1ä¸ªåŠŸèƒ½,è¿™æ ·åˆ©äºæˆ‘ä»¬åæœŸçš„æ‰©å±•ã€‚==</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210323143845007.png" alt="image-20210323143845007"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span> <span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•çš„é‡è½½"><a href="#æ–¹æ³•çš„é‡è½½" class="headerlink" title="æ–¹æ³•çš„é‡è½½"></a>æ–¹æ³•çš„é‡è½½</h2><p>é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­,==æœ‰ç›¸åŒçš„å‡½æ•°åç§°,ä½†å½¢å‚ä¸åŒçš„å‡½æ•°ã€‚==</p><p>æ–¹æ³•çš„é‡è½½çš„è§„åˆ™:</p><ul><li><p>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒã€‚</p></li><li><p>å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒ(ä¸ªæ•°ä¸åŒã€æˆ–ç±»å‹ä¸åŒã€å‚æ•°æ’åˆ—é¡ºåºä¸åŒç­‰)ã€‚</p></li><li><p>æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸ç›¸åŒã€‚</p></li><li><p>ä»…ä»…è¿”å›ç±»å‹ä¸åŒä¸è¶³ä»¥æˆä¸ºæ–¹æ³•çš„é‡è½½</p></li></ul><p>å®ç°ç†è®º</p><ul><li>æ–¹æ³•åç§°ç›¸åŒæ—¶,ç¼–è¯‘å™¨ä¼šæ ¹æ®è°ƒç”¨æ–¹æ³•çš„å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹ç­‰å»é€ä¸ªåŒ¹é…,ä»¥é€‰æ‹©å¯¹<br>åº”çš„æ–¹æ³•,å¦‚æœåŒ¹é…å¤±è´¥,åˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">add</span> <span class="params">(<span class="keyword">double</span> a,<span class="keyword">double</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span> <span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="å‘½ä»¤è¡Œä¼ å‚"><a href="#å‘½ä»¤è¡Œä¼ å‚" class="headerlink" title="å‘½ä»¤è¡Œä¼ å‚"></a>å‘½ä»¤è¡Œä¼ å‚</h2><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210323152327598.png" alt="image-20210323152327598"></p><h2 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h2><p>åœ¨æ–¹æ³•å£°æ˜ä¸­,åœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å·(â€¦)ã€‚</p><p>ä¸€ä¸ªæ–¹æ³•ä¸­åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°,å®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚ä»»ä½•æ™®é€šçš„å‚æ•°å¿…é¡»åœ¨å®ƒ<br>ä¹‹å‰å£°æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">( <span class="keyword">int</span> j,<span class="keyword">double</span>... d)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.length; i++) &#123;</span><br><span class="line">        System.out.println(d[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><ul><li><p>Aæ–¹æ³•è°ƒç”¨Bæ–¹æ³•,æˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£!</p></li><li><p>é€’å½’å°±æ˜¯:Aæ–¹æ³•è°ƒç”¨Aæ–¹æ³•!å°±æ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±</p></li></ul><p>åˆ©ç”¨é€’å½’å¯ä»¥ç”¨ç®€å•çš„ç¨‹åºæ¥è§£å†³ä¸€äº›å¤æ‚çš„é—®é¢˜ã€‚å®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£,é€’å½’ç­–ç•¥åªéœ€å°‘é‡çš„ç¨‹åºå°±å¯æè¿°å²€è§£é¢˜è¿‡ç¨‹æ‰€<br>éœ€è¦çš„å¤šæ¬¡é‡å¤è®¡ç®—,å¤§å¤§åœ°å‡å°‘äº†ç¨‹åºçš„ä»£ç é‡ã€‚é€’å½’çš„èƒ½åŠ›åœ¨äºç”¨æœ‰é™çš„è¯­å¥æ¥å®šä¹‰å¯¹è±¡<br>çš„æ— é™é›†åˆã€‚</p><p>é€’å½’ç»“æ„åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†:</p><p>â—†é€’å½’å¤´:ä»€ä¹ˆæ—¶å€™ä¸è°ƒç”¨è‡ªèº«æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰å¤´,å°†é™·å…¥æ­»å¾ªç¯ã€‚</p><p>â—†é€’å½’ä½“:ä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨è‡ªèº«æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(f(<span class="number">4</span>));</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//4ï¼é€’å½’åœ¨åŸºæ•°å¤§çš„æƒ…å†µä¸‹ä¼šçˆ†å†…å­˜ï¼Œåªé€‚ç”¨äºå°åµŒå¥—</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//é€’å½’å¤´</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> i*f(i-<span class="number">1</span>);<span class="comment">//é€’å½’ä½“</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//è¾¹ç•Œæ¡ä»¶:f(1)</span></span><br><span class="line"><span class="comment">//å‰é˜¶æ®µ:</span></span><br><span class="line"><span class="comment">//è¿”å›é˜¶æ®µ:n*(n-1)</span></span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h1><p>æ•°ç»„æ˜¯ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆ</p><p>æ•°ç»„æè¿°çš„æ˜¯ç›¸åŒç±»å‹çš„è‹¥å¹²ä¸ªæ•°æ®ï¼ŒæŒ‰ç…§ä¸€å®šçš„å…ˆåæ¬¡åºæ’åˆ—ç»„åˆè€Œæˆ</p><p>å…¶ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°æ®ç§°ä½œä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡æ¥è®¿é—®å®ƒä»¬</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210323171058987.png" alt="image-20210323171058987"></p><p>![image-20210323171920277](/Users/lantian/Library/Application Support/typora-user-images/image-20210323171920277.png)</p><h2 id="ä¸‰ç§åˆå§‹åŒ–"><a href="#ä¸‰ç§åˆå§‹åŒ–" class="headerlink" title="ä¸‰ç§åˆå§‹åŒ–"></a>ä¸‰ç§åˆå§‹åŒ–</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é™æ€åˆå§‹åŒ– ï¼šåˆ›å»º+èµ‹å€¼</span></span><br><span class="line"><span class="keyword">int</span>[] a = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line"><span class="comment">//åŠ¨æ€åˆå§‹åŒ–:åŒ…å«é»˜è®¤åˆå§‹åŒ– intæ˜¯0 booleanæ˜¯falseç­‰</span></span><br><span class="line"><span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">b[<span class="number">0</span>] =<span class="number">10</span>;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹"><a href="#æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹" class="headerlink" title="æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹"></a>æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹</h2><ul><li><p>å…¶é•¿åº¦æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„ä¸€æ—¦è¢«åˆ›å»º,å®ƒçš„å¤§å°å°±æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ã€‚</p></li><li><p>å…¶å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹ä¸å…è®¸å‡ºç°æ··åˆç±»å‹ã€‚</p></li><li><p>æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹,åŒ…æ‹¬åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚</p></li><li><p>æ•°ç»„å˜é‡å±å¼•ç”¨ç±»å‹,æ•°ç»„ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡,æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç›¸å½“äºè¯¥å¯¹è±¡çš„æˆå‘˜å˜</p></li></ul><p>é‡ã€‚</p><p>æ•°ç»„æœ¬èº«å°±æ˜¯å¯¹è±¡,Javaä¸­å¯¹è±¡æ˜¯åœ¨å †ä¸­çš„,å› æ­¤æ•°ç»„æ— è®ºä¿å­˜åŸå§‹ç±»å‹è¿˜æ˜¯å…¶ä»–å¯¹è±¡ç±»å‹,æ•°ç»„å¯¹è±¡æœ¬èº«æ˜¯åœ¨å †ä¸­çš„ã€‚</p><p>æ•°ç»„ä¸‹æ ‡è¶Šç•Œï¼šArrayIndexOutofBounds</p><h2 id="æ•°ç»„ä½¿ç”¨"><a href="#æ•°ç»„ä½¿ç”¨" class="headerlink" title="æ•°ç»„ä½¿ç”¨"></a>æ•°ç»„ä½¿ç”¨</h2><ul><li><p>æ™®é€šçš„Forå¾ªç¯</p></li><li><p>For-Each å¾ªç¯</p></li><li><p>æ•°ç»„åšæ–¹æ³•å…¥å‚</p></li><li><p>æ•°ç»„åšè¿”å›å€¼</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] num = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        print(num);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span>[] a=reverse(num);</span><br><span class="line">        print(a);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//æ•°ç»„å€’è£…</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] reverse(<span class="keyword">int</span>[] a)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[a.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = a.length-<span class="number">1</span>; i &lt; a.length; i++,j--) &#123;</span><br><span class="line">            result[j] = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//æ‰“å°æ•°ç»„å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span>[] a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i:</span><br><span class="line">             a) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h2><p>å¤šç»´æ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„,æ¯”å¦‚äºŒç»´æ•°ç»„å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„,å…¶æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] a = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;;<span class="comment">//æ•°ç»„é‡Œé¢å­˜æ•°ç»„</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210324104921042.png" alt="image-20210324104921042"></p><h2 id="Arraysç±»"><a href="#Arraysç±»" class="headerlink" title="Arraysç±»"></a>Arraysç±»</h2><ul><li><p>æ•°ç»„çš„å·¥å…·ç±» java.util. Arrays</p></li><li><p>ç”±äºæ•°ç»„å¯¹è±¡æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ä¾›æˆ‘ä»¬è°ƒç”¨,ä½†APIä¸­æä¾›äº†ä¸€ä¸ªå·¥å…·ç±» Arraysä¾›æˆ‘ä»¬ä½¿ç”¨,ä»è€Œå¯ä»¥å¯¹æ•°æ®å¯¹è±¡è¿›è¡Œä¸€äº›åŸºæœ¬çš„æ“ä½œã€‚</p></li><li><p>æŸ¥çœ‹JDKå¸®åŠ©æ–‡æ¡£</p></li><li><p>Arraysç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯ staticä¿®é¥°çš„é™æ€æ–¹æ³•,åœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨,è€Œâ€ä¸ç”¨â€ä½¿ç”¨å¯¹è±¡æ¥è°ƒç”¨(æ³¨æ„æ˜¯â€ä¸ç”¨â€è€Œä¸æ˜¯â€ä¸èƒ½â€)</p></li></ul><p>å…·æœ‰ä»¥ä¸‹å¸¸ç”¨åŠŸèƒ½:</p><ul><li><p>ç»™æ•°ç»„èµ‹å€¼:é€šè¿‡fillæ–¹æ³•ã€‚</p></li><li><p>å¯¹æ•°ç»„æ’åº:é€šè¿‡sortæ–¹æ³•æŒ‰å‡åºã€‚</p></li><li><p>æ¯”è¾ƒæ•°ç»„:é€šè¿‡ equalsæ–¹æ³•æ¯”è¾ƒæ•°ç»„ä¸­å…ƒç´ å€¼æ˜¯å¦ç›¸ç­‰</p></li><li><p>æŸ¥æ‰¾æ•°ç»„å…ƒç´ :é€šè¿‡ binarySearchæ–¹æ³•èƒ½å¯¹æ’åºå¥½çš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ³•æ“ä½œã€‚</p></li></ul><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å†’æ³¡æ’åº</span></span><br><span class="line"><span class="comment">//1,æ¯”è¾ƒæ•°ç»„ä¸­,ä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ,å¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å¤§,æˆ‘ä»¬å°±äº¤æ¢ä»–ä»¬çš„ä½ç½®</span></span><br><span class="line"><span class="comment">//2.æ¯ä¸€æ¬¡æ¯”è¾ƒ,éƒ½ä¼šäº§ç”Ÿå‡ºä¸€ä¸ªæœ€å¤§,æˆ–è€…æœ€å°çš„æ•°å­—</span></span><br><span class="line"><span class="comment">//3.ä¸‹ä¸€è½®åˆ™å¯ä»¥å°‘ä¸€æ¬¡æ’åº!</span></span><br><span class="line"><span class="comment">//4.ä¾æ¬¡æ–°ç¯,ç›´åˆ°ç»“æŸ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span>[] i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; i.length-<span class="number">1</span>; a++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> b = <span class="number">0</span>; b &lt; i.length-<span class="number">1</span>-a; b++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i[b]&gt;i[b+<span class="number">1</span>])&#123;</span><br><span class="line">                   flag = i[b];</span><br><span class="line">                   i[b] = i[b+<span class="number">1</span>];</span><br><span class="line">                   i[b+<span class="number">1</span>] = flag;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> a:</span><br><span class="line">             i) &#123;</span><br><span class="line">            System.out.println(a);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="ç¨€ç–æ•°ç»„"><a href="#ç¨€ç–æ•°ç»„" class="headerlink" title="ç¨€ç–æ•°ç»„"></a>ç¨€ç–æ•°ç»„</h2><p>å½“ä¸€ä¸ªæ•°ç»„ä¸­å¤§éƒ¨åˆ†å…ƒç´ ä¸º0,æˆ–è€…ä¸ºåŒä¸€å€¼çš„æ•°ç»„æ—¶,å¯ä»¥ä½¿ç”¨ç¨€ç–æ•°ç»„æ¥ä¿å­˜è¯¥æ•°ç»„ã€‚</p><p>ç¨€ç–æ•°ç»„çš„å¤„ç†æ–¹å¼æ˜¯</p><ul><li><p>è®°å½•æ•°ç»„ä¸€å…±æœ‰å‡ è¡Œå‡ åˆ—,æœ‰å¤šå°‘ä¸ªä¸åŒå€¼</p></li><li><p>æŠŠå…·æœ‰ä¸åŒå€¼çš„å…ƒç´ å’Œè¡Œåˆ—åŠå€¼è®°å½•åœ¨ä¸€ä¸ªå°è§„æ¨¡çš„æ•°ç»„ä¸­,ä»è€Œç¼©å°ç¨‹åºçš„è§„æ¨¡</p></li></ul><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210324143121393.png" alt="image-20210324143121393"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span>[][] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">6</span>][<span class="number">7</span>];</span><br><span class="line">        array[<span class="number">0</span>][<span class="number">3</span>] =<span class="number">22</span>;</span><br><span class="line">        array[<span class="number">0</span>][<span class="number">6</span>] =<span class="number">15</span>;</span><br><span class="line">        array[<span class="number">1</span>][<span class="number">1</span>] =<span class="number">11</span>;</span><br><span class="line">        array[<span class="number">1</span>][<span class="number">5</span>] =<span class="number">17</span>;</span><br><span class="line">        array[<span class="number">2</span>][<span class="number">3</span>] =-<span class="number">6</span>;</span><br><span class="line">        array[<span class="number">3</span>][<span class="number">5</span>] =<span class="number">39</span>;</span><br><span class="line">        array[<span class="number">4</span>][<span class="number">0</span>] =<span class="number">91</span>;</span><br><span class="line">        array[<span class="number">5</span>][<span class="number">2</span>] =<span class="number">28</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å‡ºåŸæ•°ç»„&quot;</span>);</span><br><span class="line">        <span class="comment">//ç”ŸæˆäºŒç»´æ•°ç»„å›¾åƒtoGenerateAnArray</span></span><br><span class="line">        toGenerateAnArray(array);</span><br><span class="line">        <span class="keyword">int</span>[][] result = setSparseArray(array);</span><br><span class="line">        toGenerateAnArray(setSparseArray(array));</span><br><span class="line">        toGenerateAnArray(array(result));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**ç”ŸæˆäºŒç»´æ•°ç»„å›¾åƒ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">toGenerateAnArray</span><span class="params">(<span class="keyword">int</span>[][] array)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j : ints) &#123;</span><br><span class="line">                System.out.print(j + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=============&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†ä¸€èˆ¬æ•°ç»„è½¬æ¢ä¸ºç¨€ç–æ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] setSparseArray(<span class="keyword">int</span>[][] array)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”Ÿæˆç¨€ç–æ•°ç»„&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¡ç®—æœ‰æ•ˆå€¼çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ints.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ints[j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span>[][] result =<span class="keyword">new</span> <span class="keyword">int</span>[count+<span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line">        result [<span class="number">0</span>][<span class="number">0</span>] = array.length;</span><br><span class="line">        result [<span class="number">0</span>][<span class="number">1</span>] = array[<span class="number">0</span>].length;</span><br><span class="line">        result [<span class="number">0</span>][<span class="number">2</span>] = count;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//éå†äºŒç»´æ•°ç»„ã€‚å°†éé›¶çš„å€¼ã€‚å­˜æ”¾ç¨€ç–æ•°ç»„ä¸­</span></span><br><span class="line">        count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array[i].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(array[i][j]!=<span class="number">0</span>)&#123;</span><br><span class="line">                    result[count][<span class="number">0</span>] = i;</span><br><span class="line">                    result[count][<span class="number">1</span>] = j;</span><br><span class="line">                    result[count][<span class="number">2</span>] = array[i][j];</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†ç¨€ç–æ•°ç»„è½¬æ¢ä¸ºä¸€èˆ¬æ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] array(<span class="keyword">int</span>[][] array)&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] result = <span class="keyword">new</span> <span class="keyword">int</span>[array[<span class="number">0</span>][<span class="number">0</span>]][array[<span class="number">0</span>][<span class="number">1</span>]];</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–éƒ½ä¸º0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; result[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                result[i][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å°†ç¨€ç–æ•°ç»„å­˜æ”¾åˆ°äºŒç»´æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> a = array[i][<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> b = array[i][<span class="number">1</span>];</span><br><span class="line">                result[a][b] = array[i][<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h1><p>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æœ¬è´¨å°±æ˜¯:ä»¥ç±»çš„æ–¹å¼ç»„ç»‡ä»£ç ,ä»¥å¯¹è±¡çš„ç»„ç»‡(å°è£…)æ•°æ®ã€‚</p><p>æŠ½è±¡</p><p>ä¸‰å¤§ç‰¹æ€§</p><ul><li><p>å°è£…</p></li><li><p>ç»§æ‰¿</p></li><li><p>å¤šæ€</p></li></ul><p>ä»è®¤è¯†è®ºè§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰å¯¹è±¡åæœ‰ç±»ã€‚å¯¹è±¡,æ˜¯å…·ä½“çš„äº‹ç‰©ã€‚ç±»,æ˜¯æŠ½è±¡çš„,æ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡</p><p>ä»ä»£ç è¿è¡Œè§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰ç±»åæœ‰å¯¹è±¡ã€‚ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ã€‚</p><h2 id="å›é¡¾æ–¹æ³•çš„è°ƒç”¨"><a href="#å›é¡¾æ–¹æ³•çš„è°ƒç”¨" class="headerlink" title="å›é¡¾æ–¹æ³•çš„è°ƒç”¨"></a>å›é¡¾æ–¹æ³•çš„è°ƒç”¨</h2><p>é™æ€æ–¹æ³•ï¼ˆstaticï¼‰å¯ä»¥ç›´æ¥è°ƒç”¨</p><p>éé™æ€æ–¹æ³•éœ€è¦å®ä¾‹åŒ–ï¼ˆnewï¼‰åä½¿ç”¨</p><p>åŸå› ï¼šé™æ€æ–¹æ³•å’Œç±»ä¸€èµ·åŠ è½½çš„ï¼Œéé™æ€æ–¹æ³•å®ä¾‹åŒ–ååŠ è½½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">//b();</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">b</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        a(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//1,2å®å‚</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">(<span class="keyword">int</span>... i)</span></span>&#123;&#125;<span class="comment">//iå½¢</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å€¼ä¼ é€’</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">    System.out.println(a);<span class="comment">//1</span></span><br><span class="line">    Demo02.change(a);</span><br><span class="line">    System.out.println(a);<span class="comment">//1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    a = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å¼•ç”¨ä¼ é€’ï¼š å¯¹è±¡ï¼Œæœ¬è´¨è¿˜æ˜¯å€¼ä¼ é€’</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person=<span class="keyword">new</span> Person();</span><br><span class="line">        System.out.println(person.age);<span class="comment">//0</span></span><br><span class="line">        change(person);</span><br><span class="line">        System.out.println(person.age);<span class="comment">//10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(Person object)</span></span>&#123;</span><br><span class="line">        object.age = <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ"><a href="#åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ" class="headerlink" title="åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ"></a>åˆ›å»ºå¯¹è±¡å†…å­˜åˆ†æ</h2><p>![image-20210324185819726](/Users/lantian/Library/Application Support/typora-user-images/image-20210324185819726.png)</p><h2 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h2><p>æˆ‘ä»¬ç¨‹åºè®¾è®¡è¦è¿½æ±‚â€œé«˜å…§èš,ä½è€¦åˆâ€ã€‚é«˜å†…èšå°±æ˜¯ç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚è‡ªå·±å®Œæˆ,ä¸å…è®¸å¤–éƒ¨å¹²æ¶‰;ä½è€¦åˆ:ä»…æš´éœ²å°‘é‡çš„æ–¹æ³•ç»™å¤–éƒ¨ä½¿ç”¨ã€‚</p><p>å°è£…(æ•°æ®çš„éšè—)</p><ul><li>é€šå¸¸,åº”ç¦æ­¢ç›´æ¥è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸­æ•°æ®çš„å®é™…è¡¨ç¤º,è€Œåº”é€šè¿‡æ“ä½œæ¥å£æ¥è®¿é—®,è¿™ç§°ä¸ºä¿¡æ¯éšè—</li></ul><p>è®°ä½è¿™å¥è¯å°±å¤Ÿäº†:==å±æ€§ç§æœ‰ï¼ˆprivateï¼‰,get/set==</p><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>ç»§æ‰¿çš„æœ¬è´¨æ˜¯å¯¹æŸä¸€æ‰¹ç±»çš„æŠ½è±¡,ä»è€Œå®ç°å¯¹ç°å®ä¸–ç•Œæ›´å¥½çš„å»ºæ¨¡ã€‚</p><p>JAVAä¸­ç±»åªæœ‰å•ç»§æ‰¿,æ²¡æœ‰å¤šç»§æ‰¿!</p><ul><li><p>ç»§æ‰¿æ˜¯ç±»å’Œç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»ã€‚é™¤æ­¤ä¹‹å¤–ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»è¿˜æœ‰ä¾èµ–ã€ç»„åˆã€èšåˆç­‰ã€‚</p></li><li><p>ç»§æ‰¿å…³ç³»çš„ä¿©ä¸ªç±»,ä¸€ä¸ªä¸ºå­ç±»æ´¾ç”Ÿç±»,ä¸€ä¸ªä¸ºçˆ¶ç±»(åŸºç±»)ã€‚å­ç±»ç»§æ‰¿çˆ¶ç±»ä½¿ç”¨å…³é”®å­— extendsæ¥è¡¨ç¤º</p></li><li><p>å­ç±»å’Œçˆ¶ç±»ä¹‹é—´ä»æ„ä¹‰ä¸Šè®²åº”è¯¥å…·æœ‰â€is aâ€çš„å…³ç³»</p></li></ul><ul><li><p>objectç±»</p></li><li><p>super</p></li><li><p>æ–¹æ³•é‡å†™</p></li></ul><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210324194956584.png" alt="image-20210324194956584"></p><p>superæ³¨æ„ç‚¹ï¼š</p><ul><li><p>superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•,å¿…é¡»åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€ä¸ª</p></li><li><p>superå¿…é¡»åªèƒ½å‡ºç°åœ¨å­ç±»çš„æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•ä¸­!</p></li><li><p>superå’Œthisä¸èƒ½åŒæ—¶è°ƒç”¨æ„é€ æ–¹æ³•!</p></li></ul><p>thisï¼š</p><p>ä»£è¡¨çš„å¯¹è±¡ä¸åŒ:<br>                this:æœ¬èº«è°ƒç”¨è€…è¿™ä¸ªå¯¹è±¡<br>                super:ä»£è¡¨çˆ¶ç±»å¯¹è±¡çš„åº”ç”¨</p><p>å‰æ</p><p>â€‹        this:æ²¡æœ‰ç»§æ‰¿ä¹Ÿå¯ä»¥ä½¿ç”¨</p><p>â€‹        super:åªèƒ½åœ¨ç»§æ‰¿æ¡ä»¶æ‰å¯ä»¥ä½¿ç”¨</p><p>æ„é€ æ–¹æ³•</p><p>â€‹        this();æœ¬ç±»çš„æ„é€ </p><p>â€‹        super():çˆ¶ç±»çš„æ„é€ !</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.tree;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lantian</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">double</span> weight = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//control +å›è½¦</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Father</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;fatheræ„é€ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Father</span><span class="params">(<span class="keyword">double</span> weight)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getWeight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setWeight</span><span class="params">(<span class="keyword">double</span> weight)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (weight&gt;<span class="number">200</span>||weight&lt;<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸æ˜¯äººå¤ªé‡äº†&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.weight = weight;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.tree;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lantian</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Father</span></span>&#123;</span><br><span class="line"><span class="comment">//control +H</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> weight = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Child</span><span class="params">(<span class="keyword">double</span> weight)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Child</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//éšè—ä»£ç ï¼Œè°ƒç”¨äº†çˆ¶ç±»çš„æ— å‚æ„é€ </span></span><br><span class="line">        <span class="keyword">super</span>();<span class="comment">//è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå¿…é¡»åœ¨å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€è¡Œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;childæ„é€ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">double</span> weight)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;---------&quot;</span>);</span><br><span class="line">        System.out.println(weight);</span><br><span class="line">        <span class="comment">//thisï¼Œsuper</span></span><br><span class="line">        System.out.println(<span class="keyword">this</span>.weight);</span><br><span class="line">        <span class="comment">//ä¿®é¥°ç¬¦èŒƒå›´</span></span><br><span class="line">        System.out.println(<span class="keyword">super</span>.weight);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.tree;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lantian</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Child child = <span class="keyword">new</span> Child();</span><br><span class="line">      <span class="comment">/*è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">      fatheræ„é€ </span></span><br><span class="line"><span class="comment">childæ„é€ */</span></span><br><span class="line">      </span><br><span class="line">        child.setWeight(<span class="number">99</span>);</span><br><span class="line">        System.out.println(child.getWeight());<span class="comment">//è¾“å‡ºï¼š99.0</span></span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">        child.test(<span class="number">1</span>);</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">      è¾“å‡ºï¼š1.0</span></span><br><span class="line"><span class="comment">      10.0</span></span><br><span class="line"><span class="comment">      99.0*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é‡å†™"><a href="#é‡å†™" class="headerlink" title="é‡å†™"></a>é‡å†™</h2><p>é‡å†™:éœ€è¦æœ‰ç»§æ‰¿å…³ç³»,å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•</p><ol><li><p>æ–¹æ³•åå¿…é¡»ç›¸åŒ</p></li><li><p>å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ</p></li><li><p>ä¿®é¥°ç¬¦:èŒƒå›´å¯ä»¥æ‰©å¤§ä½†ä¸èƒ½ç¼©å° Public&gt;Protected&gt;Default&gt;Private</p></li><li><p>æŠ›å‡ºçš„å¼‚å¸¸:èŒƒå›´,å¯ä»¥è¢«ç¼©å°,ä½†ä¸èƒ½æ‰©å¤§. ClassNotFoundExceptionâ€“&gt;Exception(å¤§)</p></li></ol><p>é‡å†™,å­ç±»çš„æ–¹æ³•å’Œçˆ¶ç±»å¿…è¦ä¸€è‡´:æ–¹æ³•ä½“ä¸åŒ!</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.reWrite;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡å†™éƒ½æ˜¯æ–¹æ³•çš„é‡å†™ï¼Œå’Œå±æ€§æ— å…³</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;BBBBB&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testStatic</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;BBBBB&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.reWrite;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span> <span class="comment">//æ³¨è§£ï¼šæœ‰åŠŸèƒ½çš„æ³¨é‡Š</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AAAAA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testStatic</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AAAAA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.reWrite;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//é™æ€æ–¹æ³•çš„è°ƒç”¨åªå’Œå·¦è¾¹ï¼Œå®šä¹‰çš„æ•°æ®ç±»å‹æœ‰å…³</span></span><br><span class="line">        <span class="comment">//ï¼ˆé™æ€å±äºç±»ï¼Œä¸€åŠ è½½å°±å­˜åœ¨ã€‚éé™æ€å±äºå¯¹è±¡ï¼Œå®ä¾‹åŒ–åç”Ÿæˆï¼‰</span></span><br><span class="line">        <span class="comment">//éé™æ€ï¼šé‡å†™</span></span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        a.test();<span class="comment">//AAAAA</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»</span></span><br><span class="line">        B b = <span class="keyword">new</span> A();<span class="comment">//å­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        b.test();<span class="comment">//AAAAA</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//é™æ€æ–¹æ³•å’Œéé™æ€æ–¹æ³•åŒºåˆ«å¾ˆå¤§</span></span><br><span class="line">        A.testStatic();<span class="comment">//AAAAA</span></span><br><span class="line">        B.testStatic();<span class="comment">//BBBBB</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><p>==é€šè¿‡ä¸€ä¸ªå˜é‡å»è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬åªæ˜¯å†™äº†è¿™ä¹ˆä¸€å¥è¯ï¼Œæˆ‘ä»¬å¹¶ä¸å»åˆ¤æ–­å˜é‡å®é™…çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œä¸éœ€è¦å†™switchcaseï¼Œä¸éœ€è¦ifelseï¼Œåªè¦è¯´person.run() åªè¦è¯´person.norun()å¯¹åº”çš„å‡½æ•°å°±ä¼šè¢«è°ƒç”¨å‡ºæ¥ è¿™ä»¶äº‹å°±å«åšå¤šæ€ã€‚==</p><p>å³åŒä¸€æ–¹æ³•å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡ç”¨å¤šç§ä¸åŒçš„è¡Œä¸ºæ–¹å¼</p><p>ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„,ä½†å¯ä»¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨çš„ç±»å‹æœ‰å¾ˆå¤šï¼ˆçˆ¶ç±»ï¼Œæœ‰å…³ç³»çš„ç±»ï¼‰</p><p>å¤šæ€æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€,å±æ€§æ²¡æœ‰å¤šæ€</p></li><li><p>çˆ¶ç±»å’Œå­ç±»,æœ‰è”ç³»           ç±»å‹è½¬æ¢å¼‚å¸¸! CLassCastException</p></li><li><p>å­˜åœ¨æ¡ä»¶:ç»§æ‰¿å…³ç³»,æ–¹æ³•éœ€è¦é‡å†™,çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡! </p></li></ul><p>  å“ªäº›ä¸å­˜åœ¨å¤šæ€ï¼š</p><ol><li>staticæ–¹æ³•,å±äºç±»,å®ƒä¸å±äºå®ä¾‹</li><li>fina å¸¸é‡</li><li>private ç§æœ‰æ–¹æ³•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.Polymorphism;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ç»§æ‰¿æˆ‘çš„run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">norun</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç»§æ‰¿æˆ‘çš„norun&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.Polymorphism;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ•™å¸ˆé‡å†™run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">norun</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ•™å¸ˆé‡å†™norun&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.Polymorphism;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿé‡å†™run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿeatç‹¬æœ‰&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> oop.Polymorphism;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„</span></span><br><span class="line">        <span class="comment">//new Student();</span></span><br><span class="line">        <span class="comment">//new Person();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¯ä»¥æŒ‡å‘çš„å¼•ç”¨ç±»å‹å°±ä¸ç¡®å®šäº†ï¼›çˆ¶ç±»çš„å¼•ç”¨å¯ä»¥æŒ‡å‘å­ç±»</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Student èƒ½è°ƒç”¨çš„æ–¹æ³•éƒ½æ˜¯è‡ªå·±çš„æˆ–è€…ç»§æ‰¿çˆ¶ç±»çš„</span></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        Teacher teacher = <span class="keyword">new</span> Teacher();</span><br><span class="line">        <span class="comment">//Person çˆ¶ç±»å‹ï¼Œå¯ä»¥æŒ‡å‘å­ç±»ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨å­ç±»ç‹¬æœ‰çš„æ–¹æ³•</span></span><br><span class="line">        Person personStu = <span class="keyword">new</span> Student();</span><br><span class="line">        Person personTea = <span class="keyword">new</span> Teacher();</span><br><span class="line">        Object object = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        personStu.run();<span class="comment">//å­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ‰§è¡Œå­ç±»çš„æ–¹æ³•</span></span><br><span class="line">        student.run();</span><br><span class="line">        teacher.run();</span><br><span class="line"></span><br><span class="line">        personStu.norun();<span class="comment">//å­ç±»ä¸é‡å†™ï¼Œåªç»§æ‰¿ï¼Œæ‰§è¡Œçˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        student.norun();</span><br><span class="line">        teacher.norun();</span><br><span class="line"></span><br><span class="line">        ((Student)personStu).eat();<span class="comment">//person.eat() å£°æ˜ç±»å‹ä¸­æ²¡æœ‰eat()æ–¹æ³•ï¼ŒåŠ¨æ€ç±»å‹ï¼ˆstudentï¼‰ä¸­å­˜åœ¨eat()æ–¹æ³•</span></span><br><span class="line">        student.eat();</span><br><span class="line">        System.out.println(<span class="string">&quot;------------&quot;</span>);</span><br><span class="line">        <span class="comment">//åº”ç”¨åœºæ™¯  å¤šæ€æ˜¯åŒä¸€ä¸ªæ¥å£ï¼Œä½¿ç”¨ä¸åŒçš„å®ä¾‹è€Œæ‰§è¡Œä¸åŒæ“ä½œ</span></span><br><span class="line">        <span class="comment">//é€šè¿‡ä¸€ä¸ªå˜é‡å»è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬åªæ˜¯å†™äº†è¿™ä¹ˆä¸€å¥è¯ï¼Œæˆ‘ä»¬å¹¶ä¸å»åˆ¤æ–­å˜é‡å®é™…çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œä¸éœ€è¦å†™switchcaseï¼Œä¸éœ€è¦ifelseï¼Œåªè¦è¯´person.run() åªè¦è¯´person.norun()å¯¹åº”çš„å‡½æ•°å°±ä¼šè¢«è°ƒç”¨å‡ºæ¥ è¿™ä»¶äº‹å°±å«åšå¤šæ€</span></span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¸­å£°æ˜çš„æ˜¯Personçš„é™æ€å˜é‡ï¼Œä½†æ‰§è¡Œæ—¶ä¼šä½¿ç”¨å–åˆ°çš„åŠ¨æ€ç±»å‹ï¼ˆå–åˆ°ä»€ä¹ˆç±»å‹æ‰§è¡Œä»€ä¹ˆç±»å‹ï¼‰</span></span><br><span class="line">        use(personStu);<span class="comment">//å­¦ç”Ÿé‡å†™run</span></span><br><span class="line">        use(personTea);<span class="comment">//æ•™å¸ˆé‡å†™run</span></span><br><span class="line">        use(student);<span class="comment">//å­¦ç”Ÿé‡å†™run</span></span><br><span class="line">        use(teacher);<span class="comment">//æ•™å¸ˆé‡å†™run</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">use</span><span class="params">(Person person)</span></span>&#123;</span><br><span class="line">        person.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>instanceof æè¿°ï¼šinstanceof é€šè¿‡è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥æŒ‡å‡ºï¼ŒæŸä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç‰¹å®šç±»æˆ–è€…æ˜¯è¯¥ç‰¹å®šç±»çš„å­ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚</p><p>result = object instanceof class</p><p>å‚æ•°ï¼š</p><p>â€ƒResultï¼šå¸ƒå°”ç±»å‹ã€‚</p><p>â€ƒObjectï¼šå¿…é€‰é¡¹ã€‚ä»»æ„å¯¹è±¡è¡¨è¾¾å¼ã€‚</p><p>â€ƒClassï¼šå¿…é€‰é¡¹ã€‚ä»»æ„å·²å®šä¹‰çš„å¯¹è±¡ç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Object object = <span class="keyword">new</span> Student();</span><br><span class="line">    Person person = <span class="keyword">new</span> Student();</span><br><span class="line">    Student student = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//System.out.println(X instanceof Y);èƒ½ä¸èƒ½ç¼–è¯‘é€šè¿‡ XYæ˜¯å¦å­˜åœ¨çˆ¶å­å…³ç³»ï½œXæ˜¯Yçš„å­ç±»æˆ–æœ¬èº«çš„å®ä¾‹ true å¦åˆ™æ˜¯false</span></span><br><span class="line">    System.out.println(object <span class="keyword">instanceof</span> Student);<span class="comment">//true</span></span><br><span class="line">    System.out.println(object <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line">    System.out.println(object <span class="keyword">instanceof</span> Object);<span class="comment">//true</span></span><br><span class="line">    System.out.println(object <span class="keyword">instanceof</span> Teacher);<span class="comment">//false</span></span><br><span class="line">    System.out.println(object <span class="keyword">instanceof</span> String);<span class="comment">//false</span></span><br><span class="line">    System.out.println(person <span class="keyword">instanceof</span> Student);<span class="comment">//true</span></span><br><span class="line">    System.out.println(person <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line">    System.out.println(person <span class="keyword">instanceof</span> Object);<span class="comment">//true</span></span><br><span class="line">    System.out.println(person <span class="keyword">instanceof</span> Teacher);<span class="comment">//false</span></span><br><span class="line">    System.out.println(person <span class="keyword">instanceof</span> String);<span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    System.out.println(student <span class="keyword">instanceof</span> Student);<span class="comment">//true</span></span><br><span class="line">    System.out.println(student <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line">    System.out.println(student <span class="keyword">instanceof</span> Object);<span class="comment">//true</span></span><br><span class="line">    System.out.println(student <span class="keyword">instanceof</span> Teacher);<span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    System.out.println(student <span class="keyword">instanceof</span> String);<span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>å‘ä¸Šè½¬å‹ å‘ä¸‹è½¬å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person obj = <span class="keyword">new</span> Student();<span class="comment">//å‘ä¸Šè½¬å‹ å¯èƒ½ä¸¢å¤±è‡ªå·±æœ¬æ¥çš„ä¸€äº›æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">((Student)obj).eat();<span class="comment">//==obj.eat() |å£°æ˜ç±»å‹(Person)ä¸­æ²¡æœ‰eat()æ–¹æ³•ï¼ŒåŠ¨æ€ç±»å‹ï¼ˆstudentï¼‰ä¸­å­˜åœ¨eat()æ–¹æ³•,éœ€è¦å‘ä¸‹è½¬å‹</span></span><br></pre></td></tr></table></figure><p>static </p><ul><li><p>é™æ€å±æ€§å’Œæ–¹æ³•å’Œç±»ä¸€èµ·ç”Ÿæˆï¼Œå’Œç±»ä¸€èµ·ä½¿ç”¨ </p></li><li><p>éé™æ€å±æ€§å’Œæ–¹æ³•å’Œå®ä¾‹ä¸€èµ·ç”Ÿæˆï¼Œå’Œå®ä¾‹ä¸€èµ·ä½¿ç”¨ </p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    é™æ€ä»£ç å—</span></span><br><span class="line"><span class="comment">    åŒ¿åä»£ç å—</span></span><br><span class="line"><span class="comment">    æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ„é€ æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åŒ¿åä»£ç å—&quot;</span>);<span class="comment">//æ„é€ æ–¹æ³•å‰ï¼Œå¯ä»¥èµ‹åˆå§‹å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é™æ€ä»£ç å—&quot;</span>);<span class="comment">//å’Œç±»ä¸€èµ·åˆ›å»ºï¼Œåªæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é™æ€å¯¼å…¥åŒ…</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.random;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.PI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(random());</span><br><span class="line">        System.out.println(PI);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h2><ul><li><p>æŠ½è±¡ç±»ä¸èƒ½new,åªèƒ½é å­ç±»å»å®ç°å®ƒ; ç›¸å½“äºæ˜¯çº¦æŸ</p></li><li><p>æŠ½è±¡ç±»ä¸­å¯ä»¥å†™æ™®é€šçš„æ–¹æ³•</p></li><li><p>æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//abstractæŠ½è±¡ç±» extends å•ç»§æ‰¿ ï¼ˆæ¥å£å¯ä»¥å¤šç»§æ‰¿ï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//çº¦æŸ æœ‰äººå¸®æˆ‘ä»¬å®ç°</span></span><br><span class="line">    <span class="comment">//abstract æŠ½è±¡æ–¹æ³•ï¼Œåªæœ‰æ–¹æ³•åå­—</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">abTest</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ½è±¡ç±»çš„æ‰€æœ‰æ–¹æ³•,ç»§æ‰¿äº†å®ƒçš„å­ç±»,éƒ½å¿…é¡»è¦å®ç°å®ƒçš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">Action</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">abTest</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><ul><li>æ™®é€šç±»:åªæœ‰å…·ä½“å®ç°</li><li>æŠ½è±¡ç±»:å…·ä½“å®ç°å’Œè§„èŒƒ(æŠ½è±¡æ–¹æ³•)éƒ½æœ‰!</li><li>æ¥å£:åªæœ‰è§„èŒƒ!</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//interface å®šä¹‰çš„å…³é”®å­— æ¥å£éƒ½éœ€è¦æœ‰å®ç°ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="comment">//æ¥å£ä¸­çš„å±æ€§é»˜è®¤é™æ€å¸¸é‡public static final</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> i = <span class="number">99</span>;</span><br><span class="line">    <span class="comment">//æ¥å£ä¸­çš„æ–¹æ³•æ‰€æœ‰å®šä¹‰å…¶å®éƒ½æ˜¯æŠ½è±¡çš„ public abstract</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">run</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Man</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonImpl</span> <span class="keyword">implements</span> <span class="title">Person</span>,<span class="title">Man</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æŠ½è±¡ç±»: extends~</span></span><br><span class="line"><span class="comment">ç±»å¯ä»¥å®ç°æ¥å£ impLements æ¥å£</span></span><br><span class="line"><span class="comment">å®ç°äº†æ¥å£çš„ç±»,å°±éœ€è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">å¤šç»§æ‰¿~åˆ©ç”¨æ¥å£å®ç°å¤šç»§æ‰¿</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">run</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h2><p>æˆå‘˜å†…éƒ¨ç±»/é™æ€å†…éƒ¨ç±» static</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™æ˜¯å¤–éƒ¨ç±»æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Inner</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span>  <span class="title">in</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿™æ˜¯å†…éƒ¨ç±»çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å¾—å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getId</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner2</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span>  <span class="title">in</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿™æ˜¯é™æ€å†…éƒ¨ç±»çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">iin</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;iin&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//å¤–éƒ¨ç±»å®ä¾‹åŒ– new</span></span><br><span class="line">        Outer outer = <span class="keyword">new</span> Outer();</span><br><span class="line">        outer.out();</span><br><span class="line">        <span class="comment">//å†…éƒ¨ç±»å®ä¾‹åŒ– é€šè¿‡å¤–éƒ¨ç±»å®ä¾‹åŒ–newä¸€ä¸ªç±»</span></span><br><span class="line">        Outer.Inner inner = outer.<span class="function">new <span class="title">Inner</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">        inner.in();</span><br><span class="line">        inner.getId();</span><br><span class="line">        <span class="comment">//é™æ€å†…éƒ¨ç±»çš„é™æ€æ–¹æ³•</span></span><br><span class="line">        Outer.Inner2.in();</span><br><span class="line">        <span class="comment">//é™æ€å†…éƒ¨ç±»çš„ä¸€èˆ¬æ–¹æ³•</span></span><br><span class="line">        Outer.Inner2 inner2 = <span class="keyword">new</span> Outer.Inner2();</span><br><span class="line">        inner2.iin();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h1>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;JavaSE&quot;&gt;&lt;a href=&quot;#JavaSE&quot; class=&quot;headerlink&quot; title=&quot;JavaSE&quot;&gt;&lt;/a&gt;JavaSE&lt;/h1&gt;&lt;h2 id=&quot;ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹&quot;&gt;&lt;a href=&quot;#ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹&quot;&gt;&lt;/a&gt;ç¼–è¯‘å‹ï¼Œè§£é‡Šå‹&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘å‹ï¼šæŠŠæ•´ä¸ªæ–‡ä»¶è¿›è¡Œç¿»è¯‘åä½¿ç”¨&lt;/li&gt;
&lt;li&gt;è§£é‡Šå‹ï¼šæŠŠæ–‡ä»¶ç¿»è¯‘ä¸€æ®µä½¿ç”¨ä¸€æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;javaä¸¤è€…é›†æˆï¼Œç°å°†javaæ–‡ä»¶ç¿»è¯‘æˆclassæ–‡ä»¶ï¼Œä¹‹åé€šè¿‡è§£é‡Šå™¨è¿›è¡Œä½¿ç”¨&lt;/p&gt;
&lt;h2 id=&quot;æ ‡è¯†ç¬¦-å…³é”®å­—&quot;&gt;&lt;a href=&quot;#æ ‡è¯†ç¬¦-å…³é”®å­—&quot; class=&quot;headerlink&quot; title=&quot;æ ‡è¯†ç¬¦ å…³é”®å­—&quot;&gt;&lt;/a&gt;æ ‡è¯†ç¬¦ å…³é”®å­—&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210321210643933.png&quot; alt=&quot;image-20210321210643933&quot;&gt;&lt;/p&gt;
&lt;p&gt;Javaæ‰€æœ‰çš„ç»„æˆéƒ¨åˆ†éƒ½éœ€è¦åå­—ã€‚ç±»åï¼Œå˜é‡åä»¥åŠæ–¹æ³•åéƒ½è¢«ç§°ä¸º==æ ‡è¯†ç¬¦==&lt;/p&gt;
&lt;h2 id=&quot;æ•°æ®ç±»å‹&quot;&gt;&lt;a href=&quot;#æ•°æ®ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®ç±»å‹&quot;&gt;&lt;/a&gt;æ•°æ®ç±»å‹&lt;/h2&gt;&lt;p&gt;å¼ºç±»å‹è¯­è¨€&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    - è¦æ±‚å˜é‡çš„ä½¿ç”¨è¦ä¸¥æ ¼ç¬¦åˆè§„å®šï¼Œæ‰€æœ‰å˜é‡éƒ½å¿…é¡»å…ˆå®šä¹‰åæ‰èƒ½ä½¿ç”¨&lt;/code&gt;&lt;/pre&gt;</summary>
    
    
    
    
    <category term="JavaSE" scheme="http://example.com/tags/JavaSE/"/>
    
  </entry>
  
  <entry>
    <title>linux&amp;shell</title>
    <link href="http://example.com/posts/e16862ec/"/>
    <id>http://example.com/posts/e16862ec/</id>
    <published>2021-01-05T05:37:13.000Z</published>
    <updated>2021-01-05T05:38:11.680Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Shell-æ¦‚è¿°"><a href="#Shell-æ¦‚è¿°" class="headerlink" title="Shell æ¦‚è¿°"></a>Shell æ¦‚è¿°</h1><p>Shell æ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå®ƒæ˜¯ç”¨æˆ·ä½¿ç”¨ Linux çš„æ¡¥æ¢ã€‚Shell æ—¢æ˜¯ä¸€ç§å‘½ä»¤è¯­è¨€ï¼Œåˆæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚</p><p>Shell æ˜¯æŒ‡ä¸€ç§åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡è¿™ä¸ªç•Œé¢è®¿é—®æ“ä½œç³»ç»Ÿå†…æ ¸çš„æœåŠ¡ã€‚</p><h2 id="Shell-ç¯å¢ƒ"><a href="#Shell-ç¯å¢ƒ" class="headerlink" title="Shell ç¯å¢ƒ"></a>Shell ç¯å¢ƒ</h2><p>Shell ç¼–ç¨‹è·Ÿ JavaScriptã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚</p><p>Linux çš„ Shell ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š</p><ul><li>Bourne Shellï¼ˆ/usr/bin/shæˆ–/bin/shï¼‰</li><li>Bourne Again Shellï¼ˆ/bin/bashï¼‰</li><li>C Shellï¼ˆ/usr/bin/cshï¼‰</li><li>K Shellï¼ˆ/usr/bin/kshï¼‰</li><li>Shell for Rootï¼ˆ/sbin/shï¼‰</li><li>â€¦â€¦</li></ul><p>æœ¬æ•™ç¨‹å…³æ³¨çš„æ˜¯ Bashï¼Œä¹Ÿå°±æ˜¯ Bourne Again Shellï¼Œç”±äºæ˜“ç”¨å’Œå…è´¹ï¼ŒBash åœ¨æ—¥å¸¸å·¥ä½œä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚åŒæ—¶ï¼ŒBash ä¹Ÿæ˜¯å¤§å¤šæ•°Linux ç³»ç»Ÿé»˜è®¤çš„ Shellã€‚</p><p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä»¬å¹¶ä¸åŒºåˆ† Bourne Shell å’Œ Bourne Again Shellï¼Œæ‰€ä»¥ï¼Œåƒ <strong><em>\</em>#!/bin/sh**</strong>ï¼Œå®ƒåŒæ ·ä¹Ÿå¯ä»¥æ”¹ä¸º <strong><em>\</em>#!/bin/bash**</strong>ã€‚</p><p><strong><em>\</em>#!**</strong> å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell ç¨‹åºã€‚</p><p>1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim test.sh                           ç”Ÿæˆshell</span><br></pre></td></tr></table></figure><p>2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat test.sh </span><br></pre></td></tr></table></figure><p>3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash                                               ä»¥&#x2F;bin&#x2F;bash æ‰§è¡Œ</span><br></pre></td></tr></table></figure><p>4</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello!&quot;</span><br></pre></td></tr></table></figure><p>5</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# .&#x2F;test.sh</span><br></pre></td></tr></table></figure><p>6</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-bash: .&#x2F;test.sh: æƒé™ä¸å¤Ÿ</span><br></pre></td></tr></table></figure><p>7</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chmod +x test.sh                      ç”Ÿæˆçš„shelléœ€è¦æˆæƒ</span><br></pre></td></tr></table></figure><p>8</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# .&#x2F;test.sh                             æ‰§è¡Œ</span><br></pre></td></tr></table></figure><p>9</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello!</span><br></pre></td></tr></table></figure><p>10</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# &#x2F;bin&#x2F;sh test.sh                       ä»¥&#x2F;bin&#x2F;sh æ‰§è¡Œ</span><br></pre></td></tr></table></figure><p>11</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello!</span><br></pre></td></tr></table></figure><h1 id="linuxå¸¸ç”¨å‘½ä»¤-æ–‡ä»¶ï¼Œç½‘ç»œï¼Œæ€§èƒ½"><a href="#linuxå¸¸ç”¨å‘½ä»¤-æ–‡ä»¶ï¼Œç½‘ç»œï¼Œæ€§èƒ½" class="headerlink" title="linuxå¸¸ç”¨å‘½ä»¤ æ–‡ä»¶ï¼Œç½‘ç»œï¼Œæ€§èƒ½"></a>linuxå¸¸ç”¨å‘½ä»¤ æ–‡ä»¶ï¼Œç½‘ç»œï¼Œæ€§èƒ½</h1><p><img src="file:///Users/lantian/Library/Application%20Support/typora-user-images/image-20210104212954204.png?lastModify=1609825049" alt="image-20210104212954204"></p><h2 id="ä¿®æ”¹æ–‡ä»¶å±æ€§"><a href="#ä¿®æ”¹æ–‡ä»¶å±æ€§" class="headerlink" title="ä¿®æ”¹æ–‡ä»¶å±æ€§"></a>ä¿®æ”¹æ–‡ä»¶å±æ€§</h2><p>r è¯»æƒé™ read 4</p><p>w å†™æƒé™ Write 2</p><p>â…¹ æ“ä½œæƒé™ execute 1</p><p>chmod 777 test,ä¿®æ”¹testæ–‡ä»¶å±æ€§</p><p>777ä»£è¡¨ï¼šæ‹¥æœ‰è€…7  æ‰€å±ç»„7 å…¶ä»–äºº7  </p><p>7ä»£è¡¨ï¼šr+w+x=4+2+1å¯è¯»å¯å†™å¯æ‰§è¡Œ</p><p>1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -l                               æŸ¥çœ‹æ–‡ä»¶å±æ€§</span><br></pre></td></tr></table></figure><p>2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ€»ç”¨é‡ 71940</span><br></pre></td></tr></table></figure><p>3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rwxr-xr-x. 1 root root 26 1æœˆ   4 21:15 test.sh</span><br></pre></td></tr></table></figure><p>4</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chmod 777 test.sh                   ä¿®æ”¹æ–‡ä»¶å±æ€§</span><br></pre></td></tr></table></figure><p>5</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -ld test.sh                      æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶å±æ€§</span><br></pre></td></tr></table></figure><p>6</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rwxrwxrwx. 1 root root 26 1æœˆ   4 21:15 test.sh</span><br></pre></td></tr></table></figure><h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><p> ping:æµ‹è¯•ç½‘ç»œè¿æ¥æƒ…å†µ</p><p>-c pingçš„æ¬¡æ•°</p><p>-l æ¯æ¬¡pingçš„æ—¶é—´é—´éš”</p><p>netstat:æ‰“å°linuxç½‘ç»œç³»ç»Ÿçš„çŠ¶æ€ä¿¡æ¯</p><p>-t åˆ—å‡ºæ‰€æœ‰tcp</p><p>-u åˆ—å‡ºæ‰€æœ‰udp</p><p>-l åªæ˜¾ç¤ºç›‘å¬ç«¯å£</p><p>-n ä»¥æ•°å­—å½¢å¼æ˜¾ç¤ºåœ°å€å’Œç«¯å£å·</p><p>-p æ˜¾ç¤ºè¿›ç¨‹çš„pidå’Œåå­—</p><h2 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h2><p>top:æŒç»­ç›‘è§†ç³»ç»Ÿæ€§èƒ½</p><p>ps:æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯</p><p>â€‹    -auxæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹,åŒ…æ‹¬ç”¨æˆ·,åˆ†ç»„æƒ…å†µ</p><h1 id="linuxä¸‰å‰‘å®¢ä¸ç®¡é“ä½¿ç”¨"><a href="#linuxä¸‰å‰‘å®¢ä¸ç®¡é“ä½¿ç”¨" class="headerlink" title="linuxä¸‰å‰‘å®¢ä¸ç®¡é“ä½¿ç”¨"></a>linuxä¸‰å‰‘å®¢ä¸ç®¡é“ä½¿ç”¨</h1><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210104215105627.png" alt="image-20210104215105627"></p><h2 id="ä»€ä¹ˆæ˜¯ç®¡é“"><a href="#ä»€ä¹ˆæ˜¯ç®¡é“" class="headerlink" title="ä»€ä¹ˆæ˜¯ç®¡é“?"></a>ä»€ä¹ˆæ˜¯ç®¡é“?</h2><p>linuxæä¾›ç®¡é“ç¬¦ï½œå°†ä¸¤ä¸ªå‘½ä»¤éš”å¼€,ç®¡é“ç¬¦å·¦è¾¹å‘½ä»¤çš„è¾“å‡ºå°±ä¼šä½œä¸ºç®¡é“ç¬¦å³è¾¹å‘½ä»¤çš„è¾“å…¥</p><h2 id="ä»€ä¹ˆæ˜¯æ­£åˆ™"><a href="#ä»€ä¹ˆæ˜¯æ­£åˆ™" class="headerlink" title="ä»€ä¹ˆæ˜¯æ­£åˆ™?"></a>ä»€ä¹ˆæ˜¯æ­£åˆ™?</h2><p>æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç </p><h3 id="å¸¸ç”¨çš„å…ƒå­—ç¬¦"><a href="#å¸¸ç”¨çš„å…ƒå­—ç¬¦" class="headerlink" title="å¸¸ç”¨çš„å…ƒå­—ç¬¦"></a>å¸¸ç”¨çš„å…ƒå­—ç¬¦</h3><table><thead><tr><th align="center">ä»£ç </th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">.</td><td align="left">åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦</td></tr><tr><td align="center">\w</td><td align="left">åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—</td></tr><tr><td align="center">\s</td><td align="left">åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦</td></tr><tr><td align="center">\d</td><td align="left">åŒ¹é…æ•°å­—</td></tr><tr><td align="center">\b</td><td align="left">åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ</td></tr><tr><td align="center">^</td><td align="left">åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</td></tr><tr><td align="center">$</td><td align="left">åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ</td></tr></tbody></table><h3 id="å¸¸ç”¨çš„é™å®šç¬¦"><a href="#å¸¸ç”¨çš„é™å®šç¬¦" class="headerlink" title="å¸¸ç”¨çš„é™å®šç¬¦"></a>å¸¸ç”¨çš„é™å®šç¬¦</h3><table><thead><tr><th align="center">ä»£ç /è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">*</td><td>é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡</td></tr><tr><td align="center">+</td><td>é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡</td></tr><tr><td align="center">?</td><td>é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡</td></tr><tr><td align="center">{n}</td><td>é‡å¤næ¬¡</td></tr><tr><td align="center">{n,}</td><td>é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡</td></tr><tr><td align="center">{n,m}</td><td>é‡å¤nåˆ°mæ¬¡</td></tr></tbody></table><h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åŒ¹é…ä»¥å­—æ¯aå¼€å¤´çš„å•è¯   </p><p>ç‚¹å‡»æŸ¥çœ‹ </p><p>åŒ¹é…åˆšå¥½6ä¸ªå­—ç¬¦çš„å•è¯</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><p>åŒ¹é…1ä¸ªæˆ–æ›´å¤šè¿ç»­çš„æ•°å­—</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><p>5ä½åˆ°12ä½QQå·</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><p>grep ï¼ˆç¼©å†™æ¥è‡ªGlobally search a Regular Expression and Printï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨ç‰¹å®šæ¨¡å¼åŒ¹é…ï¼ˆåŒ…æ‹¬<a href="https://baike.baidu.com/item/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/1700215">æ­£åˆ™è¡¨è¾¾å¼</a>ï¼‰æœç´¢æ–‡æœ¬ï¼Œå¹¶é»˜è®¤è¾“å‡ºåŒ¹é…è¡Œã€‚Unixçš„grepå®¶æ—åŒ…æ‹¬grepã€<a href="https://baike.baidu.com/item/egrep/469137">egrep</a>å’Œ<a href="https://baike.baidu.com/item/fgrep/468978">fgrep</a>ã€‚Windowsç³»ç»Ÿä¸‹ç±»ä¼¼å‘½ä»¤<a href="https://baike.baidu.com/item/FINDSTR">FINDSTR</a>ã€‚æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„æ¨¡å¼( pattern)å¯¹ç›®æ ‡æ–‡æœ¬è¿›è¡Œè¿‡æ»¤,æ˜¾ç¤ºè¢«æ¨¡å¼åŒ¹é…åˆ°çš„è¡Œã€‚</p><h3 id="å‘½ä»¤å½¢å¼"><a href="#å‘½ä»¤å½¢å¼" class="headerlink" title="å‘½ä»¤å½¢å¼"></a>å‘½ä»¤å½¢å¼</h3><p>GREP [OPTIONS] PATTERN [FILE]</p><h3 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h3><p>-v æ˜¾ç¤ºä¸è¢« patternåŒ¹é…åˆ°çš„è¡Œ</p><p>-i å¿½ç•¥å­—ç¬¦å¤§å°å†™</p><p>-n æ˜¾ç¤ºåŒ¹é…çš„è¡Œå·</p><p>-c ç»Ÿè®¡åŒ¹é…çš„è¡Œæ•°</p><p>-o ä»…æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</p><p>-E ä½¿ç”¨ERE,ç›¸å½“äº egrep</p><h3 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h3><p>æŸ¥æ‰¾æ–‡ä»¶å†…å®¹åŒ…å«rootçš„è¡Œæ•°</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><p>æŸ¥æ‰¾æ–‡ä»¶å†…å®¹ä¸åŒ…å«rootçš„è¡Œ</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><p>æŸ¥æ‰¾ä»¥så¼€å¤´çš„è¡Œ(æ­£åˆ™)</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><p>æŸ¥æ‰¾ä»¥nç»“å°¾çš„è¡Œ(æ­£åˆ™)</p><p>ç‚¹å‡»æŸ¥çœ‹ </p><h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><p>sedæ˜¯æµç¼–è¾‘å™¨,ä¸€æ¬¡å¤„ç†ä¸€è¡Œå†…å®¹ã€‚</p><p>Linux sed å‘½ä»¤æ˜¯åˆ©ç”¨è„šæœ¬æ¥å¤„ç†æ–‡æœ¬æ–‡ä»¶ã€‚</p><p>sed å¯ä¾ç…§è„šæœ¬çš„æŒ‡ä»¤æ¥å¤„ç†ã€ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶ã€‚</p><p>sed ä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ã€ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œã€ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210105110357816.png" alt="image-20210105110357816"></p><p>1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat ttt.txt </span><br></pre></td></tr></table></figure><p>2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aaa</span><br></pre></td></tr></table></figure><p>3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p>4</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#39;1 a new&#39; ttt.txt </span><br></pre></td></tr></table></figure><p>5</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aaa</span><br></pre></td></tr></table></figure><p>6</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new</span><br></pre></td></tr></table></figure><p>7</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p>8</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat ttt.txt    åŸæ–‡ä»¶ä¸ä¼šè¢«æ”¹å˜</span><br></pre></td></tr></table></figure><p>9</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aaa</span><br></pre></td></tr></table></figure><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [-hnV][-e&lt;script&gt;][-f&lt;scriptæ–‡ä»¶&gt;][æ–‡æœ¬æ–‡ä»¶]</span><br></pre></td></tr></table></figure><p><strong><em>\</em>å‚æ•°è¯´æ˜**</strong>ï¼š</p><ul><li>-e<script>æˆ–--expression=<script> ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚</li><li>-f&lt;scriptæ–‡ä»¶&gt;æˆ–â€“file=&lt;scriptæ–‡ä»¶&gt; ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚</li><li>-hæˆ–â€“help æ˜¾ç¤ºå¸®åŠ©ã€‚</li><li>-næˆ–â€“quietæˆ–â€“silent ä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœã€‚</li><li>-Væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</li></ul><p><strong><em>\</em>åŠ¨ä½œè¯´æ˜**</strong>ï¼š</p><ul><li>a ï¼šæ–°å¢ï¼Œ a çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºç°(ç›®å‰çš„ä¸‹ä¸€è¡Œ)ï½</li><li>c ï¼šå–ä»£ï¼Œ c çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè¿™äº›å­—ä¸²å¯ä»¥å–ä»£ n1,n2 ä¹‹é—´çš„è¡Œï¼</li><li>d ï¼šåˆ é™¤ï¼Œå› ä¸ºæ˜¯åˆ é™¤å•Šï¼Œæ‰€ä»¥ d åé¢é€šå¸¸ä¸æ¥ä»»ä½•å’šå’šï¼›</li><li>i ï¼šæ’å…¥ï¼Œ i çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºç°(ç›®å‰çš„ä¸Šä¸€è¡Œ)ï¼›</li><li>p ï¼šæ‰“å°ï¼Œäº¦å³å°†æŸä¸ªé€‰æ‹©çš„æ•°æ®å°å‡ºã€‚é€šå¸¸ p ä¼šä¸å‚æ•° sed -n ä¸€èµ·è¿è¡Œï½</li><li>s ï¼šå–ä»£ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œå–ä»£çš„å·¥ä½œå“©ï¼é€šå¸¸è¿™ä¸ª s çš„åŠ¨ä½œå¯ä»¥æ­é…æ­£è§„è¡¨ç¤ºæ³•ï¼ä¾‹å¦‚ 1,20s/old/new/g å°±æ˜¯å•¦ï¼</li></ul><h3 id="è®­ç»ƒ-1"><a href="#è®­ç»ƒ-1" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h3><p>æŸ¥çœ‹å¸®åŠ©</p><p>man sed</p><p>sed -h</p><p>å…¨å±€æ›¿æ¢</p><p>sed â€˜s/root/hello/gâ€™ test.txt</p><p>ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹</p><p>sed -i â€˜s/root/hello/gâ€™ test.txt</p><h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><p>æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥,ä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡,åˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œåç»­å¤„ç†ã€‚</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20210105113036884.png" alt="image-20210105113036884"></p><h3 id="å‘½ä»¤è§£æ"><a href="#å‘½ä»¤è§£æ" class="headerlink" title="å‘½ä»¤è§£æ"></a>å‘½ä»¤è§£æ</h3><p>awk â€˜pattern+actionâ€™ [filenames]</p><ul><li>patternæ­£åˆ™è¡¨è¾¾å¼</li><li>actionå¯¹åŒ¹é…åˆ°çš„å†…å®¹æ‰§è¡Œçš„å‘½ä»¤(é»˜è®¤ä¸ºè¾“å‡ºæ¯è¡Œå…§å®¹)</li></ul><h3 id="å¸¸ç”¨å‚æ•°"><a href="#å¸¸ç”¨å‚æ•°" class="headerlink" title="å¸¸ç”¨å‚æ•°"></a>å¸¸ç”¨å‚æ•°</h3><p>FILENAME awkæµè§ˆçš„æ–‡ä»¶å</p><p>BEGN å¤„ç†æ–‡æœ¬ä¹‹å‰è¦æ‰§è¡Œçš„æ“ä½œ</p><p>END å¤„ç†æ–‡æœ¬ä¹‹åè¦æ‰§è¡Œçš„æ“ä½œ</p><p>FS è®¾ç½®è¾“å…¥åŸŸåˆ†éš”ç¬¦,ç­‰ä»·äºå‘½ä»¤è¡Œ -F é€‰é¡¹</p><p>NF æµè§ˆè®°å½•çš„åŸŸçš„ä¸ªæ•° (åˆ—æ•°)</p><p>NR å·²è¯»çš„è®°å½•æ•° (è¡Œæ•°)</p><p>OFS è¾“å‡ºåŸŸåˆ†éš”ç¬¦</p><p>ORS è¾“å‡ºè®°å½•åˆ†éš”ç¬¦</p><p>Rs æ§åˆ¶è®°å½•åˆ†éš”ç¬¦</p><p>$0 æ•´æ¡è®°å½•</p><p>$1è¡¨ç¤ºå½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªåŸŸâ€¦ä»¥æ­¤ç±»æ¨</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Shell-æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#Shell-æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;Shell æ¦‚è¿°&quot;&gt;&lt;/a&gt;Shell æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;Shell æ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå®ƒæ˜¯ç”¨æˆ·ä½¿ç”¨ Linux çš„æ¡¥æ¢ã€‚Shell æ—¢æ˜¯ä¸€ç§å‘½ä»¤è¯­è¨€ï¼Œåˆæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;Shell æ˜¯æŒ‡ä¸€ç§åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡è¿™ä¸ªç•Œé¢è®¿é—®æ“ä½œç³»ç»Ÿå†…æ ¸çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Shell-ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#Shell-ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;Shell ç¯å¢ƒ&quot;&gt;&lt;/a&gt;Shell ç¯å¢ƒ&lt;/h2&gt;&lt;p&gt;Shell ç¼–ç¨‹è·Ÿ JavaScriptã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;Linux çš„ Shell ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bourne Shellï¼ˆ/usr/bin/shæˆ–/bin/shï¼‰&lt;/li&gt;
&lt;li&gt;Bourne Again Shellï¼ˆ/bin/bashï¼‰&lt;/li&gt;
&lt;li&gt;C Shellï¼ˆ/usr/bin/cshï¼‰&lt;/li&gt;
&lt;li&gt;K Shellï¼ˆ/usr/bin/kshï¼‰&lt;/li&gt;
&lt;li&gt;Shell for Rootï¼ˆ/sbin/shï¼‰&lt;/li&gt;
&lt;li&gt;â€¦â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ•™ç¨‹å…³æ³¨çš„æ˜¯ Bashï¼Œä¹Ÿå°±æ˜¯ Bourne Again Shellï¼Œç”±äºæ˜“ç”¨å’Œå…è´¹ï¼ŒBash åœ¨æ—¥å¸¸å·¥ä½œä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚åŒæ—¶ï¼ŒBash ä¹Ÿæ˜¯å¤§å¤šæ•°Linux ç³»ç»Ÿé»˜è®¤çš„ Shellã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä»¬å¹¶ä¸åŒºåˆ† Bourne Shell å’Œ Bourne Again Shellï¼Œæ‰€ä»¥ï¼Œåƒ &lt;strong&gt;&lt;em&gt;\&lt;/em&gt;#!/bin/sh**&lt;/strong&gt;ï¼Œå®ƒåŒæ ·ä¹Ÿå¯ä»¥æ”¹ä¸º &lt;strong&gt;&lt;em&gt;\&lt;/em&gt;#!/bin/bash**&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;\&lt;/em&gt;#!**&lt;/strong&gt; å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell ç¨‹åºã€‚&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Redis</title>
    <link href="http://example.com/posts/bae4ff13/"/>
    <id>http://example.com/posts/bae4ff13/</id>
    <published>2020-12-28T02:00:01.000Z</published>
    <updated>2021-03-22T11:52:42.540Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Nosqlæ¦‚è¿°"><a href="#ä¸€ã€Nosqlæ¦‚è¿°" class="headerlink" title="ä¸€ã€Nosqlæ¦‚è¿°"></a>ä¸€ã€Nosqlæ¦‚è¿°</h2><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨Nosql"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Nosql" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Nosql"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Nosql</h3><blockquote><p>1ã€å•æœºMysqlæ—¶ä»£</p></blockquote><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/2020082010365930.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>90å¹´ä»£,ä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ä¸€èˆ¬ä¸ä¼šå¤ªå¤§ï¼Œå•ä¸ªæ•°æ®åº“å®Œå…¨å¤Ÿç”¨ã€‚éšç€ç”¨æˆ·å¢å¤šï¼Œç½‘ç«™å‡ºç°ä»¥ä¸‹é—®é¢˜==è¯»å†™ä¸€ä½“==</p><ol><li>æ•°æ®é‡å¢åŠ åˆ°ä¸€å®šç¨‹åº¦ï¼Œå•æœºæ•°æ®åº“å°±æ”¾ä¸ä¸‹äº†</li><li>æ•°æ®çš„ç´¢å¼•ï¼ˆB+ Treeï¼‰,ä¸€ä¸ªæœºå™¨å†…å­˜ä¹Ÿå­˜æ”¾ä¸ä¸‹</li><li>è®¿é—®é‡å˜å¤§åï¼ˆè¯»å†™æ··åˆï¼‰ï¼Œä¸€å°æœåŠ¡å™¨æ‰¿å—ä¸ä½ã€‚</li></ol><blockquote><p>2ã€Memcached(==ç¼“å­˜==) + Mysql + å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰+ä¸»ä»å¤åˆ¶</p></blockquote><p>ç½‘ç«™80%çš„æƒ…å†µéƒ½æ˜¯åœ¨==è¯»==ï¼Œæ¯æ¬¡éƒ½è¦å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡ï¼</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222113208261.png" alt="image-20201222113208261"></p><p>ä¼˜åŒ–è¿‡ç¨‹ç»å†äº†ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š</p><ol><li>ä¼˜åŒ–æ•°æ®åº“çš„æ•°æ®ç»“æ„å’Œç´¢å¼•(éš¾åº¦å¤§)</li><li>æ–‡ä»¶ç¼“å­˜ï¼Œé€šè¿‡IOæµè·å–æ¯”æ¯æ¬¡éƒ½è®¿é—®æ•°æ®åº“æ•ˆç‡ç•¥é«˜ï¼Œä½†æ˜¯æµé‡çˆ†ç‚¸å¼å¢é•¿æ—¶å€™ï¼ŒIOæµä¹Ÿæ‰¿å—ä¸äº†</li><li>MemCache,å½“æ—¶æœ€çƒ­é—¨çš„æŠ€æœ¯ï¼Œé€šè¿‡åœ¨æ•°æ®åº“å’Œæ•°æ®åº“è®¿é—®å±‚ä¹‹é—´åŠ ä¸Šä¸€å±‚ç¼“å­˜ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†ç»“æœä¿å­˜åˆ°ç¼“å­˜ï¼Œåç»­çš„æŸ¥è¯¢å…ˆæ£€æŸ¥ç¼“å­˜ï¼Œè‹¥æœ‰ç›´æ¥æ‹¿å»ä½¿ç”¨ï¼Œæ•ˆç‡æ˜¾è‘—æå‡ã€‚</li></ol><blockquote><p>3ã€åˆ†åº“åˆ†è¡¨ + æ°´å¹³æ‹†åˆ† + Mysqlé›†ç¾¤</p></blockquote><p>==æœ¬è´¨ï¼šæ•°æ®åº“ï¼ˆè¯»ï¼Œå†™ï¼‰==</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222141642885.png" alt="image-20201222141642885"></p><blockquote><p>4ã€å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£</p></blockquote><p> 2010-2020åå¹´ä¹‹é—´,ä¸–ç•Œå·²ç»å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–;(å®šä½,ä¹Ÿæ˜¯ä¸€ç§æ•°æ®,éŸ³ä¹,çƒ­æ¦œ!)<br>        Mysqlç­‰å…³ç³»å‹æ•°æ®åº“å°±ä¸å¤Ÿç”¨äº†!æ•°æ®é‡å¾ˆå¤š,å˜åŒ–å¾ˆå¿«<br>        Mysqlæœ‰çš„ä½¿ç”¨å®ƒæ¥å­˜å‚¨ä¸€äº›æ¯”è¾ƒå¤§çš„æ–‡ä»¶,åšå®¢,å›¾ç‰‡!æ•°æ®åº“è¡¨å¾ˆå¤§,æ•ˆç‡å°±ä½äº†!å¦‚æœæœ‰â€”ç§æ•°æ®åº“æ¥ä¸“é—¨å¤„ç†è¿™ç§æ•°æ®,<br>        Mysqlå‹åŠ›å°±å˜å¾—ååˆ†å°(ç ”ç©¶å¦‚ä½•å¤„ç†è¿™äº›é—®é¢˜!)å¤§æ•°æ®çš„IOå‹åŠ›ä¸‹,è¡¨å‡ ä¹æ²¡æ³•æ›´å¤§!</p><blockquote><p>ç›®å‰ä¸€ä¸ªåŸºæœ¬çš„äº’è”ç½‘é¡¹ç›®</p></blockquote><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222143035146.png" alt="image-20201222143035146"></p><blockquote><p>ä¸ºä»€ä¹ˆè¦ç”¨NoSQL ï¼Ÿ</p></blockquote><p>ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ã€‚ç”¨æˆ·è‡ªå·±äº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·æ—¥å¿—ç­‰ç­‰çˆ†å‘å¼å¢é•¿ï¼<br>        è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨NoSQLæ•°æ®åº“çš„ï¼ŒNosqlå¯ä»¥å¾ˆå¥½çš„å¤„ç†ä»¥ä¸Šçš„æƒ…å†µï¼</p><h3 id="ä»€ä¹ˆæ˜¯Nosql"><a href="#ä»€ä¹ˆæ˜¯Nosql" class="headerlink" title="ä»€ä¹ˆæ˜¯Nosql"></a>ä»€ä¹ˆæ˜¯Nosql</h3><p><strong>NoSQL = Not Only SQLï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰</strong></p><p>Not Only Structured Query Language</p><p>å…³ç³»å‹æ•°æ®åº“ï¼šåˆ—+è¡Œï¼ŒåŒä¸€ä¸ªè¡¨ä¸‹æ•°æ®çš„ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚</p><p>éå…³ç³»å‹æ•°æ®åº“ï¼šæ•°æ®å­˜å‚¨æ²¡æœ‰å›ºå®šçš„æ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</p><p>NoSQLæ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œéšç€web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾å¯¹ä»˜web2.0æ—¶ä»£ï¼å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘çš„ç¤¾åŒºï¼Œæš´éœ²å‡ºæ¥å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ï¼ŒNoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•çš„ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ã€‚</p><p>å¾ˆå¤šçš„æ•°æ®ç±»å‹ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯,ç¤¾äº¤ç½‘ç»œ,åœ°ç†ä½ç½®ã€‚è¿™äº›æ•°æ®ç±»å‹çš„å­˜å‚¨ä¸éœ€è¦ä¸€ä¸ªå›ºå®šçš„æ ¼å¼!ä¸éœ€è¦å¤šæœˆçš„æ“ä½œå°±å¯ä»¥æ¨ª<br>å‘æ‰©å±•çš„!  ==Map&lt;String,Object&gt;== ä½¿ç”¨é”®å€¼å¯¹æ¥æ§åˆ¶!</p><h3 id="Nosqlç‰¹ç‚¹"><a href="#Nosqlç‰¹ç‚¹" class="headerlink" title="Nosqlç‰¹ç‚¹"></a>Nosqlç‰¹ç‚¹</h3><ol><li><p>æ–¹ä¾¿æ‰©å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»==è§£è€¦==ï¼Œå¾ˆå¥½æ‰©å±•ï¼ï¼‰</p></li><li><p>å¤§æ•°æ®é‡é«˜æ€§èƒ½ï¼ˆRedisä¸€ç§’å¯ä»¥å†™8ä¸‡æ¬¡ï¼Œè¯»11ä¸‡æ¬¡ï¼ŒNoSQLçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼ï¼‰</p></li><li><p>æ•°æ®ç±»å‹æ˜¯å¤šæ ·å‹çš„ï¼ï¼ˆä¸éœ€è¦äº‹å…ˆè®¾è®¡æ•°æ®åº“ï¼Œéšå–éšç”¨ï¼‰</p></li><li><p>ä¼ ç»Ÿçš„ RDBMS å’Œ NoSQL</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ä¼ ç»Ÿçš„ RDBMS(å…³ç³»å‹æ•°æ®åº“)</span><br><span class="line">- ç»“æ„åŒ–ç»„ç»‡</span><br><span class="line">- SQL</span><br><span class="line">- æ•°æ®å’Œå…³ç³»éƒ½å­˜åœ¨å•ç‹¬çš„è¡¨ä¸­ row col</span><br><span class="line">- æ“ä½œï¼Œæ•°æ®å®šä¹‰è¯­è¨€</span><br><span class="line">- ä¸¥æ ¼çš„ä¸€è‡´æ€§</span><br><span class="line">- åŸºç¡€çš„äº‹åŠ¡</span><br><span class="line">- ...</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Nosql</span><br><span class="line">- ä¸ä»…ä»…æ˜¯æ•°æ®</span><br><span class="line">- æ²¡æœ‰å›ºå®šçš„æŸ¥è¯¢è¯­è¨€</span><br><span class="line">- é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“ï¼ˆç¤¾äº¤å…³ç³»ï¼‰</span><br><span class="line">- æœ€ç»ˆä¸€è‡´æ€§</span><br><span class="line">- CAPå®šç†å’ŒBASE ï¼ˆå¼‚åœ°å¤šæ´»ï¼‰</span><br><span class="line">- é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œé«˜æ‰©å±•</span><br><span class="line">- ...</span><br></pre></td></tr></table></figure><blockquote><p>äº†è§£ï¼š3V + 3é«˜</p></blockquote></li></ol><p>å¤§æ•°æ®æ—¶ä»£çš„3V ï¼šä¸»è¦æ˜¯<strong>æè¿°é—®é¢˜</strong>çš„</p><ol><li>æµ·é‡Velume</li><li>å¤šæ ·Variety</li><li>å®æ—¶Velocity</li></ol><p>å¤§æ•°æ®æ—¶ä»£çš„3é«˜ ï¼š ä¸»è¦æ˜¯<strong>å¯¹ç¨‹åºçš„è¦æ±‚</strong></p><ol><li>é«˜å¹¶å‘</li><li>é«˜å¯æ‰©</li><li>é«˜æ€§èƒ½</li></ol><p>çœŸæ­£åœ¨å…¬å¸ä¸­çš„å®è·µï¼šNoSQL + RDBMS ä¸€èµ·ä½¿ç”¨æ‰æ˜¯æœ€å¼ºçš„ã€‚</p><h3 id="é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"><a href="#é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ" class="headerlink" title="é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"></a>é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ</h3><p>æ¨èé˜…è¯»ï¼šé˜¿é‡Œäº‘çš„è¿™ç¾¤ç–¯å­<a href="https://yq.aliyun.com/articles/653511">https://yq.aliyun.com/articles/653511</a></p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222151128677.png" alt="image-20201222151128677"></p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222152519933.png" alt="image-20201222152519933"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å•†å“ä¿¡æ¯</span></span><br><span class="line">- ä¸€èˆ¬å­˜æ”¾åœ¨å…³ç³»å‹æ•°æ®åº“ï¼šMysql,é˜¿é‡Œå·´å·´ä½¿ç”¨çš„Mysqléƒ½æ˜¯ç»è¿‡å†…éƒ¨æ”¹åŠ¨çš„ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•†å“æè¿°ã€è¯„è®º(æ–‡å­—å±…å¤š)</span></span><br><span class="line">- æ–‡æ¡£å‹æ•°æ®åº“ï¼šMongoDB</span><br><span class="line"></span><br><span class="line"><span class="comment"># å›¾ç‰‡</span></span><br><span class="line">- åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS</span><br><span class="line">- æ·˜å®ï¼šTFS</span><br><span class="line">- Google: GFS</span><br><span class="line">- Hadoop: HDFS</span><br><span class="line">- é˜¿é‡Œäº‘: oss</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•†å“å…³é”®å­— ç”¨äºæœç´¢</span></span><br><span class="line">- æœç´¢å¼•æ“ï¼šsolr,elasticsearch</span><br><span class="line">- é˜¿é‡Œï¼šIsearch å¤šéš†</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•†å“çƒ­é—¨çš„æ³¢æ®µä¿¡æ¯</span></span><br><span class="line">- å†…å­˜æ•°æ®åº“ï¼šRedisï¼ŒMemcache</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•†å“äº¤æ˜“ï¼Œå¤–éƒ¨æ”¯ä»˜æ¥å£</span></span><br><span class="line">- ç¬¬ä¸‰æ–¹åº”ç”¨</span><br></pre></td></tr></table></figure><h3 id="Nosqlçš„å››å¤§åˆ†ç±»"><a href="#Nosqlçš„å››å¤§åˆ†ç±»" class="headerlink" title="Nosqlçš„å››å¤§åˆ†ç±»"></a>Nosqlçš„å››å¤§åˆ†ç±»</h3><blockquote><p><strong>KVé”®å€¼å¯¹</strong></p></blockquote><ul><li>æ–°æµªï¼š<strong>Redis</strong></li><li>ç¾å›¢ï¼šRedis + Tair</li><li>é˜¿é‡Œã€ç™¾åº¦ï¼šRedis + Memcache</li></ul><blockquote><p><strong>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ•°æ®æ ¼å¼ï¼‰ï¼š</strong></p></blockquote><ul><li><p>MongoDB</p><p>(æŒæ¡)</p><ul><li>åŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚C++ç¼–å†™ï¼Œç”¨äºå¤„ç†å¤§é‡æ–‡æ¡£ã€‚</li><li>MongoDBæ˜¯RDBMSå’ŒNoSQLçš„ä¸­é—´äº§å“ã€‚MongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œçš„ï¼ŒNoSQLä¸­æœ€åƒå…³ç³»å‹æ•°æ®åº“çš„æ•°æ®åº“ã€‚</li></ul></li><li><p>ConthDB</p></li></ul><blockquote><p><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></p></blockquote><ul><li><strong>HBase</strong>(å¤§æ•°æ®å¿…å­¦)</li><li>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</li></ul><blockquote><p><strong>å›¾å…³ç³»æ•°æ®åº“</strong></p></blockquote><p>ä»–ä¸æ˜¯å­˜å›¾å½¢,æ”¾çš„æ˜¯å…³ç³»,æ¯”å¦‚:æœ‹å‹åœˆç¤¾äº¤ç½‘ç»œ,å¹¿å‘Šæ¨è!</p><ul><li><strong>Neo4j</strong>ã€InfoGrid</li></ul><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>Examplesä¸¾ä¾‹</strong></th><th><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></th><th><strong>æ•°æ®æ¨¡å‹</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>é”®å€¼å¯¹ï¼ˆkey-valueï¼‰</strong></td><td>Tokyo Cabinet/Tyrant, Redis, Voldemort, Oracle BDB</td><td>å†…å®¹ç¼“å­˜ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜è®¿é—®è´Ÿè½½ï¼Œä¹Ÿç”¨äºä¸€äº›æ—¥å¿—ç³»ç»Ÿç­‰ç­‰ã€‚</td><td>Key æŒ‡å‘ Value çš„é”®å€¼å¯¹ï¼Œé€šå¸¸ç”¨hash tableæ¥å®ç°</td><td>æŸ¥æ‰¾é€Ÿåº¦å¿«</td><td>æ•°æ®æ— ç»“æ„åŒ–ï¼Œé€šå¸¸åªè¢«å½“ä½œå­—ç¬¦ä¸²æˆ–è€…äºŒè¿›åˆ¶æ•°æ®</td></tr><tr><td><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></td><td>Cassandra, HBase, Riak</td><td>åˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿ</td><td>ä»¥åˆ—ç°‡å¼å­˜å‚¨ï¼Œå°†åŒä¸€åˆ—æ•°æ®å­˜åœ¨ä¸€èµ·</td><td>æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ›´å®¹æ˜“è¿›è¡Œåˆ†å¸ƒå¼æ‰©å±•</td><td>åŠŸèƒ½ç›¸å¯¹å±€é™</td></tr><tr><td><strong>æ–‡æ¡£å‹æ•°æ®åº“</strong></td><td>CouchDB, MongoDb</td><td>Webåº”ç”¨ï¼ˆä¸Key-Valueç±»ä¼¼ï¼ŒValueæ˜¯ç»“æ„åŒ–çš„ï¼Œä¸åŒçš„æ˜¯æ•°æ®åº“èƒ½å¤Ÿäº†è§£Valueçš„å†…å®¹ï¼‰</td><td>Key-Valueå¯¹åº”çš„é”®å€¼å¯¹ï¼ŒValueä¸ºç»“æ„åŒ–æ•°æ®</td><td>æ•°æ®ç»“æ„è¦æ±‚ä¸ä¸¥æ ¼ï¼Œè¡¨ç»“æ„å¯å˜ï¼Œä¸éœ€è¦åƒå…³ç³»å‹æ•°æ®åº“ä¸€æ ·éœ€è¦é¢„å…ˆå®šä¹‰è¡¨ç»“æ„</td><td>æŸ¥è¯¢æ€§èƒ½ä¸é«˜ï¼Œè€Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­æ³•ã€‚</td></tr><tr><td><strong>å›¾å½¢(Graph)æ•°æ®åº“</strong></td><td>Neo4J, InfoGrid, Infinite Graph</td><td>ç¤¾äº¤ç½‘ç»œï¼Œæ¨èç³»ç»Ÿç­‰ã€‚ä¸“æ³¨äºæ„å»ºå…³ç³»å›¾è°±</td><td>å›¾ç»“æ„</td><td>åˆ©ç”¨å›¾ç»“æ„ç›¸å…³ç®—æ³•ã€‚æ¯”å¦‚æœ€çŸ­è·¯å¾„å¯»å€ï¼ŒNåº¦å…³ç³»æŸ¥æ‰¾ç­‰</td><td>å¾ˆå¤šæ—¶å€™éœ€è¦å¯¹æ•´ä¸ªå›¾åšè®¡ç®—æ‰èƒ½å¾—å‡ºéœ€è¦çš„ä¿¡æ¯ï¼Œè€Œä¸”è¿™ç§ç»“æ„ä¸å¤ªå¥½åšåˆ†å¸ƒå¼çš„é›†ç¾¤</td></tr></tbody></table><h2 id="äºŒã€Rediså…¥é—¨"><a href="#äºŒã€Rediså…¥é—¨" class="headerlink" title="äºŒã€Rediså…¥é—¨"></a>äºŒã€Rediså…¥é—¨</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><blockquote><p>Redisæ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>Redisï¼ˆRemote Dictionary Server )ï¼Œå³è¿œç¨‹å­—å…¸æœåŠ¡ã€‚</p><p>æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI Cè¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€<strong>Key-Valueæ•°æ®åº“</strong>ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p><p>ä¸memcachedä¸€æ ·ï¼Œä¸ºäº†ä¿è¯æ•ˆç‡ï¼Œ<strong>æ•°æ®éƒ½æ˜¯ç¼“å­˜åœ¨å†…å­˜ä¸­</strong>ã€‚åŒºåˆ«çš„æ˜¯redisä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™å…¥ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†master-slave(ä¸»ä»)åŒæ­¥ã€‚</p><blockquote><p>Redisèƒ½è¯¥å¹²ä»€ä¹ˆï¼Ÿ</p></blockquote><ol><li>å†…å­˜å­˜å‚¨ã€æŒä¹…åŒ–ï¼Œå†…å­˜æ˜¯æ–­ç”µå³å¤±çš„ï¼Œæ‰€ä»¥éœ€è¦æŒä¹…åŒ–ï¼ˆRDBã€AOFï¼‰</li><li>é«˜æ•ˆç‡ã€ç”¨äºé«˜é€Ÿç¼“å­˜</li><li>å‘å¸ƒè®¢é˜…ç³»ç»Ÿ</li><li>åœ°å›¾ä¿¡æ¯åˆ†æ</li><li>è®¡æ—¶å™¨ã€è®¡æ•°å™¨(egï¼šæµè§ˆé‡)</li><li>ã€‚ã€‚ã€‚</li></ol><blockquote><p>ç‰¹æ€§</p></blockquote><ol><li><p>å¤šæ ·çš„æ•°æ®ç±»å‹</p></li><li><p>æŒä¹…åŒ–</p></li><li><p>é›†ç¾¤</p></li><li><p>äº‹åŠ¡</p><p>â€¦</p></li></ol><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><p>å®˜ç½‘ï¼š<a href="https://redis.io/">https://redis.io/</a></p><h3 id="Linuxå®‰è£…"><a href="#Linuxå®‰è£…" class="headerlink" title="Linuxå®‰è£…"></a>Linuxå®‰è£…</h3><ol><li><p>ä¸‹è½½å®‰è£…åŒ…ï¼<code>redis-5.0.8.tar.gz</code></p></li><li><p>è§£å‹Redisçš„å®‰è£…åŒ…ï¼</p></li><li><p>åŸºæœ¬ç¯å¢ƒå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc-c++</span><br><span class="line"><span class="comment">#gccç‰ˆæœ¬è¿‡ä½ï¼Œyumå®‰è£…çš„gccæ˜¯4.8.5çš„ã€‚å› æ­¤éœ€è¦å‡çº§gccï¼Œå‡çº§è¿‡ç¨‹å¦‚ä¸‹ï¼š</span></span><br><span class="line">yum -y install centos-release-scl</span><br><span class="line">yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</span><br><span class="line">scl <span class="built_in">enable</span> devtoolset-9 bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source /opt/rh/devtoolset-9/enable&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line"><span class="comment"># è§£å‹</span></span><br><span class="line">tar zxvf redis-6.0.9.tar.gz</span><br><span class="line"><span class="comment"># ç„¶åè¿›å…¥redisç›®å½•ä¸‹æ‰§è¡Œ</span></span><br><span class="line">make</span><br><span class="line"><span class="comment"># ç„¶åæ‰§è¡Œ</span></span><br><span class="line">make install</span><br></pre></td></tr></table></figure></li><li><p>redisé»˜è®¤å®‰è£…è·¯å¾„ <code>/usr/local/bin</code></p></li><li><p>å°†redisçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ° ç¨‹åºå®‰è£…ç›®å½• <code>/usr/local/bin</code>ä¸‹</p></li><li><p><code>cp /root/redis-6.0.9/redis.conf /usr/local/bin/ </code></p></li><li><p>redisé»˜è®¤ä¸æ˜¯åå°å¯åŠ¨çš„ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222163751522.png" alt="image-20201222163751522"></p></li><li><p>é€šè¿‡åˆ¶å®šçš„é…ç½®æ–‡ä»¶å¯åŠ¨redisæœåŠ¡</p></li><li><p>ä½¿ç”¨redis-cliè¿æ¥æŒ‡å®šçš„ç«¯å£å·æµ‹è¯•ï¼ŒRedisçš„é»˜è®¤ç«¯å£6379</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222164210746.png" alt="image-20201222164210746"></p></li><li><p>æŸ¥çœ‹redisè¿›ç¨‹æ˜¯å¦å¼€å¯</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222164308589.png" alt="image-20201222164308589"></p></li><li><p>å…³é—­RedisæœåŠ¡ <code>shutdown</code></p><p>![image-20201222164400636](/Users/lantian/Library/Application Support/typora-user-images/image-20201222164400636.png)</p></li><li><p>å†æ¬¡æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å­˜åœ¨</p></li><li><p>åé¢æˆ‘ä»¬ä¼šä½¿ç”¨å•æœºå¤šRediså¯åŠ¨é›†ç¾¤æµ‹è¯•</p></li><li><p>å¼€é€šç½‘ç»œè¿æ¥protected-mode no</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201224163814058.png" alt="image-20201224163814058"></p></li></ol><h3 id="æµ‹è¯•æ€§èƒ½"><a href="#æµ‹è¯•æ€§èƒ½" class="headerlink" title="æµ‹è¯•æ€§èƒ½"></a>æµ‹è¯•æ€§èƒ½</h3><p><strong>redis-benchmarkï¼š</strong>Rediså®˜æ–¹æä¾›çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå‚æ•°é€‰é¡¹å¦‚ä¸‹ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513214125892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><p><strong>ç®€å•æµ‹è¯•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•ï¼š100ä¸ªå¹¶å‘è¿æ¥ 100000è¯·æ±‚</span></span><br><span class="line">redis-benchmark -h localhost -p 6379 -c 100 -n 100000</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222165054541.png" alt="image-20201222165054541"></p><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><blockquote><p>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“</p></blockquote><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222165217590.png" alt="image-20201222165217590"></p><p>é»˜è®¤ä½¿ç”¨çš„ç¬¬0ä¸ª;</p><p>16ä¸ªæ•°æ®åº“ä¸ºï¼šDB 0~DB 15<br>é»˜è®¤ä½¿ç”¨DB 0 ï¼Œå¯ä»¥ä½¿ç”¨<code>select n</code>åˆ‡æ¢åˆ°DB nï¼Œ<code>dbsize</code>å¯ä»¥æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„å¤§å°ï¼Œä¸keyæ•°é‡ç›¸å…³ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; config get databases <span class="comment"># å‘½ä»¤è¡ŒæŸ¥çœ‹æ•°æ®åº“æ•°é‡databases</span></span><br><span class="line">1) <span class="string">&quot;databases&quot;</span></span><br><span class="line">2) <span class="string">&quot;16&quot;</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; select 8 <span class="comment"># åˆ‡æ¢æ•°æ®åº“ DB 8</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[8]&gt; dbsize <span class="comment"># æŸ¥çœ‹æ•°æ®åº“å¤§å°</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸åŒæ•°æ®åº“ä¹‹é—´ æ•°æ®æ˜¯ä¸èƒ½äº’é€šçš„ï¼Œå¹¶ä¸”dbsize æ˜¯æ ¹æ®åº“ä¸­keyçš„ä¸ªæ•°ã€‚</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> name sakura </span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; SELECT 8</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[8]&gt; get name <span class="comment"># db8ä¸­å¹¶ä¸èƒ½è·å–db0ä¸­çš„é”®å€¼å¯¹ã€‚</span></span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379[8]&gt; DBSIZE</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379[8]&gt; SELECT 0</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;counter:__rand_int__&quot;</span></span><br><span class="line">2) <span class="string">&quot;mylist&quot;</span></span><br><span class="line">3) <span class="string">&quot;name&quot;</span></span><br><span class="line">4) <span class="string">&quot;key:__rand_int__&quot;</span></span><br><span class="line">5) <span class="string">&quot;myset:__rand_int__&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; DBSIZE <span class="comment"># sizeå’Œkeyä¸ªæ•°ç›¸å…³</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br></pre></td></tr></table></figure><p><code>keys *</code> ï¼šæŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰çš„keyã€‚</p><p><code>flushdb</code>ï¼šæ¸…ç©ºå½“å‰æ•°æ®åº“ä¸­çš„é”®å€¼å¯¹ã€‚</p><p><code>flushall</code>ï¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®åº“çš„é”®å€¼å¯¹ã€‚</p><blockquote><p><strong>Redisæ˜¯å•çº¿ç¨‹çš„ï¼ŒRedisæ˜¯åŸºäºå†…å­˜æ“ä½œçš„ã€‚6.0æ”¯æŒå¤šçº¿ç¨‹äº†</strong></p></blockquote><p>æ‰€ä»¥Redisçš„æ€§èƒ½ç“¶é¢ˆä¸æ˜¯CPU,è€Œæ˜¯æœºå™¨å†…å­˜å’Œç½‘ç»œå¸¦å®½ã€‚</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆRedisçš„é€Ÿåº¦å¦‚æ­¤å¿«å‘¢ï¼Œæ€§èƒ½è¿™ä¹ˆé«˜å‘¢ï¼ŸQPSè¾¾åˆ°10W+</p><blockquote><p><strong>Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ</strong></p></blockquote><ul><li>è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ</li><li>è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼</li></ul><p>æ ¸å¿ƒï¼šRedisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯´ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼šè€—æ—¶çš„æ“ä½œï¼ï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„ï¼Œåœ¨å†…å­˜å­˜å‚¨æ•°æ®æƒ…å†µä¸‹ï¼Œå•çº¿ç¨‹å°±æ˜¯æœ€ä½³çš„æ–¹æ¡ˆã€‚</p><h2 id="ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹"><a href="#ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹"></a>ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹</h2><p> Redisæ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰ï¼Œå†…å­˜å­˜å‚¨çš„æ•°æ®ç»“æ„æœåŠ¡å™¨ï¼Œå¯ç”¨ä½œ<strong>æ•°æ®åº“</strong>ï¼Œ<strong>é«˜é€Ÿç¼“å­˜</strong>å’Œ<strong>æ¶ˆæ¯é˜Ÿåˆ—ä»£ç†</strong>ã€‚å®ƒæ”¯æŒ<a href="https://www.redis.net.cn/tutorial/3508.html">å­—ç¬¦ä¸²</a>ã€<a href="https://www.redis.net.cn/tutorial/3509.html">å“ˆå¸Œè¡¨</a>ã€<a href="https://www.redis.net.cn/tutorial/3510.html">åˆ—è¡¨</a>ã€<a href="https://www.redis.net.cn/tutorial/3511.html">é›†åˆ</a>ã€<a href="https://www.redis.net.cn/tutorial/3512.html">æœ‰åºé›†åˆ</a>ï¼Œ<a href="https://www.redis.net.cn/tutorial/3508.html">ä½å›¾</a>ï¼Œ<a href="https://www.redis.net.cn/tutorial/3513.html">hyperloglogs</a>ç­‰æ•°æ®ç±»å‹ã€‚å†…ç½®å¤åˆ¶ã€<a href="https://www.redis.net.cn/tutorial/3516.html">Luaè„šæœ¬</a>ã€LRUæ”¶å›ã€<a href="https://www.redis.net.cn/tutorial/3515.html">äº‹åŠ¡</a>ä»¥åŠä¸åŒçº§åˆ«ç£ç›˜æŒä¹…åŒ–åŠŸèƒ½ï¼ŒåŒæ—¶é€šè¿‡Redis Sentinelæä¾›é«˜å¯ç”¨ï¼Œé€šè¿‡Redis Clusteræä¾›è‡ªåŠ¨<a href="https://www.redis.net.cn/tutorial/3524.html">åˆ†åŒº</a>ã€‚</p><h3 id="Redis-key"><a href="#Redis-key" class="headerlink" title="Redis-key"></a>Redis-key</h3><blockquote><p>åœ¨redisä¸­æ— è®ºä»€ä¹ˆæ•°æ®ç±»å‹ï¼Œåœ¨æ•°æ®åº“ä¸­éƒ½æ˜¯ä»¥key-valueå½¢å¼ä¿å­˜ï¼Œé€šè¿‡è¿›è¡Œå¯¹Redis-keyçš„æ“ä½œï¼Œæ¥å®Œæˆå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ“ä½œã€‚</p></blockquote><p>ä¸‹é¢å­¦ä¹ çš„å‘½ä»¤ï¼š</p><ul><li><code>exists key</code>ï¼šåˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨</li><li><code>del key</code>ï¼šåˆ é™¤é”®å€¼å¯¹</li><li><code>move key db</code>ï¼šå°†é”®å€¼å¯¹ç§»åŠ¨åˆ°æŒ‡å®šæ•°æ®åº“</li><li><code>expire key second</code>ï¼šè®¾ç½®é”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´</li><li><code>type key</code>ï¼šæŸ¥çœ‹valueçš„æ•°æ®ç±»å‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys * <span class="comment"># æŸ¥çœ‹å½“å‰æ•°æ®åº“æ‰€æœ‰key</span></span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> name qinjiang <span class="comment"># set key</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> age 20</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">2) <span class="string">&quot;name&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; move age 1 <span class="comment"># å°†é”®å€¼å¯¹ç§»åŠ¨åˆ°æŒ‡å®šæ•°æ®åº“</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; EXISTS age <span class="comment"># åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">(<span class="built_in">integer</span>) 0 <span class="comment"># ä¸å­˜åœ¨</span></span><br><span class="line">127.0.0.1:6379&gt; EXISTS name</span><br><span class="line">(<span class="built_in">integer</span>) 1 <span class="comment"># å­˜åœ¨</span></span><br><span class="line">127.0.0.1:6379&gt; SELECT 1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[1]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">127.0.0.1:6379[1]&gt; del age <span class="comment"># åˆ é™¤é”®å€¼å¯¹</span></span><br><span class="line">(<span class="built_in">integer</span>) 1 <span class="comment"># åˆ é™¤ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> age 20</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; EXPIRE age 15 <span class="comment"># è®¾ç½®é”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´</span></span><br><span class="line"></span><br><span class="line">(<span class="built_in">integer</span>) 1 <span class="comment"># è®¾ç½®æˆåŠŸ å¼€å§‹è®¡æ•°</span></span><br><span class="line">127.0.0.1:6379&gt; ttl age <span class="comment"># æŸ¥çœ‹keyçš„è¿‡æœŸå‰©ä½™æ—¶é—´</span></span><br><span class="line">(<span class="built_in">integer</span>) 13</span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) 11</span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) 9</span><br><span class="line">127.0.0.1:6379&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) -2 <span class="comment"># -2 è¡¨ç¤ºkeyè¿‡æœŸï¼Œ-1è¡¨ç¤ºkeyæœªè®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; get age <span class="comment"># è¿‡æœŸçš„key ä¼šè¢«è‡ªåŠ¨delete</span></span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">type</span> name <span class="comment"># æŸ¥çœ‹valueçš„æ•°æ®ç±»å‹</span></span><br><span class="line">string</span><br></pre></td></tr></table></figure><p>å…³äº<code>TTL</code>å‘½ä»¤</p><p>Redisçš„keyï¼Œé€šè¿‡TTLå‘½ä»¤è¿”å›keyçš„è¿‡æœŸæ—¶é—´ï¼Œä¸€èˆ¬æ¥è¯´æœ‰3ç§ï¼š</p><ol><li>å½“å‰keyæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¼šè¿”å›-1.</li><li>å½“å‰keyæœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè€Œä¸”keyå·²ç»è¿‡æœŸï¼Œæ‰€ä»¥ä¼šè¿”å›-2.</li><li>å½“å‰keyæœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä¸”keyè¿˜æ²¡æœ‰è¿‡æœŸï¼Œæ•…ä¼šè¿”å›keyçš„æ­£å¸¸å‰©ä½™æ—¶é—´.</li></ol><p>å…³äºé‡å‘½å<code>RENAME</code>å’Œ<code>RENAMENX</code></p><ul><li><code>RENAME key newkey</code>ä¿®æ”¹ key çš„åç§°</li><li><code>RENAMENX key newkey</code>ä»…å½“ newkey ä¸å­˜åœ¨æ—¶ï¼Œå°† key æ”¹åä¸º newkey ã€‚</li></ul><p>æ›´å¤šå‘½ä»¤å­¦ä¹ ï¼š<a href="https://www.redis.net.cn/order/">https://www.redis.net.cn/order/</a></p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201224103322875.png" alt="image-20201224103322875"></p><h3 id="String-å­—ç¬¦ä¸²"><a href="#String-å­—ç¬¦ä¸²" class="headerlink" title="String(å­—ç¬¦ä¸²)"></a>String(å­—ç¬¦ä¸²)</h3><p>æ™®é€šçš„setã€getç›´æ¥ç•¥è¿‡ã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th align="left">æè¿°</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>APPEND key value</code></td><td align="left">å‘æŒ‡å®šçš„keyçš„valueåè¿½åŠ å­—ç¬¦ä¸²</td><td align="left">127.0.0.1:6379&gt; set msg hello <br/>OK <br/>127.0.0.1:6379&gt; append msg â€œ worldâ€ <br/>(integer) 11 <br/>127.0.0.1:6379&gt; get msg <br/>â€œhello worldâ€</td></tr><tr><td><code>DECR/INCR key</code></td><td align="left">å°†æŒ‡å®škeyçš„valueæ•°å€¼è¿›è¡Œ+1/-1(ä»…å¯¹äºæ•°å­—)</td><td align="left">127.0.0.1:6379&gt; set age 20 <br/>OK <br/>127.0.0.1:6379&gt; incr age <br/>(integer) 21 <br/>127.0.0.1:6379&gt; decr age<br/> (integer) 20</td></tr><tr><td><code>incrby/DECRBY key n</code></td><td align="left">æŒ‰æŒ‡å®šçš„æ­¥é•¿å¯¹æ•°å€¼è¿›è¡ŒåŠ å‡</td><td align="left">127.0.0.1:6379&gt; INCRBY age 5<br/> (integer) 25 <br/>127.0.0.1:6379&gt; DECRBY age 10<br/> (integer) 15</td></tr><tr><td><code>incrbyfloat key n</code></td><td align="left">ä¸ºæ•°å€¼åŠ ä¸Šæµ®ç‚¹å‹æ•°å€¼</td><td align="left">127.0.0.1:6379&gt; INCRBYFLOAT age 5.2 <br/>â€œ20.2â€</td></tr><tr><td><code>STRLEN key</code></td><td align="left">è·å–keyä¿å­˜å€¼çš„å­—ç¬¦ä¸²é•¿åº¦</td><td align="left">127.0.0.1:6379&gt; set msg â€œhello worldâ€ <br/>127.0.0.1:6379&gt; STRLEN msg <br/>(integer) 11</td></tr><tr><td><code>getrange key start end</code></td><td align="left">æŒ‰èµ·æ­¢ä½ç½®è·å–å­—ç¬¦ä¸²ï¼ˆé—­åŒºé—´ï¼Œèµ·æ­¢ä½ç½®éƒ½å–ï¼‰</td><td align="left">127.0.0.1:6379&gt; set msg â€œhello worldâ€ <br/>127.0.0.1:6379&gt; GETRANGE msg 3 9 â€œlo worlâ€<br/>127.0.0.1:6379&gt; GETRANGE msg 0 -1 â€œhello worldâ€</td></tr><tr><td><code>setrange key offset value</code></td><td align="left">ç”¨æŒ‡å®šçš„value æ›¿æ¢keyä¸­ offsetå¼€å§‹çš„å€¼</td><td align="left">127.0.0.1:6379&gt; set msg abcdef<br/>OK<br/>127.0.0.1:6379&gt; SETRANGE msg 1 222<br/>(integer) 6<br/>127.0.0.1:6379&gt; get msg<br/>â€œa222efâ€</td></tr><tr><td><code>getset key value</code></td><td align="left">å°†ç»™å®š key çš„å€¼è®¾ä¸º value ï¼Œå¹¶è¿”å› key çš„æ—§å€¼(old value)ã€‚</td><td align="left">127.0.0.1:6379&gt; get msg<br/>â€œa222efâ€<br/>127.0.0.1:6379&gt; GETSET msg test<br/>â€œa222efâ€<br/>127.0.0.1:6379&gt; get msg<br/>â€œtestâ€</td></tr><tr><td><code>setnx key value</code></td><td align="left">ä»…å½“keyä¸å­˜åœ¨æ—¶è¿›è¡Œset</td><td align="left">127.0.0.1:6379&gt; SETNX msg test (integer) 0 <br/>127.0.0.1:6379&gt; SETNX name sakura (integer) 1</td></tr><tr><td><code>setex key seconds value</code></td><td align="left">set é”®å€¼å¯¹å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</td><td align="left">127.0.0.1:6379&gt; setex msg 10 123<br/>OK<br/>127.0.0.1:6379&gt; get msg<br/>â€œ123â€<br/>127.0.0.1:6379&gt; ttl msg<br/>(integer) 4</td></tr><tr><td><code>mset key1 value1 [key2 value2..]</code></td><td align="left">æ‰¹é‡seté”®å€¼å¯¹</td><td align="left">127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3 <br>OK</td></tr><tr><td><code>msetnx key1 value1 [key2 value2..]</code></td><td align="left">æ‰¹é‡è®¾ç½®é”®å€¼å¯¹ï¼Œä»…å½“å‚æ•°ä¸­æ‰€æœ‰çš„keyéƒ½ä¸å­˜åœ¨æ—¶æ‰§è¡Œ</td><td align="left">127.0.0.1:6379&gt; MSETnx k1 v1 k2 v2 k4 v4<br/>(integer) 0<br/>127.0.0.1:6379&gt; MSETnx k5 v5  k4 v4<br/>(integer) 1</td></tr><tr><td><code>mget key1 [key2..]</code></td><td align="left">æ‰¹é‡è·å–å¤šä¸ªkeyä¿å­˜çš„å€¼</td><td align="left">127.0.0.1:6379&gt; mget k1 k2 k3<br/>1) â€œv1â€<br/>2) â€œv2â€<br/>3) â€œv3â€</td></tr><tr><td><code>psetex key milliseconds value</code></td><td align="left">å’Œ SETEX å‘½ä»¤ç›¸ä¼¼ï¼Œä½†å®ƒä»¥æ¯«ç§’ä¸ºå•ä½è®¾ç½® key çš„ç”Ÿå­˜æ—¶é—´ï¼Œ</td><td align="left">psetex k1 100000 123<br/>OK<br/>127.0.0.1:6379&gt; get k1<br/>â€œ123â€<br/>127.0.0.1:6379&gt; ttl k1<br/>(integer) 95</td></tr><tr><td></td><td align="left"></td><td align="left"></td></tr></tbody></table><p>Stringç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼švalueé™¤äº†æ˜¯å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æ•°å­—ï¼Œç”¨é€”ä¸¾ä¾‹ï¼š</p><ul><li>è®¡æ•°å™¨</li><li>ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡ï¼šuid:123666:follow 0</li><li>ç²‰ä¸æ•°</li><li>å¯¹è±¡å­˜å‚¨ç¼“å­˜</li></ul><h3 id="List-åˆ—è¡¨"><a href="#List-åˆ—è¡¨" class="headerlink" title="List(åˆ—è¡¨)"></a>List(åˆ—è¡¨)</h3><blockquote><p>Redisåˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰</p><p>ä¸€ä¸ªåˆ—è¡¨æœ€å¤šå¯ä»¥åŒ…å« 232 - 1 ä¸ªå…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨è¶…è¿‡40äº¿ä¸ªå…ƒç´ )ã€‚</p></blockquote><p>é¦–å…ˆæˆ‘ä»¬åˆ—è¡¨ï¼Œå¯ä»¥ç»è¿‡è§„åˆ™å®šä¹‰å°†å…¶å˜ä¸ºé˜Ÿåˆ—ã€æ ˆã€åŒç«¯é˜Ÿåˆ—ç­‰</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70-20201224191051165.png" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-VPvbIltc-1597890996518)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114255459.png)]"></p><p>æ­£å¦‚å›¾Redisä¸­Listæ˜¯å¯ä»¥è¿›è¡ŒåŒç«¯æ“ä½œçš„ï¼Œæ‰€ä»¥å‘½ä»¤ä¹Ÿå°±åˆ†ä¸ºäº†LXXXå’ŒRLLLä¸¤ç±»ï¼Œæœ‰æ—¶å€™Lä¹Ÿè¡¨ç¤ºListä¾‹å¦‚LLEN</p><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>lpush/rpush key value1[value2..]</code></td><td>ä»å·¦è¾¹/å³è¾¹å‘åˆ—è¡¨ä¸­PUSHå€¼(ä¸€ä¸ªæˆ–è€…å¤šä¸ª)ã€‚</td></tr><tr><td><code>lrange key start end</code></td><td>è·å–list èµ·æ­¢å…ƒç´ ==ï¼ˆç´¢å¼•ä»å·¦å¾€å³ é€’å¢ï¼‰==</td></tr><tr><td><code>lpushx/RPUSHX key value</code></td><td>å‘å·²å­˜åœ¨çš„åˆ—åä¸­pushå€¼ï¼ˆä¸€ä¸ªæˆ–è€…å¤šä¸ªï¼‰</td></tr><tr><td>`linsert key BEFORE</td><td>AFTER pivot value`</td></tr><tr><td><code>llen key</code></td><td>æŸ¥çœ‹åˆ—è¡¨é•¿åº¦</td></tr><tr><td><code>lindex key index</code></td><td>é€šè¿‡ç´¢å¼•è·å–åˆ—è¡¨å…ƒç´ </td></tr><tr><td><code>lset key index value</code></td><td>é€šè¿‡ç´¢å¼•ä¸ºå…ƒç´ è®¾å€¼</td></tr><tr><td><code>lpop/RPOP key</code></td><td>ä»æœ€å·¦è¾¹/æœ€å³è¾¹ç§»é™¤å€¼ å¹¶è¿”å›</td></tr><tr><td><code>RPOPLPUSH source destination</code></td><td>å°†åˆ—è¡¨çš„å°¾éƒ¨(å³)æœ€åä¸€ä¸ªå€¼å¼¹å‡ºï¼Œå¹¶è¿”å›ï¼Œç„¶ååŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨çš„å¤´éƒ¨</td></tr><tr><td><code>LTRIM key start end</code></td><td>é€šè¿‡ä¸‹æ ‡æˆªå–æŒ‡å®šèŒƒå›´å†…çš„åˆ—è¡¨</td></tr><tr><td><code>lrem key count value</code></td><td>Listä¸­æ˜¯å…è®¸valueé‡å¤çš„ <code>count &gt; 0</code>ï¼šä»å¤´éƒ¨å¼€å§‹æœç´¢ ç„¶ååˆ é™¤æŒ‡å®šçš„value è‡³å¤šåˆ é™¤countä¸ª <code>count &lt; 0</code>ï¼šä»å°¾éƒ¨å¼€å§‹æœç´¢â€¦ <code>count = 0</code>ï¼šåˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰çš„æŒ‡å®švalueã€‚</td></tr><tr><td><code>BLPOP/BRPOP key1[key2] timout</code></td><td>ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ å¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢ã€‚</td></tr><tr><td><code>BRPOPLPUSH source destination timeout</code></td><td>å’Œ<code>RPOPLPUSH</code>åŠŸèƒ½ç›¸åŒï¼Œå¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢ã€‚</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line">---------------------------LPUSH---RPUSH---LRANGE--------------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LPUSH mylist k1 <span class="comment"># LPUSH mylist=&gt;&#123;1&#125;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; LPUSH mylist k2 <span class="comment"># LPUSH mylist=&gt;&#123;2,1&#125;</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; RPUSH mylist k3 <span class="comment"># RPUSH mylist=&gt;&#123;2,1,3&#125;</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; get mylist <span class="comment"># æ™®é€šçš„getæ˜¯æ— æ³•è·å–listå€¼çš„</span></span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 4 <span class="comment"># LRANGE è·å–èµ·æ­¢ä½ç½®èŒƒå›´å†…çš„å…ƒç´ </span></span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">3) <span class="string">&quot;k3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 2</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">3) <span class="string">&quot;k3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 1</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1 <span class="comment"># è·å–å…¨éƒ¨å…ƒç´ </span></span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">3) <span class="string">&quot;k3&quot;</span></span><br><span class="line"></span><br><span class="line">---------------------------LPUSHX---RPUSHX-----------------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX list v1 <span class="comment"># listä¸å­˜åœ¨ LPUSHXå¤±è´¥</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; LPUSHX list v1 v2  </span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; LPUSHX mylist k4 k5 <span class="comment"># å‘mylistä¸­ å·¦è¾¹ PUSH k4 k5</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) <span class="string">&quot;k5&quot;</span></span><br><span class="line">2) <span class="string">&quot;k4&quot;</span></span><br><span class="line">3) <span class="string">&quot;k2&quot;</span></span><br><span class="line">4) <span class="string">&quot;k1&quot;</span></span><br><span class="line">5) <span class="string">&quot;k3&quot;</span></span><br><span class="line"></span><br><span class="line">---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LINSERT mylist after k2 ins_key1 <span class="comment"># åœ¨k2å…ƒç´ å æ’å…¥ins_key1</span></span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) <span class="string">&quot;k5&quot;</span></span><br><span class="line">2) <span class="string">&quot;k4&quot;</span></span><br><span class="line">3) <span class="string">&quot;k2&quot;</span></span><br><span class="line">4) <span class="string">&quot;ins_key1&quot;</span></span><br><span class="line">5) <span class="string">&quot;k1&quot;</span></span><br><span class="line">6) <span class="string">&quot;k3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LLEN mylist <span class="comment"># æŸ¥çœ‹mylistçš„é•¿åº¦</span></span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; LINDEX mylist 3 <span class="comment"># è·å–ä¸‹æ ‡ä¸º3çš„å…ƒç´ </span></span><br><span class="line"><span class="string">&quot;ins_key1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LINDEX mylist 0</span><br><span class="line"><span class="string">&quot;k5&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LSET mylist 3 k6 <span class="comment"># å°†ä¸‹æ ‡3çš„å…ƒç´  setå€¼ä¸ºk6</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) <span class="string">&quot;k5&quot;</span></span><br><span class="line">2) <span class="string">&quot;k4&quot;</span></span><br><span class="line">3) <span class="string">&quot;k2&quot;</span></span><br><span class="line">4) <span class="string">&quot;k6&quot;</span></span><br><span class="line">5) <span class="string">&quot;k1&quot;</span></span><br><span class="line">6) <span class="string">&quot;k3&quot;</span></span><br><span class="line"></span><br><span class="line">---------------------------LPOP--RPOP--------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LPOP mylist <span class="comment"># å·¦ä¾§(å¤´éƒ¨)å¼¹å‡º</span></span><br><span class="line"><span class="string">&quot;k5&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; RPOP mylist <span class="comment"># å³ä¾§(å°¾éƒ¨)å¼¹å‡º</span></span><br><span class="line"><span class="string">&quot;k3&quot;</span></span><br><span class="line"></span><br><span class="line">---------------------------RPOPLPUSH--------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) <span class="string">&quot;k4&quot;</span></span><br><span class="line">2) <span class="string">&quot;k2&quot;</span></span><br><span class="line">3) <span class="string">&quot;k6&quot;</span></span><br><span class="line">4) <span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; RPOPLPUSH mylist newlist <span class="comment"># å°†mylistçš„æœ€åä¸€ä¸ªå€¼(k1)å¼¹å‡ºï¼ŒåŠ å…¥åˆ°newlistçš„å¤´éƒ¨</span></span><br><span class="line"><span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE newlist 0 -1</span><br><span class="line">1) <span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) <span class="string">&quot;k4&quot;</span></span><br><span class="line">2) <span class="string">&quot;k2&quot;</span></span><br><span class="line">3) <span class="string">&quot;k6&quot;</span></span><br><span class="line"></span><br><span class="line">---------------------------LTRIM--------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LTRIM mylist 0 1 <span class="comment"># æˆªå–mylistä¸­çš„ 0~1éƒ¨åˆ†</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; LRANGE mylist 0 -1</span><br><span class="line">1) <span class="string">&quot;k4&quot;</span></span><br><span class="line">2) <span class="string">&quot;k2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹ mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2</span></span><br><span class="line">---------------------------LREM--------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LREM mylist 3 k2 <span class="comment"># ä»å¤´éƒ¨å¼€å§‹æœç´¢ è‡³å¤šåˆ é™¤3ä¸ª k2</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"><span class="comment"># åˆ é™¤åï¼šmylist: k2,k2,k2,k4,k2,k2,k2,k2</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; LREM mylist -2 k2 <span class="comment">#ä»å°¾éƒ¨å¼€å§‹æœç´¢ è‡³å¤šåˆ é™¤2ä¸ª k2</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"><span class="comment"># åˆ é™¤åï¼šmylist: k2,k2,k2,k4,k2,k2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---------------------------BLPOP--BRPOP--------------------------</span><br><span class="line"></span><br><span class="line">mylist: k2,k2,k2,k4,k2,k2</span><br><span class="line">newlist: k1</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; BLPOP newlist mylist 30 <span class="comment"># ä»newlistä¸­å¼¹å‡ºç¬¬ä¸€ä¸ªå€¼ï¼Œmylistä½œä¸ºå€™é€‰</span></span><br><span class="line">1) <span class="string">&quot;newlist&quot;</span> <span class="comment"># å¼¹å‡º</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BLPOP newlist mylist 30</span><br><span class="line">1) <span class="string">&quot;mylist&quot;</span> <span class="comment"># ç”±äºnewlistç©ºäº† ä»mylistä¸­å¼¹å‡º</span></span><br><span class="line">2) <span class="string">&quot;k2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BLPOP newlist 30</span><br><span class="line">(30.10s) <span class="comment"># è¶…æ—¶äº†</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; BLPOP newlist 30 <span class="comment"># æˆ‘ä»¬è¿æ¥å¦ä¸€ä¸ªå®¢æˆ·ç«¯å‘newlistä¸­pushäº†test, é˜»å¡è¢«è§£å†³ã€‚</span></span><br><span class="line">1) <span class="string">&quot;newlist&quot;</span></span><br><span class="line">2) <span class="string">&quot;test&quot;</span></span><br><span class="line">(12.54s)</span><br></pre></td></tr></table></figure><blockquote><p>å°ç»“</p></blockquote><ul><li>listå®é™…ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œbefore Node after , left, right éƒ½å¯ä»¥æ’å…¥å€¼</li><li><strong>å¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°çš„é“¾è¡¨</strong></li><li>å¦‚æœkeyå­˜åœ¨ï¼Œæ–°å¢å†…å®¹</li><li>å¦‚æœç§»é™¤äº†æ‰€æœ‰å€¼ï¼Œç©ºé“¾è¡¨ï¼Œä¹Ÿä»£è¡¨ä¸å­˜åœ¨</li><li>åœ¨ä¸¤è¾¹æ’å…¥æˆ–è€…æ”¹åŠ¨å€¼ï¼Œæ•ˆç‡æœ€é«˜ï¼ä¿®æ”¹ä¸­é—´å…ƒç´ ï¼Œæ•ˆç‡ç›¸å¯¹è¾ƒä½</li></ul><p><strong>åº”ç”¨ï¼š</strong></p><p><strong>æ¶ˆæ¯æ’é˜Ÿï¼æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆLpush Rpopï¼‰,æ ˆï¼ˆLpush Lpopï¼‰</strong></p><h3 id="Set-é›†åˆ"><a href="#Set-é›†åˆ" class="headerlink" title="Set(é›†åˆ)"></a>Set(é›†åˆ)</h3><blockquote><p>Redisçš„Setæ˜¯<strong>stringç±»å‹</strong>çš„æ— åºé›†åˆã€‚é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­ä¸èƒ½å‡ºç°é‡å¤çš„æ•°æ®ã€‚</p><p>Redis ä¸­ é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p><p>é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1 (4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>SADD key member1[member2..]</code></td><td>å‘é›†åˆä¸­æ— åºå¢åŠ ä¸€ä¸ª/å¤šä¸ªæˆå‘˜</td></tr><tr><td><code>SCARD key</code></td><td>è·å–é›†åˆçš„æˆå‘˜æ•°</td></tr><tr><td><code>SMEMBERS key</code></td><td>è¿”å›é›†åˆä¸­æ‰€æœ‰çš„æˆå‘˜</td></tr><tr><td><code>SISMEMBER key member</code></td><td>æŸ¥è¯¢memberå…ƒç´ æ˜¯å¦æ˜¯é›†åˆçš„æˆå‘˜,ç»“æœæ˜¯æ— åºçš„</td></tr><tr><td><code>SRANDMEMBER key [count]</code></td><td>éšæœºè¿”å›é›†åˆä¸­countä¸ªæˆå‘˜ï¼Œcountç¼ºçœå€¼ä¸º1</td></tr><tr><td><code>SPOP key [count]</code></td><td>éšæœºç§»é™¤å¹¶è¿”å›é›†åˆä¸­countä¸ªæˆå‘˜ï¼Œcountç¼ºçœå€¼ä¸º1</td></tr><tr><td><code>SMOVE source destination member</code></td><td>å°†sourceé›†åˆçš„æˆå‘˜memberç§»åŠ¨åˆ°destinationé›†åˆ</td></tr><tr><td><code>SREM key member1[member2..]</code></td><td>ç§»é™¤é›†åˆä¸­ä¸€ä¸ª/å¤šä¸ªæˆå‘˜</td></tr><tr><td><code>SDIFF key1[key2..]</code></td><td>è¿”å›æ‰€æœ‰é›†åˆçš„å·®é›† key1- key2 - â€¦</td></tr><tr><td><code>SDIFFSTORE destination key1[key2..]</code></td><td>åœ¨SDIFFçš„åŸºç¡€ä¸Šï¼Œå°†ç»“æœä¿å­˜åˆ°é›†åˆä¸­==(è¦†ç›–)==ã€‚ä¸èƒ½ä¿å­˜åˆ°å…¶ä»–ç±»å‹keyå™¢ï¼</td></tr><tr><td><code>SINTER key1 [key2..]</code></td><td>è¿”å›æ‰€æœ‰é›†åˆçš„äº¤é›†</td></tr><tr><td><code>SINTERSTORE destination key1[key2..]</code></td><td>åœ¨SINTERçš„åŸºç¡€ä¸Šï¼Œå­˜å‚¨ç»“æœåˆ°é›†åˆä¸­ã€‚è¦†ç›–</td></tr><tr><td><code>SUNION key1 [key2..]</code></td><td>è¿”å›æ‰€æœ‰é›†åˆçš„å¹¶é›†</td></tr><tr><td><code>SUNIONSTORE destination key1 [key2..]</code></td><td>åœ¨SUNIONçš„åŸºç¡€ä¸Šï¼Œå­˜å‚¨ç»“æœåˆ°åŠå’Œå¼ ã€‚è¦†ç›–</td></tr><tr><td><code>SSCAN KEY [MATCH pattern] [COUNT count]</code></td><td>åœ¨å¤§é‡æ•°æ®ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨æ­¤å‘½ä»¤éå†é›†åˆä¸­å…ƒç´ ï¼Œæ¯æ¬¡éå†éƒ¨åˆ†</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; SADD myset m1 m2 m3 m4 <span class="comment"># å‘mysetä¸­å¢åŠ æˆå‘˜ m1~m4</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; SCARD myset <span class="comment"># è·å–é›†åˆçš„æˆå‘˜æ•°ç›®</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers myset <span class="comment"># è·å–é›†åˆä¸­æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">3) <span class="string">&quot;m2&quot;</span></span><br><span class="line">4) <span class="string">&quot;m1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SISMEMBER myset m5 <span class="comment"># æŸ¥è¯¢m5æ˜¯å¦æ˜¯mysetçš„æˆå‘˜</span></span><br><span class="line">(<span class="built_in">integer</span>) 0 <span class="comment"># ä¸æ˜¯ï¼Œè¿”å›0</span></span><br><span class="line">127.0.0.1:6379&gt; SISMEMBER myset m2</span><br><span class="line">(<span class="built_in">integer</span>) 1 <span class="comment"># æ˜¯ï¼Œè¿”å›1</span></span><br><span class="line">127.0.0.1:6379&gt; SISMEMBER myset m3</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">---------------------SRANDMEMBER--SPOP----------------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; SRANDMEMBER myset 3 <span class="comment"># éšæœºè¿”å›3ä¸ªæˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m2&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">3) <span class="string">&quot;m4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SRANDMEMBER myset <span class="comment"># éšæœºè¿”å›1ä¸ªæˆå‘˜</span></span><br><span class="line"><span class="string">&quot;m3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SPOP myset 2 <span class="comment"># éšæœºç§»é™¤å¹¶è¿”å›2ä¸ªæˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m1&quot;</span></span><br><span class="line">2) <span class="string">&quot;m4&quot;</span></span><br><span class="line"><span class="comment"># å°†setè¿˜åŸåˆ°&#123;m1,m2,m3,m4&#125;</span></span><br><span class="line"></span><br><span class="line">---------------------SMOVE--SREM----------------------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; SMOVE myset newset m3 <span class="comment"># å°†mysetä¸­m3æˆå‘˜ç§»åŠ¨åˆ°newseté›†åˆ</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS myset</span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m2&quot;</span></span><br><span class="line">3) <span class="string">&quot;m1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS newset</span><br><span class="line">1) <span class="string">&quot;m3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SREM newset m3 <span class="comment"># ä»newsetä¸­ç§»é™¤m3å…ƒç´ </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS newset</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹é¢å¼€å§‹æ˜¯å¤šé›†åˆæ“ä½œ,å¤šé›†åˆæ“ä½œä¸­è‹¥åªæœ‰ä¸€ä¸ªå‚æ•°é»˜è®¤å’Œè‡ªèº«è¿›è¡Œè¿ç®—</span></span><br><span class="line"><span class="comment"># setx=&gt;&#123;m1,m2,m4,m6&#125;, sety=&gt;&#123;m2,m5,m6&#125;, setz=&gt;&#123;m1,m3,m6&#125;</span></span><br><span class="line"></span><br><span class="line">-----------------------------SDIFF------------------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; SDIFF setx sety setz <span class="comment"># ç­‰ä»·äºsetx-sety-setz</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SDIFF setx sety <span class="comment"># setx - sety</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SDIFF sety setx <span class="comment"># sety - setx</span></span><br><span class="line">1) <span class="string">&quot;m5&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------------------SINTER---------------------------------------</span><br><span class="line"><span class="comment"># å…±åŒå…³æ³¨ï¼ˆäº¤é›†ï¼‰</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; SINTER setx sety setz <span class="comment"># æ±‚ setxã€setyã€setxçš„äº¤é›†</span></span><br><span class="line">1) <span class="string">&quot;m6&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SINTER setx sety <span class="comment"># æ±‚setx setyçš„äº¤é›†</span></span><br><span class="line">1) <span class="string">&quot;m2&quot;</span></span><br><span class="line">2) <span class="string">&quot;m6&quot;</span></span><br><span class="line"></span><br><span class="line">-------------------------SUNION---------------------------------------</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; SUNION setx sety setz <span class="comment"># setx sety setzçš„å¹¶é›†</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m6&quot;</span></span><br><span class="line">3) <span class="string">&quot;m3&quot;</span></span><br><span class="line">4) <span class="string">&quot;m2&quot;</span></span><br><span class="line">5) <span class="string">&quot;m1&quot;</span></span><br><span class="line">6) <span class="string">&quot;m5&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; SUNION setx sety <span class="comment"># setx sety å¹¶é›†</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m6&quot;</span></span><br><span class="line">3) <span class="string">&quot;m2&quot;</span></span><br><span class="line">4) <span class="string">&quot;m1&quot;</span></span><br><span class="line">5) <span class="string">&quot;m5&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Hashï¼ˆå“ˆå¸Œï¼‰"><a href="#Hashï¼ˆå“ˆå¸Œï¼‰" class="headerlink" title="Hashï¼ˆå“ˆå¸Œï¼‰"></a>Hashï¼ˆå“ˆå¸Œï¼‰</h3><blockquote><p>Redis hash æ˜¯ä¸€ä¸ªstringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œhashç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p><p>Setå°±æ˜¯ä¸€ç§ç®€åŒ–çš„Hash,åªå˜åŠ¨key,è€Œvalueä½¿ç”¨é»˜è®¤å€¼å¡«å……ã€‚å¯ä»¥å°†ä¸€ä¸ªHashè¡¨ä½œä¸ºä¸€ä¸ªå¯¹è±¡è¿›è¡Œå­˜å‚¨ï¼Œè¡¨ä¸­å­˜æ”¾å¯¹è±¡çš„ä¿¡æ¯ã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>HSET key field value</code></td><td>å°†å“ˆå¸Œè¡¨ key ä¸­çš„å­—æ®µ field çš„å€¼è®¾ä¸º value ã€‚é‡å¤è®¾ç½®åŒä¸€ä¸ªfieldä¼šè¦†ç›–,è¿”å›0</td></tr><tr><td><code>HMSET key field1 value1 [field2 value2..]</code></td><td>åŒæ—¶å°†å¤šä¸ª field-value (åŸŸ-å€¼)å¯¹è®¾ç½®åˆ°å“ˆå¸Œè¡¨ key ä¸­ã€‚</td></tr><tr><td><code>HSETNX key field value</code></td><td>åªæœ‰åœ¨å­—æ®µ field ä¸å­˜åœ¨æ—¶ï¼Œè®¾ç½®å“ˆå¸Œè¡¨å­—æ®µçš„å€¼ã€‚</td></tr><tr><td><code>HEXISTS key field</code></td><td>æŸ¥çœ‹å“ˆå¸Œè¡¨ key ä¸­ï¼ŒæŒ‡å®šçš„å­—æ®µæ˜¯å¦å­˜åœ¨ã€‚</td></tr><tr><td><code>HGET key field value</code></td><td>è·å–å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„å€¼</td></tr><tr><td><code>HMGET key field1 [field2..]</code></td><td>è·å–æ‰€æœ‰ç»™å®šå­—æ®µçš„å€¼</td></tr><tr><td><code>HGETALL key</code></td><td>è·å–åœ¨å“ˆå¸Œè¡¨key çš„æ‰€æœ‰å­—æ®µå’Œå€¼</td></tr><tr><td><code>HKEYS key</code></td><td>è·å–å“ˆå¸Œè¡¨keyä¸­æ‰€æœ‰çš„å­—æ®µ</td></tr><tr><td><code>HLEN key</code></td><td>è·å–å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡</td></tr><tr><td><code>HVALS key</code></td><td>è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰å€¼</td></tr><tr><td><code>HDEL key field1 [field2..]</code></td><td>åˆ é™¤å“ˆå¸Œè¡¨keyä¸­ä¸€ä¸ª/å¤šä¸ªfieldå­—æ®µ</td></tr><tr><td><code>HINCRBY key field n</code></td><td>ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æ•´æ•°å€¼åŠ ä¸Šå¢é‡nï¼Œå¹¶è¿”å›å¢é‡åç»“æœ ä¸€æ ·åªé€‚ç”¨äºæ•´æ•°å‹å­—æ®µ</td></tr><tr><td><code>HINCRBYFLOAT key field n</code></td><td>ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æµ®ç‚¹æ•°å€¼åŠ ä¸Šå¢é‡ nã€‚</td></tr><tr><td><code>HSCAN key cursor [MATCH pattern] [COUNT count]</code></td><td>è¿­ä»£å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹ã€‚</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">------------------------HSET--HMSET--HSETNX----------------</span><br><span class="line">127.0.0.1:6379&gt; HSET studentx name sakura <span class="comment"># å°†studentxå“ˆå¸Œè¡¨ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè®¾ç½®nameä¸ºsakura</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; HSET studentx name gyc <span class="comment"># é‡å¤è®¾ç½®fieldè¿›è¡Œè¦†ç›–ï¼Œå¹¶è¿”å›0</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; HSET studentx age 20 <span class="comment"># è®¾ç½®studentxçš„ageä¸º20</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; HMSET studentx sex 1 tel 15623667886 <span class="comment"># è®¾ç½®sexä¸º1ï¼Œtelä¸º15623667886</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; HSETNX studentx name gyc <span class="comment"># HSETNX è®¾ç½®å·²å­˜åœ¨çš„field</span></span><br><span class="line">(<span class="built_in">integer</span>) 0 <span class="comment"># å¤±è´¥</span></span><br><span class="line">127.0.0.1:6379&gt; HSETNX studentx email 12345@qq.com</span><br><span class="line">(<span class="built_in">integer</span>) 1 <span class="comment"># æˆåŠŸ</span></span><br><span class="line"></span><br><span class="line">----------------------HEXISTS--------------------------------</span><br><span class="line">127.0.0.1:6379&gt; HEXISTS studentx name <span class="comment"># nameå­—æ®µåœ¨studentxä¸­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">(<span class="built_in">integer</span>) 1 <span class="comment"># å­˜åœ¨</span></span><br><span class="line">127.0.0.1:6379&gt; HEXISTS studentx addr</span><br><span class="line">(<span class="built_in">integer</span>) 0 <span class="comment"># ä¸å­˜åœ¨</span></span><br><span class="line"></span><br><span class="line">-------------------HGET--HMGET--HGETALL-----------</span><br><span class="line">127.0.0.1:6379&gt; HGET studentx name <span class="comment"># è·å–studentxä¸­nameå­—æ®µçš„value</span></span><br><span class="line"><span class="string">&quot;gyc&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; HMGET studentx name age tel <span class="comment"># è·å–studentxä¸­nameã€ageã€telå­—æ®µçš„value</span></span><br><span class="line">1) <span class="string">&quot;gyc&quot;</span></span><br><span class="line">2) <span class="string">&quot;20&quot;</span></span><br><span class="line">3) <span class="string">&quot;15623667886&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; HGETALL studentx <span class="comment"># è·å–studentxä¸­æ‰€æœ‰çš„fieldåŠå…¶value</span></span><br><span class="line"> 1) <span class="string">&quot;name&quot;</span></span><br><span class="line"> 2) <span class="string">&quot;gyc&quot;</span></span><br><span class="line"> 3) <span class="string">&quot;age&quot;</span></span><br><span class="line"> 4) <span class="string">&quot;20&quot;</span></span><br><span class="line"> 5) <span class="string">&quot;sex&quot;</span></span><br><span class="line"> 6) <span class="string">&quot;1&quot;</span></span><br><span class="line"> 7) <span class="string">&quot;tel&quot;</span></span><br><span class="line"> 8) <span class="string">&quot;15623667886&quot;</span></span><br><span class="line"> 9) <span class="string">&quot;email&quot;</span></span><br><span class="line">10) <span class="string">&quot;12345@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------HKEYS--HLEN--HVALS--------------</span><br><span class="line">127.0.0.1:6379&gt; HKEYS studentx <span class="comment"># æŸ¥çœ‹studentxä¸­æ‰€æœ‰çš„field</span></span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;age&quot;</span></span><br><span class="line">3) <span class="string">&quot;sex&quot;</span></span><br><span class="line">4) <span class="string">&quot;tel&quot;</span></span><br><span class="line">5) <span class="string">&quot;email&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; HLEN studentx <span class="comment"># æŸ¥çœ‹studentxä¸­çš„å­—æ®µæ•°é‡</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; HVALS studentx <span class="comment"># æŸ¥çœ‹studentxä¸­æ‰€æœ‰çš„value</span></span><br><span class="line">1) <span class="string">&quot;gyc&quot;</span></span><br><span class="line">2) <span class="string">&quot;20&quot;</span></span><br><span class="line">3) <span class="string">&quot;1&quot;</span></span><br><span class="line">4) <span class="string">&quot;15623667886&quot;</span></span><br><span class="line">5) <span class="string">&quot;12345@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line">-------------------------HDEL--------------------------</span><br><span class="line">127.0.0.1:6379&gt; HDEL studentx sex tel <span class="comment"># åˆ é™¤studentx ä¸­çš„sexã€telå­—æ®µ</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; HKEYS studentx</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">2) <span class="string">&quot;age&quot;</span></span><br><span class="line">3) <span class="string">&quot;email&quot;</span></span><br><span class="line"></span><br><span class="line">-------------HINCRBY--HINCRBYFLOAT------------------------</span><br><span class="line">127.0.0.1:6379&gt; HINCRBY studentx age 1 <span class="comment"># studentxçš„ageå­—æ®µæ•°å€¼+1</span></span><br><span class="line">(<span class="built_in">integer</span>) 21</span><br><span class="line">127.0.0.1:6379&gt; HINCRBY studentx name 1 <span class="comment"># éæ•´æ•°å­—å‹å­—æ®µä¸å¯ç”¨</span></span><br><span class="line">(error) ERR <span class="built_in">hash</span> value is not an <span class="built_in">integer</span></span><br><span class="line">127.0.0.1:6379&gt; HINCRBYFLOAT studentx weight 0.6 <span class="comment"># weightå­—æ®µå¢åŠ 0.6</span></span><br><span class="line"><span class="string">&quot;90.8&quot;</span></span><br></pre></td></tr></table></figure><p> Hashå˜æ›´çš„æ•°æ®user name ageï¼Œå°¤å…¶æ˜¯ç”¨æˆ·ä¿¡æ¯ä¹‹ç±»çš„ï¼Œç»å¸¸å˜åŠ¨çš„ä¿¡æ¯ï¼<strong>Hashæ›´é€‚åˆäºå¯¹è±¡çš„å­˜å‚¨ï¼ŒSringæ›´åŠ é€‚åˆå­—ç¬¦ä¸²å­˜å‚¨ï¼</strong></p><h3 id="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"><a href="#Zsetï¼ˆæœ‰åºé›†åˆï¼‰" class="headerlink" title="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"></a>Zsetï¼ˆæœ‰åºé›†åˆï¼‰</h3><blockquote><p>ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ï¼ˆscoreï¼‰ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚</p><p>scoreç›¸åŒï¼šæŒ‰å­—å…¸é¡ºåºæ’åº</p><p>æœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>ZADD key score member1 [score2 member2]</code></td><td>å‘æœ‰åºé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼Œæˆ–è€…æ›´æ–°å·²å­˜åœ¨æˆå‘˜çš„åˆ†æ•°</td></tr><tr><td><code>ZCARD key</code></td><td>è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°</td></tr><tr><td><code>ZCOUNT key min max</code></td><td>è®¡ç®—åœ¨æœ‰åºé›†åˆä¸­æŒ‡å®šåŒºé—´scoreçš„æˆå‘˜æ•°</td></tr><tr><td><code>ZINCRBY key n member</code></td><td>æœ‰åºé›†åˆä¸­å¯¹æŒ‡å®šæˆå‘˜çš„åˆ†æ•°åŠ ä¸Šå¢é‡ n</td></tr><tr><td><code>ZSCORE key member</code></td><td>è¿”å›æœ‰åºé›†ä¸­ï¼Œæˆå‘˜çš„åˆ†æ•°å€¼</td></tr><tr><td><code>ZRANK key member</code></td><td>è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šæˆå‘˜çš„ç´¢å¼•</td></tr><tr><td><code>ZRANGE key start end</code></td><td>é€šè¿‡ç´¢å¼•åŒºé—´è¿”å›æœ‰åºé›†åˆæˆæŒ‡å®šåŒºé—´å†…çš„æˆå‘˜</td></tr><tr><td><code>ZRANGEBYLEX key min max</code></td><td>é€šè¿‡å­—å…¸åŒºé—´è¿”å›æœ‰åºé›†åˆçš„æˆå‘˜</td></tr><tr><td><code>ZRANGEBYSCORE key min max</code></td><td>é€šè¿‡åˆ†æ•°è¿”å›æœ‰åºé›†åˆæŒ‡å®šåŒºé—´å†…çš„æˆå‘˜==-inf å’Œ +infåˆ†åˆ«è¡¨ç¤ºæœ€å°æœ€å¤§å€¼ï¼Œåªæ”¯æŒå¼€åŒºé—´()==</td></tr><tr><td><code>ZLEXCOUNT key min max</code></td><td>åœ¨æœ‰åºé›†åˆä¸­è®¡ç®—æŒ‡å®šå­—å…¸åŒºé—´å†…æˆå‘˜æ•°é‡</td></tr><tr><td><code>ZREM key member1 [member2..]</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ä¸€ä¸ª/å¤šä¸ªæˆå‘˜</td></tr><tr><td><code>ZREMRANGEBYLEX key min max</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„å­—å…¸åŒºé—´çš„æ‰€æœ‰æˆå‘˜</td></tr><tr><td><code>ZREMRANGEBYRANK key start stop</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„æ’ååŒºé—´çš„æ‰€æœ‰æˆå‘˜</td></tr><tr><td><code>ZREMRANGEBYSCORE key min max</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„åˆ†æ•°åŒºé—´çš„æ‰€æœ‰æˆå‘˜</td></tr><tr><td><code>ZREVRANGE key start end</code></td><td>è¿”å›æœ‰åºé›†ä¸­æŒ‡å®šåŒºé—´å†…çš„æˆå‘˜ï¼Œé€šè¿‡ç´¢å¼•ï¼Œåˆ†æ•°ä»é«˜åˆ°åº•</td></tr><tr><td><code>ZREVRANGEBYSCORRE key max min</code></td><td>è¿”å›æœ‰åºé›†ä¸­æŒ‡å®šåˆ†æ•°åŒºé—´å†…çš„æˆå‘˜ï¼Œåˆ†æ•°ä»é«˜åˆ°ä½æ’åº</td></tr><tr><td><code>ZREVRANGEBYLEX key max min</code></td><td>è¿”å›æœ‰åºé›†ä¸­æŒ‡å®šå­—å…¸åŒºé—´å†…çš„æˆå‘˜ï¼ŒæŒ‰å­—å…¸é¡ºåºå€’åº</td></tr><tr><td><code>ZREVRANK key member</code></td><td>è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šæˆå‘˜çš„æ’åï¼Œæœ‰åºé›†æˆå‘˜æŒ‰åˆ†æ•°å€¼é€’å‡(ä»å¤§åˆ°å°)æ’åº</td></tr><tr><td><code>ZINTERSTORE destination numkeys key1 [key2 ..]</code></td><td>è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†çš„äº¤é›†å¹¶å°†ç»“æœé›†å­˜å‚¨åœ¨æ–°çš„æœ‰åºé›†åˆ key ä¸­ï¼Œnumkeysï¼šè¡¨ç¤ºå‚ä¸è¿ç®—çš„é›†åˆæ•°ï¼Œå°†scoreç›¸åŠ ä½œä¸ºç»“æœçš„score</td></tr><tr><td><code>ZUNIONSTORE destination numkeys key1 [key2..]</code></td><td>è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†çš„äº¤é›†å¹¶å°†ç»“æœé›†å­˜å‚¨åœ¨æ–°çš„æœ‰åºé›†åˆ key ä¸­</td></tr><tr><td><code>ZSCAN key cursor [MATCH pattern\] [COUNT count]</code></td><td>è¿­ä»£æœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼ˆåŒ…æ‹¬å…ƒç´ æˆå‘˜å’Œå…ƒç´ åˆ†å€¼ï¼‰</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">-------------------ZADD--ZCARD--ZCOUNT--------------</span><br><span class="line">127.0.0.1:6379&gt; ZADD myzset 1 m1 2 m2 3 m3 <span class="comment"># å‘æœ‰åºé›†åˆmyzsetä¸­æ·»åŠ æˆå‘˜m1 score=1 ä»¥åŠæˆå‘˜m2 score=2..</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; ZCARD myzset <span class="comment"># è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; ZCOUNT myzset 0 1 <span class="comment"># è·å–scoreåœ¨ [0,1]åŒºé—´çš„æˆå‘˜æ•°é‡</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; ZCOUNT myzset 0 2</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br><span class="line">----------------ZINCRBY--ZSCORE--------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZINCRBY myzset 5 m2 <span class="comment"># å°†æˆå‘˜m2çš„score +5</span></span><br><span class="line"><span class="string">&quot;7&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZSCORE myzset m1 <span class="comment"># è·å–æˆå‘˜m1çš„score</span></span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZSCORE myzset m2</span><br><span class="line"><span class="string">&quot;7&quot;</span></span><br><span class="line"></span><br><span class="line">--------------ZRANK--ZRANGE-----------------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZRANK myzset m1 <span class="comment"># è·å–æˆå‘˜m1çš„ç´¢å¼•ï¼Œç´¢å¼•æŒ‰ç…§scoreæ’åºï¼Œscoreç›¸åŒç´¢å¼•å€¼æŒ‰å­—å…¸é¡ºåºé¡ºåºå¢åŠ </span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; ZRANK myzset m2</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE myzset 0 1 <span class="comment"># è·å–ç´¢å¼•åœ¨ 0~1çš„æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m1&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZRANGE myzset 0 -1 <span class="comment"># è·å–å…¨éƒ¨æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m1&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">3) <span class="string">&quot;m2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#testset=&gt;&#123;abc,add,amaze,apple,back,java,redis&#125; scoreå‡ä¸º0</span></span><br><span class="line">------------------ZRANGEBYLEX---------------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYLEX testset - + <span class="comment"># è¿”å›æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;abc&quot;</span></span><br><span class="line">2) <span class="string">&quot;add&quot;</span></span><br><span class="line">3) <span class="string">&quot;amaze&quot;</span></span><br><span class="line">4) <span class="string">&quot;apple&quot;</span></span><br><span class="line">5) <span class="string">&quot;back&quot;</span></span><br><span class="line">6) <span class="string">&quot;java&quot;</span></span><br><span class="line">7) <span class="string">&quot;redis&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 0 3 <span class="comment"># åˆ†é¡µ æŒ‰ç´¢å¼•æ˜¾ç¤ºæŸ¥è¯¢ç»“æœçš„ 0,1,2æ¡è®°å½•</span></span><br><span class="line">1) <span class="string">&quot;abc&quot;</span></span><br><span class="line">2) <span class="string">&quot;add&quot;</span></span><br><span class="line">3) <span class="string">&quot;amaze&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 3 3 <span class="comment"># æ˜¾ç¤º 3,4,5æ¡è®°å½•</span></span><br><span class="line">1) <span class="string">&quot;apple&quot;</span></span><br><span class="line">2) <span class="string">&quot;back&quot;</span></span><br><span class="line">3) <span class="string">&quot;java&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYLEX testset (- [apple <span class="comment"># æ˜¾ç¤º (-,apple] åŒºé—´å†…çš„æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;abc&quot;</span></span><br><span class="line">2) <span class="string">&quot;add&quot;</span></span><br><span class="line">3) <span class="string">&quot;amaze&quot;</span></span><br><span class="line">4) <span class="string">&quot;apple&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYLEX testset [apple [java <span class="comment"># æ˜¾ç¤º [apple,java]å­—å…¸åŒºé—´çš„æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;apple&quot;</span></span><br><span class="line">2) <span class="string">&quot;back&quot;</span></span><br><span class="line">3) <span class="string">&quot;java&quot;</span></span><br><span class="line"></span><br><span class="line">-----------------------ZRANGEBYSCORE---------------------</span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 10 <span class="comment"># è¿”å›scoreåœ¨ [1,10]ä¹‹é—´çš„çš„æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m1&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">3) <span class="string">&quot;m2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 5</span><br><span class="line">1) <span class="string">&quot;m1&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line"></span><br><span class="line">--------------------ZLEXCOUNT-----------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZLEXCOUNT testset - +</span><br><span class="line">(<span class="built_in">integer</span>) 7</span><br><span class="line">127.0.0.1:6379&gt; ZLEXCOUNT testset [apple [java</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"></span><br><span class="line">------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZREM testset abc <span class="comment"># ç§»é™¤æˆå‘˜abc</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; ZREMRANGEBYLEX testset [apple [java <span class="comment"># ç§»é™¤å­—å…¸åŒºé—´[apple,java]ä¸­çš„æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; ZREMRANGEBYRANK testset 0 1 <span class="comment"># ç§»é™¤æ’å0~1çš„æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; ZREMRANGEBYSCORE myzset 0 3 <span class="comment"># ç§»é™¤scoreåœ¨ [0,3]çš„æˆå‘˜</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># testset=&gt; &#123;abc,add,apple,amaze,back,java,redis&#125; scoreå‡ä¸º0</span></span><br><span class="line"><span class="comment"># myzset=&gt; &#123;(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)&#125;</span></span><br><span class="line">----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------</span><br><span class="line">127.0.0.1:6379&gt; ZREVRANGE myzset 0 3 <span class="comment"># æŒ‰scoreé€’å‡æ’åºï¼Œç„¶åæŒ‰ç´¢å¼•ï¼Œè¿”å›ç»“æœçš„ 0~3</span></span><br><span class="line">1) <span class="string">&quot;m9&quot;</span></span><br><span class="line">2) <span class="string">&quot;m7&quot;</span></span><br><span class="line">3) <span class="string">&quot;m4&quot;</span></span><br><span class="line">4) <span class="string">&quot;m3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZREVRANGE myzset 2 4 <span class="comment"># è¿”å›æ’åºç»“æœçš„ ç´¢å¼•çš„2~4</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">3) <span class="string">&quot;m2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZREVRANGEBYSCORE myzset 6 2 <span class="comment"># æŒ‰scoreé€’å‡é¡ºåº è¿”å›é›†åˆä¸­åˆ†æ•°åœ¨[2,6]ä¹‹é—´çš„æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;m4&quot;</span></span><br><span class="line">2) <span class="string">&quot;m3&quot;</span></span><br><span class="line">3) <span class="string">&quot;m2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ZREVRANGEBYLEX testset [java (add <span class="comment"># æŒ‰å­—å…¸å€’åº è¿”å›é›†åˆä¸­(add,java]å­—å…¸åŒºé—´çš„æˆå‘˜</span></span><br><span class="line">1) <span class="string">&quot;java&quot;</span></span><br><span class="line">2) <span class="string">&quot;back&quot;</span></span><br><span class="line">3) <span class="string">&quot;apple&quot;</span></span><br><span class="line">4) <span class="string">&quot;amaze&quot;</span></span><br><span class="line"></span><br><span class="line">-------------------------ZREVRANK------------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZREVRANK myzset m7 <span class="comment"># æŒ‰scoreé€’å‡é¡ºåºï¼Œè¿”å›æˆå‘˜m7ç´¢å¼•</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; ZREVRANK myzset m2</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># mathscore=&gt;&#123;(xm,90),(xh,95),(xg,87)&#125; å°æ˜ã€å°çº¢ã€å°åˆšçš„æ•°å­¦æˆç»©</span></span><br><span class="line"><span class="comment"># enscore=&gt;&#123;(xm,70),(xh,93),(xg,90)&#125; å°æ˜ã€å°çº¢ã€å°åˆšçš„è‹±è¯­æˆç»©</span></span><br><span class="line">-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------</span><br><span class="line">127.0.0.1:6379&gt; ZINTERSTORE sumscore 2 mathscore enscore <span class="comment"># å°†mathscore enscoreè¿›è¡Œåˆå¹¶ ç»“æœå­˜æ”¾åˆ°sumscore</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE sumscore 0 -1 withscores <span class="comment"># åˆå¹¶åçš„scoreæ˜¯ä¹‹å‰é›†åˆä¸­æ‰€æœ‰scoreçš„å’Œ</span></span><br><span class="line">1) <span class="string">&quot;xm&quot;</span></span><br><span class="line">2) <span class="string">&quot;160&quot;</span></span><br><span class="line">3) <span class="string">&quot;xg&quot;</span></span><br><span class="line">4) <span class="string">&quot;177&quot;</span></span><br><span class="line">5) <span class="string">&quot;xh&quot;</span></span><br><span class="line">6) <span class="string">&quot;188&quot;</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; ZUNIONSTORE lowestscore 2 mathscore enscore AGGREGATE MIN <span class="comment"># å–ä¸¤ä¸ªé›†åˆçš„æˆå‘˜scoreæœ€å°å€¼ä½œä¸ºç»“æœçš„</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; ZRANGE lowestscore 0 -1 withscores</span><br><span class="line">1) <span class="string">&quot;xm&quot;</span></span><br><span class="line">2) <span class="string">&quot;70&quot;</span></span><br><span class="line">3) <span class="string">&quot;xg&quot;</span></span><br><span class="line">4) <span class="string">&quot;87&quot;</span></span><br><span class="line">5) <span class="string">&quot;xh&quot;</span></span><br><span class="line">6) <span class="string">&quot;93&quot;</span></span><br></pre></td></tr></table></figure><p>åº”ç”¨æ¡ˆä¾‹ï¼š</p><ul><li>setæ’åº å­˜å‚¨ç­çº§æˆç»©è¡¨ å·¥èµ„è¡¨æ’åºï¼</li><li>æ™®é€šæ¶ˆæ¯ï¼Œ1.é‡è¦æ¶ˆæ¯ 2.å¸¦æƒé‡è¿›è¡Œåˆ¤æ–­</li><li>æ’è¡Œæ¦œåº”ç”¨å®ç°ï¼Œå–Top Næµ‹è¯•</li></ul><h2 id="å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"><a href="#å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="headerlink" title="å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"></a>å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</h2><h3 id="Geospatial-åœ°ç†ä½ç½®"><a href="#Geospatial-åœ°ç†ä½ç½®" class="headerlink" title="Geospatial(åœ°ç†ä½ç½®)"></a>Geospatial(åœ°ç†ä½ç½®)</h3><blockquote><p>ä½¿ç”¨ç»çº¬åº¦å®šä½åœ°ç†åæ ‡å¹¶ç”¨ä¸€ä¸ª<strong>æœ‰åºé›†åˆzsetä¿å­˜</strong>ï¼Œæ‰€ä»¥zsetå‘½ä»¤ä¹Ÿå¯ä»¥ä½¿ç”¨</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>geoadd key longitud(ç»åº¦) latitude(çº¬åº¦) member [..]</code></td><td>å°†å…·ä½“ç»çº¬åº¦çš„åæ ‡å­˜å…¥ä¸€ä¸ªæœ‰åºé›†åˆ</td></tr><tr><td><code>geopos key member [member..]</code></td><td>è·å–é›†åˆä¸­çš„ä¸€ä¸ª/å¤šä¸ªæˆå‘˜åæ ‡</td></tr><tr><td><code>geodist key member1 member2 [unit]</code></td><td>è¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚é»˜è®¤ä»¥ç±³ä½œä¸ºå•ä½ã€‚</td></tr><tr><td>`georadius key longitude latitude radius m</td><td>km</td></tr><tr><td><code>GEORADIUSBYMEMBER key member radius...</code></td><td>åŠŸèƒ½ä¸GEORADIUSç›¸åŒï¼Œåªæ˜¯ä¸­å¿ƒä½ç½®ä¸æ˜¯å…·ä½“çš„ç»çº¬åº¦ï¼Œè€Œæ˜¯ä½¿ç”¨ç»“åˆä¸­å·²æœ‰çš„æˆå‘˜ä½œä¸ºä¸­å¿ƒç‚¹ã€‚</td></tr><tr><td><code>geohash key member1 [member2..]</code></td><td>è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å…ƒç´ çš„Geohashè¡¨ç¤ºã€‚ä½¿ç”¨Geohashä½ç½®52ç‚¹æ•´æ•°ç¼–ç ã€‚</td></tr></tbody></table><p><strong>æœ‰æ•ˆç»çº¬åº¦</strong></p><blockquote><ul><li>æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ã€‚</li><li>æœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ã€‚</li></ul></blockquote><p>æŒ‡å®šå•ä½çš„å‚æ•° <strong>unit</strong> å¿…é¡»æ˜¯ä»¥ä¸‹å•ä½çš„å…¶ä¸­ä¸€ä¸ªï¼š</p><ul><li><strong>m</strong> è¡¨ç¤ºå•ä½ä¸ºç±³ã€‚</li><li><strong>km</strong> è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚</li><li><strong>mi</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚</li><li><strong>ft</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚</li></ul><p><strong>å…³äºGEORADIUSçš„å‚æ•°</strong></p><blockquote><p>é€šè¿‡<code>georadius</code>å°±å¯ä»¥å®Œæˆ <strong>é™„è¿‘çš„äºº</strong>åŠŸèƒ½</p><p>withcoord:å¸¦ä¸Šåæ ‡</p><p>withdist:å¸¦ä¸Šè·ç¦»ï¼Œå•ä½ä¸åŠå¾„å•ä½ç›¸åŒ</p><p>COUNT n : åªæ˜¾ç¤ºå‰nä¸ª(æŒ‰è·ç¦»é€’å¢æ’åº)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">----------------georadius---------------------</span><br><span class="line">127.0.0.1:6379&gt; GEORADIUS china:city 120 30 500 km withcoord withdist <span class="comment"># æŸ¥è¯¢ç»çº¬åº¦(120,30)åæ ‡500kmåŠå¾„å†…çš„æˆå‘˜</span></span><br><span class="line">1) 1) <span class="string">&quot;hangzhou&quot;</span></span><br><span class="line">   2) <span class="string">&quot;29.4151&quot;</span></span><br><span class="line">   3) 1) <span class="string">&quot;120.20000249147415&quot;</span></span><br><span class="line">      2) <span class="string">&quot;30.199999888333501&quot;</span></span><br><span class="line">2) 1) <span class="string">&quot;shanghai&quot;</span></span><br><span class="line">   2) <span class="string">&quot;205.3611&quot;</span></span><br><span class="line">   3) 1) <span class="string">&quot;121.40000134706497&quot;</span></span><br><span class="line">      2) <span class="string">&quot;31.400000253193539&quot;</span></span><br><span class="line">     </span><br><span class="line">------------geohash---------------------------</span><br><span class="line">127.0.0.1:6379&gt; geohash china:city yichang shanghai <span class="comment"># è·å–æˆå‘˜ç»çº¬åæ ‡çš„geohashè¡¨ç¤º</span></span><br><span class="line">1) <span class="string">&quot;wmrjwbr5250&quot;</span></span><br><span class="line">2) <span class="string">&quot;wtw6ds0y300&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Hyperloglog-åŸºæ•°ç»Ÿè®¡"><a href="#Hyperloglog-åŸºæ•°ç»Ÿè®¡" class="headerlink" title="Hyperloglog(åŸºæ•°ç»Ÿè®¡)"></a>Hyperloglog(åŸºæ•°ç»Ÿè®¡)</h3><blockquote><p>Redis HyperLogLog æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šçš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚</p><p>èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2^64 ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°ã€‚</p><p>å› ä¸º HyperLogLog åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«ï¼Œæ‰€ä»¥ HyperLogLog ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ ã€‚</p><p>å…¶åº•å±‚ä½¿ç”¨stringæ•°æ®ç±»å‹</p></blockquote><p><strong>ä»€ä¹ˆæ˜¯åŸºæ•°ï¼Ÿ</strong></p><blockquote><p>æ•°æ®é›†ä¸­ä¸é‡å¤çš„å…ƒç´ çš„ä¸ªæ•°ã€‚</p></blockquote><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><p>ç½‘é¡µçš„è®¿é—®é‡ï¼ˆUVï¼‰ï¼šä¸€ä¸ªç”¨æˆ·å¤šæ¬¡è®¿é—®ï¼Œä¹Ÿåªèƒ½ç®—ä½œä¸€ä¸ªäººã€‚</p><blockquote><p>ä¼ ç»Ÿå®ç°ï¼Œå­˜å‚¨ç”¨æˆ·çš„id,ç„¶åæ¯æ¬¡è¿›è¡Œæ¯”è¾ƒã€‚å½“ç”¨æˆ·å˜å¤šä¹‹åè¿™ç§æ–¹å¼åŠå…¶æµªè´¹ç©ºé—´ï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„åªæ˜¯<strong>è®¡æ•°</strong>ï¼ŒHyperloglogå°±èƒ½å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨æœ€å°çš„ç©ºé—´å®Œæˆã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>PFADD key element1 [elememt2..]</code></td><td>æ·»åŠ æŒ‡å®šå…ƒç´ åˆ° HyperLogLog ä¸­</td></tr><tr><td><code>PFCOUNT key [key]</code></td><td>è¿”å›ç»™å®š HyperLogLog çš„åŸºæ•°ä¼°ç®—å€¼ã€‚</td></tr><tr><td><code>PFMERGE destkey sourcekey [sourcekey..]</code></td><td>å°†å¤šä¸ª HyperLogLog åˆå¹¶ä¸ºä¸€ä¸ª HyperLogLog</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">----------PFADD--PFCOUNT---------------------</span><br><span class="line">127.0.0.1:6379&gt; PFADD myelemx a b c d e f g h i j k <span class="comment"># æ·»åŠ å…ƒç´ </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">type</span> myelemx <span class="comment"># hyperloglogåº•å±‚ä½¿ç”¨String</span></span><br><span class="line">string</span><br><span class="line">127.0.0.1:6379&gt; PFCOUNT myelemx <span class="comment"># ä¼°ç®—myelemxçš„åŸºæ•°</span></span><br><span class="line">(<span class="built_in">integer</span>) 11</span><br><span class="line">127.0.0.1:6379&gt; PFADD myelemy i j k z m c b v p q s</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; PFCOUNT myelemy</span><br><span class="line">(<span class="built_in">integer</span>) 11</span><br><span class="line"></span><br><span class="line">----------------PFMERGE-----------------------</span><br><span class="line">127.0.0.1:6379&gt; PFMERGE myelemz myelemx myelemy <span class="comment"># åˆå¹¶myelemxå’Œmyelemy æˆä¸ºmyelemz</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; PFCOUNT myelemz <span class="comment"># ä¼°ç®—åŸºæ•°</span></span><br><span class="line">(<span class="built_in">integer</span>) 17</span><br></pre></td></tr></table></figure><p>å¦‚æœå…è®¸å®¹é”™ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥ä½¿ç”¨Hyperloglog !</p><p>å¦‚æœä¸å…è®¸å®¹é”™ï¼Œå°±ä½¿ç”¨setæˆ–è€…è‡ªå·±çš„æ•°æ®ç±»å‹å³å¯ ï¼</p><h3 id="BitMaps-ä½å›¾"><a href="#BitMaps-ä½å›¾" class="headerlink" title="BitMaps(ä½å›¾)"></a>BitMaps(ä½å›¾)</h3><blockquote><p>ä½¿ç”¨ä½å­˜å‚¨ï¼Œä¿¡æ¯çŠ¶æ€åªæœ‰ 0 å’Œ 1</p><p>Bitmapæ˜¯ä¸€ä¸²è¿ç»­çš„2è¿›åˆ¶æ•°å­—ï¼ˆ0æˆ–1ï¼‰ï¼Œæ¯ä¸€ä½æ‰€åœ¨çš„ä½ç½®ä¸ºåç§»(offset)ï¼Œåœ¨bitmapä¸Šå¯æ‰§è¡ŒAND,OR,XOR,NOTä»¥åŠå…¶å®ƒä½æ“ä½œã€‚</p></blockquote><p><strong>åº”ç”¨åœºæ™¯</strong></p><p>ç­¾åˆ°ç»Ÿè®¡ã€çŠ¶æ€ç»Ÿè®¡</p><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>setbit key offset value</code></td><td>ä¸ºæŒ‡å®škeyçš„offsetä½è®¾ç½®å€¼</td></tr><tr><td><code>getbit key offset</code></td><td>è·å–offsetä½çš„å€¼</td></tr><tr><td><code>bitcount key [start end]</code></td><td>ç»Ÿè®¡å­—ç¬¦ä¸²è¢«è®¾ç½®ä¸º1çš„bitæ•°ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç»Ÿè®¡èŒƒå›´æŒ‰å­—èŠ‚</td></tr><tr><td><code>bitop operration destkey key[key..]</code></td><td>å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªä¿å­˜äºŒè¿›åˆ¶ä½çš„å­—ç¬¦ä¸² key è¿›è¡Œä½å…ƒæ“ä½œï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ä¸Šã€‚</td></tr><tr><td><code>BITPOS key bit [start] [end]</code></td><td>è¿”å›å­—ç¬¦ä¸²é‡Œé¢ç¬¬ä¸€ä¸ªè¢«è®¾ç½®ä¸º1æˆ–è€…0çš„bitä½ã€‚startå’Œendåªèƒ½æŒ‰å­—èŠ‚,ä¸èƒ½æŒ‰ä½</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">------------setbit--getbit--------------</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 0 1 <span class="comment"># è®¾ç½®signçš„ç¬¬0ä½ä¸º 1 </span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 2 1 <span class="comment"># è®¾ç½®signçš„ç¬¬2ä½ä¸º 1  ä¸è®¾ç½®é»˜è®¤ æ˜¯0</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 3 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 5 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">type</span> sign</span><br><span class="line">string</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; getbit sign 2 <span class="comment"># è·å–ç¬¬2ä½çš„æ•°å€¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; getbit sign 3</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; getbit sign 4 <span class="comment"># æœªè®¾ç½®é»˜è®¤æ˜¯0</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line">-----------bitcount----------------------------</span><br><span class="line">127.0.0.1:6379&gt; BITCOUNT sign <span class="comment"># ç»Ÿè®¡signä¸­ä¸º1çš„ä½æ•°</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br></pre></td></tr></table></figure><p><strong>bitmapsçš„åº•å±‚</strong></p><p>è¿™æ ·è®¾ç½®ä»¥åä½ èƒ½getåˆ°çš„å€¼æ˜¯ï¼š<strong>\xA2\x80</strong>ï¼Œæ‰€ä»¥bitmapsæ˜¯ä¸€ä¸²ä»å·¦åˆ°å³çš„äºŒè¿›åˆ¶ä¸²</p><h2 id="äº”ã€äº‹åŠ¡"><a href="#äº”ã€äº‹åŠ¡" class="headerlink" title="äº”ã€äº‹åŠ¡"></a>äº”ã€äº‹åŠ¡</h2><p>Redisçš„å•æ¡å‘½ä»¤æ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œä½†æ˜¯redisäº‹åŠ¡ä¸èƒ½ä¿è¯åŸå­æ€§</p><blockquote><p>Redisäº‹åŠ¡æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚</p><p>â€”â€”â€”â€”â€”â€“ é˜Ÿåˆ— set set set æ‰§è¡Œ â€”â€”â€”â€”â€”â€”-</p><p>äº‹åŠ¡ä¸­æ¯æ¡å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­æŒ‰é¡ºåºæ‰§è¡Œï¼Œä¸å…è®¸å…¶ä»–å‘½ä»¤è¿›è¡Œå¹²æ‰°ã€‚</p><ul><li>ä¸€æ¬¡æ€§</li><li>é¡ºåºæ€§</li><li>æ’ä»–æ€§</li></ul><hr><ol><li>Redisäº‹åŠ¡æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ</li><li>Rediså•æ¡å‘½ä»¤æ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ï¼</li></ol></blockquote><h3 id="Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹"><a href="#Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹" class="headerlink" title="Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹"></a>Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹</h3><ul><li>å¼€å¯äº‹åŠ¡ï¼ˆ<code>multi</code>ï¼‰</li><li>å‘½ä»¤å…¥é˜Ÿ</li><li>æ‰§è¡Œäº‹åŠ¡ï¼ˆ<code>exec</code>ï¼‰</li></ul><p>æ‰€ä»¥äº‹åŠ¡ä¸­çš„å‘½ä»¤åœ¨åŠ å…¥æ—¶éƒ½æ²¡æœ‰è¢«æ‰§è¡Œï¼Œç›´åˆ°æäº¤æ—¶æ‰ä¼šå¼€å§‹æ‰§è¡Œ(Exec)ä¸€æ¬¡æ€§å®Œæˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi <span class="comment"># å¼€å¯äº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1 <span class="comment"># å‘½ä»¤å…¥é˜Ÿ</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2 <span class="comment"># ..</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k3 v3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span> <span class="comment"># äº‹åŠ¡æ‰§è¡Œ</span></span><br><span class="line">1) OK</span><br><span class="line">2) OK</span><br><span class="line">3) <span class="string">&quot;v1&quot;</span></span><br><span class="line">4) OK</span><br><span class="line">5) 1) <span class="string">&quot;k3&quot;</span></span><br><span class="line">   2) <span class="string">&quot;k2&quot;</span></span><br><span class="line">   3) <span class="string">&quot;k1&quot;</span></span><br></pre></td></tr></table></figure><p><strong>å–æ¶ˆäº‹åŠ¡(<code>discurd</code>)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; DISCARD <span class="comment"># æ”¾å¼ƒäº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; EXEC </span><br><span class="line">(error) ERR EXEC without MULTI <span class="comment"># å½“å‰æœªå¼€å¯äº‹åŠ¡</span></span><br><span class="line">127.0.0.1:6379&gt; get k1 <span class="comment"># è¢«æ”¾å¼ƒäº‹åŠ¡ä¸­å‘½ä»¤å¹¶æœªæ‰§è¡Œ</span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure><h3 id="äº‹åŠ¡é”™è¯¯"><a href="#äº‹åŠ¡é”™è¯¯" class="headerlink" title="äº‹åŠ¡é”™è¯¯"></a>äº‹åŠ¡é”™è¯¯</h3><blockquote><p>ä»£ç è¯­æ³•é”™è¯¯ï¼ˆç¼–è¯‘æ—¶å¼‚å¸¸ï¼‰æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸æ‰§è¡Œ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; error k1 <span class="comment"># è¿™æ˜¯ä¸€æ¡è¯­æ³•é”™è¯¯å‘½ä»¤</span></span><br><span class="line">(error) ERR unknown <span class="built_in">command</span> `error`, with args beginning with: `k1`, <span class="comment"># ä¼šæŠ¥é”™ä½†æ˜¯ä¸å½±å“åç»­å‘½ä»¤å…¥é˜Ÿ </span></span><br><span class="line">127.0.0.1:6379&gt; get k2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; EXEC</span><br><span class="line">(error) EXECABORT Transaction discarded because of previous errors. <span class="comment"># æ‰§è¡ŒæŠ¥é”™</span></span><br><span class="line">127.0.0.1:6379&gt; get k1 </span><br><span class="line">(nil) <span class="comment"># å…¶ä»–å‘½ä»¤å¹¶æ²¡æœ‰è¢«æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»£ç é€»è¾‘é”™è¯¯ (è¿è¡Œæ—¶å¼‚å¸¸) **å…¶ä»–å‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œ ** &gt;&gt;&gt; æ‰€ä»¥ä¸ä¿è¯äº‹åŠ¡åŸå­æ€§</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; INCR k1 <span class="comment"># è¿™æ¡å‘½ä»¤é€»è¾‘é”™è¯¯ï¼ˆå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¢é‡ï¼‰</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; get k2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span></span><br><span class="line">1) OK</span><br><span class="line">2) OK</span><br><span class="line">3) (error) ERR value is not an <span class="built_in">integer</span> or out of range <span class="comment"># è¿è¡Œæ—¶æŠ¥é”™</span></span><br><span class="line">4) <span class="string">&quot;v2&quot;</span> <span class="comment"># å…¶ä»–å‘½ä»¤æ­£å¸¸æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è™½ç„¶ä¸­é—´æœ‰ä¸€æ¡å‘½ä»¤æŠ¥é”™äº†ï¼Œä½†æ˜¯åé¢çš„æŒ‡ä»¤ä¾æ—§æ­£å¸¸æ‰§è¡ŒæˆåŠŸäº†ã€‚</span></span><br><span class="line"><span class="comment"># æ‰€ä»¥è¯´Rediså•æ¡æŒ‡ä»¤ä¿è¯åŸå­æ€§ï¼Œä½†æ˜¯Redisäº‹åŠ¡ä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h3><p><strong>æ‚²è§‚é”ï¼š</strong></p><ul><li>å¾ˆæ‚²è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é”</li></ul><p><strong>ä¹è§‚é”ï¼š</strong></p><ul><li>å¾ˆä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼æ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹ï¼Œåœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡è¿™ä¸ªæ•°æ®</li><li>è·å–version</li><li>æ›´æ–°çš„æ—¶å€™æ¯”è¾ƒversion</li></ul><p>ä½¿ç”¨<code>watch key</code>ç›‘æ§æŒ‡å®šæ•°æ®ï¼Œç›¸å½“äºä¹è§‚é”åŠ é”ã€‚</p><blockquote><p>æ­£å¸¸æ‰§è¡Œ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> money 100 <span class="comment"># è®¾ç½®ä½™é¢:100</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> use 0 <span class="comment"># æ”¯å‡ºä½¿ç”¨:0</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; watch money <span class="comment"># ç›‘è§†money (ä¸Šé”)</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; DECRBY money 20</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; INCRBY use 20</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exec</span> <span class="comment"># ç›‘è§†å€¼æ²¡æœ‰è¢«ä¸­é€”ä¿®æ”¹ï¼Œäº‹åŠ¡æ­£å¸¸æ‰§è¡Œ</span></span><br><span class="line">1) (<span class="built_in">integer</span>) 80</span><br><span class="line">2) (<span class="built_in">integer</span>) 20</span><br></pre></td></tr></table></figure><blockquote><p>æµ‹è¯•å¤šçº¿ç¨‹ä¿®æ”¹å€¼ï¼Œä½¿ç”¨watchå¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œï¼ˆç›¸å½“äºgetversionï¼‰</p></blockquote><p>æˆ‘ä»¬å¯åŠ¨å¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯æ¨¡æ‹Ÿæ’é˜Ÿçº¿ç¨‹ã€‚</p><p>çº¿ç¨‹1ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; watch money <span class="comment"># moneyä¸Šé”</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; DECRBY money 20</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; INCRBY use 20</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; <span class="comment"># æ­¤æ—¶äº‹åŠ¡å¹¶æ²¡æœ‰æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><p>æ¨¡æ‹Ÿçº¿ç¨‹æ’é˜Ÿï¼Œçº¿ç¨‹2ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; INCRBY money 500 <span class="comment"># ä¿®æ”¹äº†çº¿ç¨‹ä¸€ä¸­ç›‘è§†çš„money</span></span><br><span class="line">(<span class="built_in">integer</span>) 600</span><br></pre></td></tr></table></figure><p>å›åˆ°çº¿ç¨‹1ï¼Œæ‰§è¡Œäº‹åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; EXEC <span class="comment"># æ‰§è¡Œä¹‹å‰ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æˆ‘ä»¬çš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œå¤±è´¥</span></span><br><span class="line">(nil) <span class="comment"># æ²¡æœ‰ç»“æœï¼Œè¯´æ˜äº‹åŠ¡æ‰§è¡Œå¤±è´¥</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; get money <span class="comment"># çº¿ç¨‹2 ä¿®æ”¹ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="string">&quot;600&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; get use <span class="comment"># çº¿ç¨‹1äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œæ•°å€¼æ²¡æœ‰è¢«ä¿®æ”¹</span></span><br><span class="line"><span class="string">&quot;0&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>è§£é”è·å–æœ€æ–°å€¼ï¼Œç„¶åå†åŠ é”è¿›è¡Œäº‹åŠ¡ã€‚</p><p><code>unwatch</code>è¿›è¡Œè§£é”ã€‚</p></blockquote><p>æ³¨æ„ï¼šæ¯æ¬¡æäº¤æ‰§è¡Œexecåéƒ½ä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼Œä¸ç®¡æ˜¯å¦æˆåŠŸ</p><h2 id="å…­ã€Jedis"><a href="#å…­ã€Jedis" class="headerlink" title="å…­ã€Jedis"></a>å…­ã€Jedis</h2><p>ä½¿ç”¨Javaæ¥æ“ä½œRedisï¼ŒJedisæ˜¯Rediså®˜æ–¹æ¨èä½¿ç”¨çš„Javaè¿æ¥redisçš„å®¢æˆ·ç«¯ã€‚</p><ol><li><p>å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¯¼å…¥jredisçš„åŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--fastjson--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.70<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ç¼–ç æµ‹è¯•</p><ul><li><p>è¿æ¥æ•°æ®åº“</p><ol><li><p>ä¿®æ”¹redisçš„é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/<span class="built_in">local</span>/bin/myconfig/redis.conf</span><br></pre></td></tr></table></figure></li></ol></li></ul></li><li><p>å°†åªç»‘å®šæœ¬åœ°æ³¨é‡Š</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-4IRUFJ95-1597890996520)(ç‹‚ç¥è¯´ Redis.assets/image-20200813161921480.png)]</p></li><li><p>ä¿æŠ¤æ¨¡å¼æ”¹ä¸º no</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-oKjIVapw-1597890996521)(ç‹‚ç¥è¯´ Redis.assets/image-20200813161939847.png)]</p></li><li><p>å…è®¸åå°è¿è¡Œ</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-c2IMvpZL-1597890996522)(ç‹‚ç¥è¯´ Redis.assets/image-20200813161954567.png)]</p></li><li><p>å¼€æ”¾ç«¯å£6379</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=6379/tcp --permanet</span><br></pre></td></tr></table></figure><p>é‡å¯é˜²ç«å¢™æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart firewalld.service</span><br></pre></td></tr></table></figure><ol><li><p>é˜¿é‡Œäº‘æœåŠ¡å™¨æ§åˆ¶å°é…ç½®å®‰å…¨ç»„</p></li><li><p>é‡å¯redis-server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@AlibabaECS bin]<span class="comment"># redis-server myconfig/redis.conf </span></span><br></pre></td></tr></table></figure></li></ol></li></ol><ul><li><p>æ“ä½œå‘½ä»¤</p><p><strong>TestPing.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPing</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;192.168.xx.xxx&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">        String response = jedis.ping();</span><br><span class="line">        System.out.println(response); <span class="comment">// PONG</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–­å¼€è¿æ¥</p></li></ul><ol><li><p><strong>äº‹åŠ¡</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTX</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;39.99.xxx.xx&quot;</span>, <span class="number">6379</span>);</span><br><span class="line"></span><br><span class="line">        JSONObject jsonObject = <span class="keyword">new</span> JSONObject();</span><br><span class="line">        jsonObject.put(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;kuangshen&quot;</span>);</span><br><span class="line">        <span class="comment">// å¼€å¯äº‹åŠ¡</span></span><br><span class="line">        Transaction multi = jedis.multi();</span><br><span class="line">        String result = jsonObject.toJSONString();</span><br><span class="line">        <span class="comment">// jedis.watch(result)</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            multi.set(<span class="string">&quot;user1&quot;</span>, result);</span><br><span class="line">            multi.set(<span class="string">&quot;user2&quot;</span>, result);</span><br><span class="line">            <span class="comment">// æ‰§è¡Œäº‹åŠ¡</span></span><br><span class="line">            multi.exec();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            <span class="comment">// æ”¾å¼ƒäº‹åŠ¡</span></span><br><span class="line">            multi.discard();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// å…³é—­è¿æ¥</span></span><br><span class="line">            System.out.println(jedis.get(<span class="string">&quot;user1&quot;</span>));</span><br><span class="line">            System.out.println(jedis.get(<span class="string">&quot;user2&quot;</span>));</span><br><span class="line">            jedis.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€SpringBootæ•´åˆ"><a href="#ä¸ƒã€SpringBootæ•´åˆ" class="headerlink" title="ä¸ƒã€SpringBootæ•´åˆ"></a>ä¸ƒã€SpringBootæ•´åˆ</h2></li><li><p>å¯¼å…¥ä¾èµ–</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>springboot 2.xå ï¼ŒåŸæ¥ä½¿ç”¨çš„ Jedis è¢« lettuce æ›¿æ¢ã€‚</p><blockquote><p>jedisï¼šé‡‡ç”¨çš„ç›´è¿ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œçš„è¯ï¼Œæ˜¯ä¸å®‰å…¨çš„ã€‚å¦‚æœè¦é¿å…ä¸å®‰å…¨ï¼Œä½¿ç”¨jedis poolè¿æ¥æ± ï¼æ›´åƒBIOæ¨¡å¼</p><p>lettuceï¼šé‡‡ç”¨nettyï¼Œå®ä¾‹å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å…±äº«ï¼Œä¸å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µï¼å¯ä»¥å‡å°‘çº¿ç¨‹æ•°æ®äº†ï¼Œæ›´åƒNIOæ¨¡å¼</p></blockquote><p>æˆ‘ä»¬åœ¨å­¦ä¹ SpringBootè‡ªåŠ¨é…ç½®çš„åŸç†æ—¶ï¼Œæ•´åˆä¸€ä¸ªç»„ä»¶å¹¶è¿›è¡Œé…ç½®ä¸€å®šä¼šæœ‰ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»xxxAutoConfiguration,å¹¶ä¸”åœ¨spring.factoriesä¸­ä¹Ÿä¸€å®šèƒ½æ‰¾åˆ°è¿™ä¸ªç±»çš„å®Œå…¨é™å®šåã€‚Redisä¹Ÿä¸ä¾‹å¤–ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513214531573.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é‚£ä¹ˆå°±ä¸€å®šè¿˜å­˜åœ¨ä¸€ä¸ªRedisPropertiesç±»</p><p><img src="https://img-blog.csdnimg.cn/20200513214554661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¹‹å‰æˆ‘ä»¬è¯´SpringBoot2.xåé»˜è®¤ä½¿ç”¨Lettuceæ¥æ›¿æ¢Jedisï¼Œç°åœ¨æˆ‘ä»¬å°±èƒ½æ¥éªŒè¯äº†ã€‚</p><p>å…ˆçœ‹Jedis:</p><p><img src="https://img-blog.csdnimg.cn/20200513214607475.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>@ConditionalOnClassæ³¨è§£ä¸­æœ‰ä¸¤ä¸ªç±»æ˜¯é»˜è®¤ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥Jedisæ˜¯æ— æ³•ç”Ÿæ•ˆçš„</p><p>ç„¶åå†çœ‹Lettuceï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513214618179.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å®Œç¾ç”Ÿæ•ˆã€‚</p><p>ç°åœ¨æˆ‘ä»¬å›åˆ°RedisAutoConfiguratio</p><p><img src="https://img-blog.csdnimg.cn/2020051321462777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><p>åªæœ‰ä¸¤ä¸ªç®€å•çš„Bean</p><ul><li><strong>RedisTemplate</strong></li><li><strong>StringRedisTemplate</strong></li></ul><p>å½“çœ‹åˆ°xxTemplateæ—¶å¯ä»¥å¯¹æ¯”RestTemplatã€SqlSessionTemplate,é€šè¿‡ä½¿ç”¨è¿™äº›Templateæ¥é—´æ¥æ“ä½œç»„ä»¶ã€‚é‚£ä¹ˆè¿™ä¿©ä¹Ÿä¸ä¼šä¾‹å¤–ã€‚åˆ†åˆ«ç”¨äºæ“ä½œRediså’ŒRedisä¸­çš„Stringæ•°æ®ç±»å‹ã€‚</p><p>åœ¨RedisTemplateä¸Šä¹Ÿæœ‰ä¸€ä¸ªæ¡ä»¶æ³¨è§£ï¼Œè¯´æ˜æˆ‘ä»¬æ˜¯å¯ä»¥å¯¹å…¶è¿›è¡Œå®šåˆ¶åŒ–çš„</p><p>è¯´å®Œè¿™äº›ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¦‚ä½•ç¼–å†™é…ç½®æ–‡ä»¶ç„¶åè¿æ¥Redisï¼Œå°±éœ€è¦é˜…è¯»RedisProperties</p><p><img src="https://img-blog.csdnimg.cn/20200513214638238.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿™æ˜¯ä¸€äº›åŸºæœ¬çš„é…ç½®å±æ€§ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513214649380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿˜æœ‰ä¸€äº›è¿æ¥æ± ç›¸å…³çš„é…ç½®ã€‚æ³¨æ„ä½¿ç”¨æ—¶ä¸€å®šä½¿ç”¨Lettuceçš„è¿æ¥æ± ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513214700372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ol><li><p>ç¼–å†™é…ç½®æ–‡ä»¶</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®redis</span></span><br><span class="line"><span class="meta">spring.redis.host</span>=<span class="string">39.99.xxx.xx</span></span><br><span class="line"><span class="meta">spring.redis.port</span>=<span class="string">6379</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨RedisTemplate</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Redis02SpringbootApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// redisTemplate æ“ä½œä¸åŒçš„æ•°æ®ç±»å‹ï¼Œapiå’Œæˆ‘ä»¬çš„æŒ‡ä»¤æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">        <span class="comment">// opsForValue æ“ä½œå­—ç¬¦ä¸² ç±»ä¼¼String</span></span><br><span class="line">        <span class="comment">// opsForList æ“ä½œList ç±»ä¼¼List</span></span><br><span class="line">        <span class="comment">// opsForHah</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// é™¤äº†åŸºæœ¬çš„æ“ä½œï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥é€šè¿‡redisTemplateæ“ä½œï¼Œæ¯”å¦‚äº‹åŠ¡å’ŒåŸºæœ¬çš„CRUD</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–è¿æ¥å¯¹è±¡</span></span><br><span class="line">        <span class="comment">//RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span></span><br><span class="line">        <span class="comment">//connection.flushDb();</span></span><br><span class="line">        <span class="comment">//connection.flushAll();</span></span><br><span class="line"></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;mykey&quot;</span>,<span class="string">&quot;kuangshen&quot;</span>);</span><br><span class="line">        System.out.println(redisTemplate.opsForValue().get(<span class="string">&quot;mykey&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç»“æœ</p><p><strong>æ­¤æ—¶æˆ‘ä»¬å›åˆ°RedisæŸ¥çœ‹æ•°æ®æ—¶å€™ï¼ŒæƒŠå¥‡å‘ç°å…¨æ˜¯ä¹±ç ï¼Œå¯æ˜¯ç¨‹åºä¸­å¯ä»¥æ­£å¸¸è¾“å‡ºï¼š</strong></p><p><img src="https://img-blog.csdnimg.cn/20200513214734520.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p> è¿™æ—¶å€™å°±å…³ç³»åˆ°å­˜å‚¨å¯¹è±¡çš„åºåˆ—åŒ–é—®é¢˜ï¼Œåœ¨ç½‘ç»œä¸­ä¼ è¾“çš„å¯¹è±¡ä¹Ÿæ˜¯ä¸€æ ·éœ€è¦åºåˆ—åŒ–ï¼Œå¦è€…å°±å…¨æ˜¯ä¹±ç ã€‚</p><p>æˆ‘ä»¬è½¬åˆ°çœ‹é‚£ä¸ªé»˜è®¤çš„RedisTemplateå†…éƒ¨ä»€ä¹ˆæ ·å­ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513214746506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åœ¨æœ€å¼€å§‹å°±èƒ½çœ‹åˆ°å‡ ä¸ªå…³äºåºåˆ—åŒ–çš„å‚æ•°ã€‚</p><p>é»˜è®¤çš„åºåˆ—åŒ–å™¨æ˜¯é‡‡ç”¨JDKåºåˆ—åŒ–å™¨</p><p><img src="https://img-blog.csdnimg.cn/20200513214757247.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è€Œé»˜è®¤çš„RedisTemplateä¸­çš„æ‰€æœ‰åºåˆ—åŒ–å™¨éƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªåºåˆ—åŒ–å™¨ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513214809494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åç»­æˆ‘ä»¬å®šåˆ¶RedisTemplateå°±å¯ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚</p><p><code>RedisSerializer</code>æä¾›äº†å¤šç§åºåˆ—åŒ–æ–¹æ¡ˆï¼š</p><ul><li><p>ç›´æ¥è°ƒç”¨RedisSerializerçš„é™æ€æ–¹æ³•æ¥è¿”å›åºåˆ—åŒ–å™¨ï¼Œç„¶åset</p><p><img src="https://img-blog.csdnimg.cn/20200513214818682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>è‡ªå·±new ç›¸åº”çš„å®ç°ç±»ï¼Œç„¶åset</p><p><img src="https://img-blog.csdnimg.cn/20200513214827233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li></ul></li><li><p><strong>å®šåˆ¶RedisTemplateçš„æ¨¡æ¿ï¼š</strong></p><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªBeanåŠ å…¥å®¹å™¨ï¼Œå°±ä¼šè§¦å‘RedisTemplateä¸Šçš„æ¡ä»¶æ³¨è§£ä½¿é»˜è®¤çš„RedisTemplateå¤±æ•ˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span> <span class="keyword">throws</span> UnknownHostException </span>&#123;</span><br><span class="line">        <span class="comment">// å°†template æ³›å‹è®¾ç½®ä¸º &lt;String, Object&gt;</span></span><br><span class="line">        RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> RedisTemplate();</span><br><span class="line">        <span class="comment">// è¿æ¥å·¥å‚ï¼Œä¸å¿…ä¿®æ”¹</span></span><br><span class="line">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * åºåˆ—åŒ–è®¾ç½®</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// keyã€hashçš„key é‡‡ç”¨ Stringåºåˆ—åŒ–æ–¹å¼</span></span><br><span class="line">        template.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        template.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line">        <span class="comment">// valueã€hashçš„value é‡‡ç”¨ Jackson åºåˆ—åŒ–æ–¹å¼</span></span><br><span class="line">        template.setValueSerializer(RedisSerializer.json());</span><br><span class="line">        template.setHashValueSerializer(RedisSerializer.json());</span><br><span class="line">        template.afterPropertiesSet();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œåªè¦å®ä½“ç±»è¿›è¡Œäº†åºåˆ—åŒ–ï¼Œæˆ‘ä»¬å­˜ä»€ä¹ˆéƒ½ä¸ä¼šæœ‰ä¹±ç çš„æ‹…å¿§äº†ã€‚</p></li></ol><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-oc8kJP08-1597890996523)(ç‹‚ç¥è¯´ Redis.assets/image-20200817175638086.png)]</p><h2 id="å…«ã€è‡ªå®šä¹‰Rediså·¥å…·ç±»"><a href="#å…«ã€è‡ªå®šä¹‰Rediså·¥å…·ç±»" class="headerlink" title="å…«ã€è‡ªå®šä¹‰Rediså·¥å…·ç±»"></a>å…«ã€è‡ªå®šä¹‰Rediså·¥å…·ç±»</h2><p>ä½¿ç”¨RedisTemplateéœ€è¦é¢‘ç¹è°ƒç”¨<code>.opForxxx</code>ç„¶åæ‰èƒ½è¿›è¡Œå¯¹åº”çš„æ“ä½œï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥ä»£ç æ•ˆç‡ä½ä¸‹ï¼Œå·¥ä½œä¸­ä¸€èˆ¬ä¸ä¼šè¿™æ ·ä½¿ç”¨ï¼Œè€Œæ˜¯å°†è¿™äº›å¸¸ç”¨çš„å…¬å…±APIæŠ½å–å‡ºæ¥å°è£…æˆä¸ºä¸€ä¸ªå·¥å…·ç±»ï¼Œç„¶åç›´æ¥ä½¿ç”¨å·¥å…·ç±»æ¥é—´æ¥æ“ä½œRedis,ä¸ä½†æ•ˆç‡é«˜å¹¶ä¸”æ˜“ç”¨ã€‚</p><p>å·¥å…·ç±»å‚è€ƒåšå®¢ï¼š</p><p><a href="https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html">https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html</a></p><p><a href="https://www.cnblogs.com/zhzhlong/p/11434284.html">https://www.cnblogs.com/zhzhlong/p/11434284.html</a></p><h2 id="ä¹ã€Redis-conf"><a href="#ä¹ã€Redis-conf" class="headerlink" title="ä¹ã€Redis.conf"></a>ä¹ã€Redis.conf</h2><blockquote><p>å®¹é‡å•ä½ä¸åŒºåˆ†å¤§å°å†™ï¼ŒGå’ŒGBæœ‰åŒºåˆ«</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020051321485460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><blockquote><p>å¯ä»¥ä½¿ç”¨ include ç»„åˆå¤šä¸ªé…ç½®é—®é¢˜</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214902552.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>ç½‘ç»œé…ç½®</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214912813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>æ—¥å¿—è¾“å‡ºçº§åˆ«</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214923678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><blockquote><p>æ—¥å¿—è¾“å‡ºæ–‡ä»¶</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214933713.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>æŒä¹…åŒ–è§„åˆ™</p></blockquote><p>ç”±äºRedisæ˜¯åŸºäºå†…å­˜çš„æ•°æ®åº“ï¼Œéœ€è¦å°†æ•°æ®ç”±å†…å­˜æŒä¹…åŒ–åˆ°æ–‡ä»¶ä¸­</p><p>æŒä¹…åŒ–æ–¹å¼ï¼š</p><ul><li>RDB</li><li>AOF</li></ul><p><img src="https://img-blog.csdnimg.cn/20200513214944964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>RDBæ–‡ä»¶ç›¸å…³</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214955679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20200513215006207.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>ä¸»ä»å¤åˆ¶</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215016371.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>Securityæ¨¡å—ä¸­è¿›è¡Œå¯†ç è®¾ç½®</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215026143.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>å®¢æˆ·ç«¯è¿æ¥ç›¸å…³</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">maxclients 10000  æœ€å¤§å®¢æˆ·ç«¯æ•°é‡</span><br><span class="line">maxmemory &lt;bytes&gt; æœ€å¤§å†…å­˜é™åˆ¶</span><br><span class="line">maxmemory-policy noeviction <span class="comment"># å†…å­˜è¾¾åˆ°é™åˆ¶å€¼çš„å¤„ç†ç­–ç•¥</span></span><br><span class="line">123</span><br></pre></td></tr></table></figure><p>redis ä¸­çš„<strong>é»˜è®¤</strong>çš„è¿‡æœŸç­–ç•¥æ˜¯ <strong>volatile-lru</strong> ã€‚</p><p><strong>è®¾ç½®æ–¹å¼</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> maxmemory-policy volatile-lru </span><br></pre></td></tr></table></figure><h4 id="maxmemory-policy-å…­ç§æ–¹å¼"><a href="#maxmemory-policy-å…­ç§æ–¹å¼" class="headerlink" title="maxmemory-policy å…­ç§æ–¹å¼"></a><strong>maxmemory-policy å…­ç§æ–¹å¼</strong></h4><p><strong>1ã€volatile-lruï¼š</strong>åªå¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyè¿›è¡ŒLRUï¼ˆé»˜è®¤å€¼ï¼‰</p><p><strong>2ã€allkeys-lru ï¼š</strong> åˆ é™¤lruç®—æ³•çš„key</p><p><strong>3ã€volatile-randomï¼š</strong>éšæœºåˆ é™¤å³å°†è¿‡æœŸkey</p><p><strong>4ã€allkeys-randomï¼š</strong>éšæœºåˆ é™¤</p><p><strong>5ã€volatile-ttl ï¼š</strong> åˆ é™¤å³å°†è¿‡æœŸçš„</p><p><strong>6ã€noeviction ï¼š</strong> æ°¸ä¸è¿‡æœŸï¼Œè¿”å›é”™è¯¯</p><blockquote><p>AOFç›¸å…³éƒ¨åˆ†</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215037918.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20200513215047999.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="åã€æŒä¹…åŒ–â€”RDB"><a href="#åã€æŒä¹…åŒ–â€”RDB" class="headerlink" title="åã€æŒä¹…åŒ–â€”RDB"></a>åã€æŒä¹…åŒ–â€”RDB</h2><p>RDBï¼šRedis Databases</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-C0mm1D4A-1597890996524)(ç‹‚ç¥è¯´ Redis.assets/image-20200818122236614.png)]</p><h3 id="ä»€ä¹ˆæ˜¯RDB"><a href="#ä»€ä¹ˆæ˜¯RDB" class="headerlink" title="ä»€ä¹ˆæ˜¯RDB"></a>ä»€ä¹ˆæ˜¯RDB</h3><hr><p>åœ¨æŒ‡å®šæ—¶é—´é—´éš”åï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥æ•°æ®åº“ ï¼›åœ¨æ¢å¤æ—¶å€™ï¼Œç›´æ¥è¯»å–å¿«ç…§æ–‡ä»¶ï¼Œè¿›è¡Œæ•°æ®çš„æ¢å¤ ï¼›</p><p><img src="https://img-blog.csdnimg.cn/20200513215126515.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ Redis å°†æ•°æ®åº“å¿«ç…§ä¿å­˜åœ¨åå­—ä¸º dump.rdbçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚æ–‡ä»¶åå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰ã€‚</p><h3 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h3><hr><p>åœ¨è¿›è¡Œ <strong><code>RDB</code></strong> çš„æ—¶å€™ï¼Œ**<code>redis</code>** çš„ä¸»çº¿ç¨‹æ˜¯ä¸ä¼šåš <strong><code>io</code></strong> æ“ä½œçš„ï¼Œä¸»çº¿ç¨‹ä¼š <strong><code>fork</code></strong> ä¸€ä¸ªå­çº¿ç¨‹æ¥å®Œæˆè¯¥æ“ä½œï¼›</p><ol><li>Redis è°ƒç”¨forksã€‚åŒæ—¶æ‹¥æœ‰çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ã€‚</li><li>å­è¿›ç¨‹å°†æ•°æ®é›†å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶ RDB æ–‡ä»¶ä¸­ã€‚</li><li>å½“å­è¿›ç¨‹å®Œæˆå¯¹æ–° RDB æ–‡ä»¶çš„å†™å…¥æ—¶ï¼ŒRedis ç”¨æ–° RDB æ–‡ä»¶æ›¿æ¢åŸæ¥çš„ RDB æ–‡ä»¶ï¼Œå¹¶åˆ é™¤æ—§çš„ RDB æ–‡ä»¶ã€‚</li></ol><p>è¿™ç§å·¥ä½œæ–¹å¼ä½¿å¾— Redis å¯ä»¥ä»å†™æ—¶å¤åˆ¶ï¼ˆcopy-on-writeï¼‰æœºåˆ¶ä¸­è·ç›Š(å› ä¸ºæ˜¯ä½¿ç”¨å­è¿›ç¨‹è¿›è¡Œå†™æ“ä½œï¼Œè€Œçˆ¶è¿›ç¨‹ä¾ç„¶å¯ä»¥æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚)</p><p><img src="https://img-blog.csdnimg.cn/20200513215141519.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="è§¦å‘æœºåˆ¶"><a href="#è§¦å‘æœºåˆ¶" class="headerlink" title="è§¦å‘æœºåˆ¶"></a>è§¦å‘æœºåˆ¶</h3><hr><ol><li>saveçš„è§„åˆ™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§¦å‘rdbåŸåˆ™</li><li>æ‰§è¡Œflushallå‘½ä»¤ï¼Œä¹Ÿä¼šè§¦å‘æˆ‘ä»¬çš„rdbåŸåˆ™</li><li>é€€å‡ºredisï¼Œä¹Ÿä¼šè‡ªåŠ¨äº§ç”Ÿrdbæ–‡ä»¶</li></ol><h4 id="save"><a href="#save" class="headerlink" title="save"></a>save</h4><p>ä½¿ç”¨ <code>save</code> å‘½ä»¤ï¼Œä¼šç«‹åˆ»å¯¹å½“å‰å†…å­˜ä¸­çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ– ,ä½†æ˜¯ä¼šé˜»å¡ï¼Œä¹Ÿå°±æ˜¯ä¸æ¥å—å…¶ä»–æ“ä½œäº†ï¼›</p><blockquote><p>ç”±äº <code>save</code> å‘½ä»¤æ˜¯åŒæ­¥å‘½ä»¤ï¼Œä¼šå ç”¨Redisçš„ä¸»è¿›ç¨‹ã€‚è‹¥Redisæ•°æ®éå¸¸å¤šæ—¶ï¼Œ<code>save</code>å‘½ä»¤æ‰§è¡Œé€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œé˜»å¡æ‰€æœ‰å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215150892.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="flushallå‘½ä»¤"><a href="#flushallå‘½ä»¤" class="headerlink" title="flushallå‘½ä»¤"></a>flushallå‘½ä»¤</h4><p><code>flushall</code> å‘½ä»¤ä¹Ÿä¼šè§¦å‘æŒä¹…åŒ– ï¼›</p><h4 id="è§¦å‘æŒä¹…åŒ–è§„åˆ™"><a href="#è§¦å‘æŒä¹…åŒ–è§„åˆ™" class="headerlink" title="è§¦å‘æŒä¹…åŒ–è§„åˆ™"></a>è§¦å‘æŒä¹…åŒ–è§„åˆ™</h4><p>æ»¡è¶³é…ç½®æ¡ä»¶ä¸­çš„è§¦å‘æ¡ä»¶ ï¼›</p><blockquote><p>å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å¯¹ Redis è¿›è¡Œè®¾ç½®ï¼Œ è®©å®ƒåœ¨â€œ N ç§’å†…æ•°æ®é›†è‡³å°‘æœ‰ M ä¸ªæ”¹åŠ¨â€è¿™ä¸€æ¡ä»¶è¢«æ»¡è¶³æ—¶ï¼Œ è‡ªåŠ¨è¿›è¡Œæ•°æ®é›†ä¿å­˜æ“ä½œã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513215205970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215220858.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="bgsave"><a href="#bgsave" class="headerlink" title="bgsave"></a>bgsave</h4><p><code>bgsave</code> æ˜¯å¼‚æ­¥è¿›è¡Œï¼Œè¿›è¡ŒæŒä¹…åŒ–çš„æ—¶å€™ï¼Œ<code>redis</code> è¿˜å¯ä»¥å°†ç»§ç»­å“åº”å®¢æˆ·ç«¯è¯·æ±‚ ï¼›</p><p><img src="https://img-blog.csdnimg.cn/2020051321523151.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>bgsaveå’Œsaveå¯¹æ¯”</strong></p><table><thead><tr><th>å‘½ä»¤</th><th>save</th><th>bgsave</th></tr></thead><tbody><tr><td>IOç±»å‹</td><td>åŒæ­¥</td><td>å¼‚æ­¥</td></tr><tr><td>é˜»å¡ï¼Ÿ</td><td>æ˜¯</td><td>æ˜¯ï¼ˆé˜»å¡å‘ç”Ÿåœ¨fock()ï¼Œé€šå¸¸éå¸¸å¿«ï¼‰</td></tr><tr><td>å¤æ‚åº¦</td><td>O(n)</td><td>O(n)</td></tr><tr><td>ä¼˜ç‚¹</td><td>ä¸ä¼šæ¶ˆè€—é¢å¤–çš„å†…å­˜</td><td>ä¸é˜»å¡å®¢æˆ·ç«¯å‘½ä»¤</td></tr><tr><td>ç¼ºç‚¹</td><td>é˜»å¡å®¢æˆ·ç«¯å‘½ä»¤</td><td>éœ€è¦fockå­è¿›ç¨‹ï¼Œæ¶ˆè€—å†…å­˜</td></tr></tbody></table><h3 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h3><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol><li>é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤</li><li>å¯¹æ•°æ®çš„å®Œæ•´æ€§è¦æ±‚ä¸é«˜</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li>éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›è¡Œæ“ä½œï¼Œå¦‚æœredisæ„å¤–å®•æœºäº†ï¼Œè¿™ä¸ªæœ€åä¸€æ¬¡ä¿®æ”¹çš„æ•°æ®å°±æ²¡æœ‰äº†ã€‚</li><li>forkè¿›ç¨‹çš„æ—¶å€™ï¼Œä¼šå ç”¨ä¸€å®šçš„å†…å®¹ç©ºé—´ã€‚</li></ol><h2 id="åä¸€ã€æŒä¹…åŒ–AOF"><a href="#åä¸€ã€æŒä¹…åŒ–AOF" class="headerlink" title="åä¸€ã€æŒä¹…åŒ–AOF"></a>åä¸€ã€æŒä¹…åŒ–AOF</h2><p><strong>Append Only File</strong></p><p>å°†æˆ‘ä»¬æ‰€æœ‰çš„å‘½ä»¤éƒ½è®°å½•ä¸‹æ¥ï¼Œhistoryï¼Œæ¢å¤çš„æ—¶å€™å°±æŠŠè¿™ä¸ªæ–‡ä»¶å…¨éƒ¨å†æ‰§è¡Œä¸€é</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Z8wr9lBW-1597890996525)(ç‹‚ç¥è¯´ Redis.assets/image-20200818123711375.png)]</p><blockquote><p>ä»¥æ—¥å¿—çš„å½¢å¼æ¥è®°å½•æ¯ä¸ªå†™çš„æ“ä½œï¼Œå°†Redisæ‰§è¡Œè¿‡çš„æ‰€æœ‰æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼ˆè¯»æ“ä½œä¸è®°å½•ï¼‰ï¼Œåªè®¸è¿½åŠ æ–‡ä»¶ä½†ä¸å¯ä»¥æ”¹å†™æ–‡ä»¶ï¼Œrediså¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼Œredisé‡å¯çš„è¯å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯AOF"><a href="#ä»€ä¹ˆæ˜¯AOF" class="headerlink" title="ä»€ä¹ˆæ˜¯AOF"></a>ä»€ä¹ˆæ˜¯AOF</h3><p> å¿«ç…§åŠŸèƒ½ï¼ˆRDBï¼‰å¹¶ä¸æ˜¯éå¸¸è€ä¹…ï¼ˆdurableï¼‰ï¼š å¦‚æœ Redis å› ä¸ºæŸäº›åŸå› è€Œé€ æˆæ•…éšœåœæœºï¼Œ é‚£ä¹ˆæœåŠ¡å™¨å°†ä¸¢å¤±æœ€è¿‘å†™å…¥ã€ä»¥åŠæœªä¿å­˜åˆ°å¿«ç…§ä¸­çš„é‚£äº›æ•°æ®ã€‚ ä» 1.1 ç‰ˆæœ¬å¼€å§‹ï¼Œ Redis å¢åŠ äº†ä¸€ç§å®Œå…¨è€ä¹…çš„æŒä¹…åŒ–æ–¹å¼ï¼š AOF æŒä¹…åŒ–ã€‚</p><p>å¦‚æœè¦ä½¿ç”¨AOFï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513215247113.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><code>appendonly no yes</code>åˆ™è¡¨ç¤ºå¯ç”¨AOF</p><p>é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œç„¶åé‡å¯redisï¼Œå°±å¯ä»¥ç”Ÿæ•ˆäº†ï¼</p><p>å¦‚æœè¿™ä¸ªaofæ–‡ä»¶æœ‰é”™ä½ï¼Œè¿™æ—¶å€™redisæ˜¯å¯åŠ¨ä¸èµ·æ¥çš„ï¼Œæˆ‘éœ€è¦ä¿®æ”¹è¿™ä¸ªaofæ–‡ä»¶</p><p>redisç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…·<code>redis-check-aof --fix</code></p><blockquote><p>ä¼˜ç‚¹å’Œç¼ºç‚¹</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">appendonly yes  <span class="comment"># é»˜è®¤æ˜¯ä¸å¼€å¯aofæ¨¡å¼çš„ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨rdbæ–¹å¼æŒä¹…åŒ–çš„ï¼Œåœ¨å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹ï¼Œrdbå®Œå…¨å¤Ÿç”¨</span></span><br><span class="line">appendfilename <span class="string">&quot;appendonly.aof&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># appendfsync always # æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šsync æ¶ˆè€—æ€§èƒ½</span></span><br><span class="line">appendfsync everysec <span class="comment"># æ¯ç§’æ‰§è¡Œä¸€æ¬¡ sync å¯èƒ½ä¼šä¸¢å¤±è¿™ä¸€ç§’çš„æ•°æ®</span></span><br><span class="line"><span class="comment"># appendfsync no # ä¸æ‰§è¡Œ sync ,è¿™æ—¶å€™æ“ä½œç³»ç»Ÿè‡ªå·±åŒæ­¥æ•°æ®ï¼Œé€Ÿåº¦æœ€å¿«</span></span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹</strong></p><ol><li>æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½ä¼šåŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´æ€§ä¼šæ›´åŠ å¥½</li><li>æ²¡ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’çš„æ•°æ®</li><li>ä»ä¸åŒæ­¥ï¼Œæ•ˆç‡æœ€é«˜</li></ol><p><strong>ç¼ºç‚¹</strong></p><ol><li>ç›¸å¯¹äºæ•°æ®æ–‡ä»¶æ¥è¯´ï¼Œaofè¿œè¿œå¤§äºrdbï¼Œä¿®å¤é€Ÿåº¦æ¯”rdbæ…¢ï¼</li><li>Aofè¿è¡Œæ•ˆç‡ä¹Ÿè¦æ¯”rdbæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬redisé»˜è®¤çš„é…ç½®å°±æ˜¯rdbæŒä¹…åŒ–</li></ol><h2 id="åäºŒã€RDBå’ŒAOPé€‰æ‹©"><a href="#åäºŒã€RDBå’ŒAOPé€‰æ‹©" class="headerlink" title="åäºŒã€RDBå’ŒAOPé€‰æ‹©"></a>åäºŒã€RDBå’ŒAOPé€‰æ‹©</h2><h3 id="RDB-å’Œ-AOF-å¯¹æ¯”"><a href="#RDB-å’Œ-AOF-å¯¹æ¯”" class="headerlink" title="RDB å’Œ AOF å¯¹æ¯”"></a>RDB å’Œ AOF å¯¹æ¯”</h3><table><thead><tr><th>RDB</th><th>AOF</th><th></th></tr></thead><tbody><tr><td>å¯åŠ¨ä¼˜å…ˆçº§</td><td>ä½</td><td>é«˜</td></tr><tr><td>ä½“ç§¯</td><td>å°</td><td>å¤§</td></tr><tr><td>æ¢å¤é€Ÿåº¦</td><td>å¿«</td><td>æ…¢</td></tr><tr><td>æ•°æ®å®‰å…¨æ€§</td><td>ä¸¢æ•°æ®</td><td>æ ¹æ®ç­–ç•¥å†³å®š</td></tr></tbody></table><h3 id="å¦‚ä½•é€‰æ‹©ä½¿ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼ï¼Ÿ"><a href="#å¦‚ä½•é€‰æ‹©ä½¿ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼ï¼Ÿ" class="headerlink" title="å¦‚ä½•é€‰æ‹©ä½¿ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼ï¼Ÿ"></a>å¦‚ä½•é€‰æ‹©ä½¿ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼ï¼Ÿ</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œ å¦‚æœæƒ³è¾¾åˆ°è¶³ä»¥åª²ç¾ PostgreSQL çš„æ•°æ®å®‰å…¨æ€§ï¼Œ ä½ åº”è¯¥åŒæ—¶ä½¿ç”¨ä¸¤ç§æŒä¹…åŒ–åŠŸèƒ½ã€‚</p><p>å¦‚æœä½ éå¸¸å…³å¿ƒä½ çš„æ•°æ®ï¼Œ ä½†ä»ç„¶å¯ä»¥æ‰¿å—æ•°åˆ†é’Ÿä»¥å†…çš„æ•°æ®ä¸¢å¤±ï¼Œ é‚£ä¹ˆä½ å¯ä»¥åªä½¿ç”¨ RDB æŒä¹…åŒ–ã€‚</p><p>æœ‰å¾ˆå¤šç”¨æˆ·éƒ½åªä½¿ç”¨ AOF æŒä¹…åŒ–ï¼Œ ä½†å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ï¼š å› ä¸ºå®šæ—¶ç”Ÿæˆ RDB å¿«ç…§ï¼ˆsnapshotï¼‰éå¸¸ä¾¿äºè¿›è¡Œæ•°æ®åº“å¤‡ä»½ï¼Œ å¹¶ä¸” RDB æ¢å¤æ•°æ®é›†çš„é€Ÿåº¦ä¹Ÿè¦æ¯” AOF æ¢å¤çš„é€Ÿåº¦è¦å¿«ã€‚</p><h2 id="åä¸‰ã€Rediså‘å¸ƒä¸è®¢é˜…"><a href="#åä¸‰ã€Rediså‘å¸ƒä¸è®¢é˜…" class="headerlink" title="åä¸‰ã€Rediså‘å¸ƒä¸è®¢é˜…"></a>åä¸‰ã€Rediså‘å¸ƒä¸è®¢é˜…</h2><p>Redis å‘å¸ƒè®¢é˜…(pub/sub)æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼šå‘é€è€…(pub)å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…(sub)æ¥æ”¶æ¶ˆæ¯ã€‚</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-IBT2pjCa-1597890996526)(ç‹‚ç¥è¯´ Redis.assets/image-20200818162849693.png)]</p><p>ä¸‹å›¾å±•ç¤ºäº†é¢‘é“ channel1 ï¼Œ ä»¥åŠè®¢é˜…è¿™ä¸ªé¢‘é“çš„ä¸‰ä¸ªå®¢æˆ·ç«¯ â€”â€” client2 ã€ client5 å’Œ client1 ä¹‹é—´çš„å…³ç³»ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513215523258.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å½“æœ‰æ–°æ¶ˆæ¯é€šè¿‡ PUBLISH å‘½ä»¤å‘é€ç»™é¢‘é“ channel1 æ—¶ï¼Œ è¿™ä¸ªæ¶ˆæ¯å°±ä¼šè¢«å‘é€ç»™è®¢é˜…å®ƒçš„ä¸‰ä¸ªå®¢æˆ·ç«¯ï¼š</p><p><img src="https://img-blog.csdnimg.cn/2020051321553483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>PSUBSCRIBE pattern [pattern..]</code></td><td>è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆç»™å®šæ¨¡å¼çš„é¢‘é“ã€‚</td></tr><tr><td><code>PUNSUBSCRIBE pattern [pattern..]</code></td><td>é€€è®¢ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆç»™å®šæ¨¡å¼çš„é¢‘é“ã€‚</td></tr><tr><td><code>PUBSUB subcommand [argument[argument]]</code></td><td>æŸ¥çœ‹è®¢é˜…ä¸å‘å¸ƒç³»ç»ŸçŠ¶æ€ã€‚</td></tr><tr><td><code>PUBLISH channel message</code></td><td>å‘æŒ‡å®šé¢‘é“å‘å¸ƒæ¶ˆæ¯</td></tr><tr><td><code>SUBSCRIBE channel [channel..]</code></td><td>è®¢é˜…ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“ã€‚</td></tr><tr><td><code>SUBSCRIBE channel [channel..]</code></td><td>é€€è®¢ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“</td></tr></tbody></table><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">------------è®¢é˜…ç«¯----------------------</span><br><span class="line">127.0.0.1:6379&gt; SUBSCRIBE sakura <span class="comment"># è®¢é˜…sakuraé¢‘é“</span></span><br><span class="line">Reading messages... (press Ctrl-C to quit) <span class="comment"># ç­‰å¾…æ¥æ”¶æ¶ˆæ¯</span></span><br><span class="line">1) <span class="string">&quot;subscribe&quot;</span> <span class="comment"># è®¢é˜…æˆåŠŸçš„æ¶ˆæ¯</span></span><br><span class="line">2) <span class="string">&quot;sakura&quot;</span></span><br><span class="line">3) (<span class="built_in">integer</span>) 1</span><br><span class="line">1) <span class="string">&quot;message&quot;</span> <span class="comment"># æ¥æ”¶åˆ°æ¥è‡ªsakuraé¢‘é“çš„æ¶ˆæ¯ &quot;hello world&quot;</span></span><br><span class="line">2) <span class="string">&quot;sakura&quot;</span></span><br><span class="line">3) <span class="string">&quot;hello world&quot;</span></span><br><span class="line">1) <span class="string">&quot;message&quot;</span> <span class="comment"># æ¥æ”¶åˆ°æ¥è‡ªsakuraé¢‘é“çš„æ¶ˆæ¯ &quot;hello i am sakura&quot;</span></span><br><span class="line">2) <span class="string">&quot;sakura&quot;</span></span><br><span class="line">3) <span class="string">&quot;hello i am sakura&quot;</span></span><br><span class="line"></span><br><span class="line">--------------æ¶ˆæ¯å‘å¸ƒç«¯-------------------</span><br><span class="line">127.0.0.1:6379&gt; PUBLISH sakura <span class="string">&quot;hello world&quot;</span> <span class="comment"># å‘å¸ƒæ¶ˆæ¯åˆ°sakuraé¢‘é“</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; PUBLISH sakura <span class="string">&quot;hello i am sakura&quot;</span> <span class="comment"># å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">-----------------æŸ¥çœ‹æ´»è·ƒçš„é¢‘é“------------</span><br><span class="line">127.0.0.1:6379&gt; PUBSUB channels</span><br><span class="line">1) <span class="string">&quot;sakura&quot;</span></span><br></pre></td></tr></table></figure><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>æ¯ä¸ª Redis æœåŠ¡å™¨è¿›ç¨‹éƒ½ç»´æŒç€ä¸€ä¸ªè¡¨ç¤ºæœåŠ¡å™¨çŠ¶æ€çš„ redis.h/redisServer ç»“æ„ï¼Œ ç»“æ„çš„ pubsub_channels å±æ€§æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œ è¿™ä¸ªå­—å…¸å°±ç”¨äºä¿å­˜è®¢é˜…é¢‘é“çš„ä¿¡æ¯ï¼Œå…¶ä¸­ï¼Œå­—å…¸çš„é”®ä¸ºæ­£åœ¨è¢«è®¢é˜…çš„é¢‘é“ï¼Œ è€Œå­—å…¸çš„å€¼åˆ™æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œ é“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…è¿™ä¸ªé¢‘é“çš„å®¢æˆ·ç«¯ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2020051321554964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å®¢æˆ·ç«¯è®¢é˜…ï¼Œå°±è¢«é“¾æ¥åˆ°å¯¹åº”é¢‘é“çš„é“¾è¡¨çš„å°¾éƒ¨ï¼Œé€€è®¢åˆ™å°±æ˜¯å°†å®¢æˆ·ç«¯èŠ‚ç‚¹ä»é“¾è¡¨ä¸­ç§»é™¤ã€‚</p><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ol><li>å¦‚æœä¸€ä¸ªå®¢æˆ·ç«¯è®¢é˜…äº†é¢‘é“ï¼Œä½†è‡ªå·±è¯»å–æ¶ˆæ¯çš„é€Ÿåº¦å´ä¸å¤Ÿå¿«çš„è¯ï¼Œé‚£ä¹ˆä¸æ–­ç§¯å‹çš„æ¶ˆæ¯ä¼šä½¿redisè¾“å‡ºç¼“å†²åŒºçš„ä½“ç§¯å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œè¿™å¯èƒ½ä½¿å¾—redisæœ¬èº«çš„é€Ÿåº¦å˜æ…¢ï¼Œç”šè‡³ç›´æ¥å´©æºƒã€‚</li><li>è¿™å’Œæ•°æ®ä¼ è¾“å¯é æ€§æœ‰å…³ï¼Œå¦‚æœåœ¨è®¢é˜…æ–¹æ–­çº¿ï¼Œé‚£ä¹ˆä»–å°†ä¼šä¸¢å¤±æ‰€æœ‰åœ¨çŸ­çº¿æœŸé—´å‘å¸ƒè€…å‘å¸ƒçš„æ¶ˆæ¯ã€‚</li></ol><h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><ol><li>æ¶ˆæ¯è®¢é˜…ï¼šå…¬ä¼—å·è®¢é˜…ï¼Œå¾®åšå…³æ³¨ç­‰ç­‰ï¼ˆèµ·å§‹æ›´å¤šæ˜¯ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥è¿›è¡Œå®ç°ï¼‰</li><li>å¤šäººåœ¨çº¿èŠå¤©å®¤ã€‚</li></ol><p>ç¨å¾®å¤æ‚çš„åœºæ™¯ï¼Œæˆ‘ä»¬å°±ä¼šä½¿ç”¨æ¶ˆæ¯ä¸­é—´ä»¶MQå¤„ç†ã€‚</p><h2 id="åå››ã€Redisä¸»ä»å¤åˆ¶"><a href="#åå››ã€Redisä¸»ä»å¤åˆ¶" class="headerlink" title="åå››ã€Redisä¸»ä»å¤åˆ¶"></a>åå››ã€Redisä¸»ä»å¤åˆ¶</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p> ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å°RedisæœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„RedisæœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹ï¼ˆMaster/Leaderï¼‰,åè€…ç§°ä¸ºä»èŠ‚ç‚¹ï¼ˆSlave/Followerï¼‰ï¼Œ æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„ï¼åªèƒ½ç”±ä¸»èŠ‚ç‚¹å¤åˆ¶åˆ°ä»èŠ‚ç‚¹ï¼ˆä¸»èŠ‚ç‚¹ä»¥å†™ä¸ºä¸»ã€ä»èŠ‚ç‚¹ä»¥è¯»ä¸ºä¸»ï¼‰ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼Œä¸€ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥æœ‰0ä¸ªæˆ–è€…å¤šä¸ªä»èŠ‚ç‚¹ï¼Œä½†æ¯ä¸ªä»èŠ‚ç‚¹åªèƒ½ç”±ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚</p><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><ol><li>æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™çš„æ–¹å¼ã€‚</li><li>æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹æ•…éšœæ—¶ï¼Œä»èŠ‚ç‚¹å¯ä»¥æš‚æ—¶æ›¿ä»£ä¸»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œæ˜¯ä¸€ç§æœåŠ¡å†—ä½™çš„æ–¹å¼</li><li>è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œç”±ä¸»èŠ‚ç‚¹è¿›è¡Œå†™æ“ä½œï¼Œä»èŠ‚ç‚¹è¿›è¡Œè¯»æ“ä½œï¼Œåˆ†æ‹…æœåŠ¡å™¨çš„è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å¤šè¯»å°‘å†™çš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è´Ÿè½½ï¼Œæé«˜å¹¶å‘é‡ã€‚</li><li>é«˜å¯ç”¨åŸºçŸ³ï¼šä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ã€‚</li></ol><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨é›†ç¾¤"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨é›†ç¾¤" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨é›†ç¾¤"></a>ä¸ºä»€ä¹ˆä½¿ç”¨é›†ç¾¤</h3><ol><li>å•å°æœåŠ¡å™¨éš¾ä»¥è´Ÿè½½å¤§é‡çš„è¯·æ±‚</li><li>å•å°æœåŠ¡å™¨æ•…éšœç‡é«˜ï¼Œç³»ç»Ÿå´©åæ¦‚ç‡å¤§</li><li>å•å°æœåŠ¡å™¨å†…å­˜å®¹é‡æœ‰é™ã€‚</li></ol><h3 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h3><p>æˆ‘ä»¬åœ¨è®²è§£é…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œæ³¨æ„åˆ°æœ‰ä¸€ä¸ª<code>replication</code>æ¨¡å— (è§Redis.confä¸­ç¬¬8æ¡)</p><p>æŸ¥çœ‹å½“å‰åº“çš„ä¿¡æ¯ï¼š<code>info replication</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master <span class="comment"># è§’è‰²</span></span><br><span class="line">connected_slaves:0 <span class="comment"># ä»æœºæ•°é‡</span></span><br><span class="line">master_replid:3b54deef5b7b7b7f7dd8acefa23be48879b4fcff</span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line">master_repl_offset:0</span><br><span class="line">second_repl_offset:-1</span><br><span class="line">repl_backlog_active:0</span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line">repl_backlog_first_byte_offset:0</span><br><span class="line">repl_backlog_histlen:0</span><br></pre></td></tr></table></figure><p>æ—¢ç„¶éœ€è¦å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼Œå°±éœ€è¦å¤šä¸ªé…ç½®æ–‡ä»¶ã€‚æ¯ä¸ªé…ç½®æ–‡ä»¶å¯¹åº”ä¿®æ”¹ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li>ç«¯å£å·</li><li>pidæ–‡ä»¶å</li><li>æ—¥å¿—æ–‡ä»¶å</li><li>rdbæ–‡ä»¶å</li></ul><p>å¯åŠ¨å•æœºå¤šæœåŠ¡é›†ç¾¤ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513215610163.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä¸€ä¸»äºŒä»é…ç½®"><a href="#ä¸€ä¸»äºŒä»é…ç½®" class="headerlink" title="ä¸€ä¸»äºŒä»é…ç½®"></a>ä¸€ä¸»äºŒä»é…ç½®</h3><p>==é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼›==æˆ‘ä»¬ä¸€èˆ¬æƒ…å†µä¸‹åªç”¨é…ç½®ä»æœºå°±å¥½äº†ï¼</p><p>è®¤è€å¤§ï¼ä¸€ä¸»ï¼ˆ79ï¼‰äºŒä»ï¼ˆ80ï¼Œ81ï¼‰</p><p>ä½¿ç”¨<code>SLAVEOF host port</code>å°±å¯ä»¥ä¸ºä»æœºé…ç½®ä¸»æœºäº†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513215637483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç„¶åä¸»æœºä¸Šä¹Ÿèƒ½çœ‹åˆ°ä»æœºçš„çŠ¶æ€ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513215645778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆ‘ä»¬è¿™é‡Œæ˜¯ä½¿ç”¨å‘½ä»¤æ­å»ºï¼Œæ˜¯æš‚æ—¶çš„ï¼Œ==çœŸå®å¼€å‘ä¸­åº”è¯¥åœ¨ä»æœºçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œ==è¿™æ ·çš„è¯æ˜¯æ°¸ä¹…çš„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513215654634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä½¿ç”¨è§„åˆ™"><a href="#ä½¿ç”¨è§„åˆ™" class="headerlink" title="ä½¿ç”¨è§„åˆ™"></a>ä½¿ç”¨è§„åˆ™</h3><ol><li><p>ä»æœºåªèƒ½è¯»ï¼Œä¸èƒ½å†™ï¼Œä¸»æœºå¯è¯»å¯å†™ä½†æ˜¯å¤šç”¨äºå†™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> 127.0.0.1:6381&gt; <span class="built_in">set</span> name sakura <span class="comment"># ä»æœº6381å†™å…¥å¤±è´¥</span></span><br><span class="line">(error) READONLY You can<span class="string">&#x27;t write against a read only replica.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">127.0.0.1:6380&gt; set name sakura # ä»æœº6380å†™å…¥å¤±è´¥</span></span><br><span class="line"><span class="string">(error) READONLY You can&#x27;</span>t write against a <span class="built_in">read</span> only replica.</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> name sakura</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line"><span class="string">&quot;sakura&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>å½“ä¸»æœºæ–­ç”µå®•æœºåï¼Œé»˜è®¤æƒ…å†µä¸‹ä»æœºçš„è§’è‰²ä¸ä¼šå‘ç”Ÿå˜åŒ– ï¼Œé›†ç¾¤ä¸­åªæ˜¯å¤±å»äº†å†™æ“ä½œï¼Œå½“ä¸»æœºæ¢å¤ä»¥åï¼Œåˆä¼šè¿æ¥ä¸Šä»æœºæ¢å¤åŸçŠ¶ã€‚</p></li><li><p>å½“ä»æœºæ–­ç”µå®•æœºåï¼Œè‹¥ä¸æ˜¯ä½¿ç”¨é…ç½®æ–‡ä»¶é…ç½®çš„ä»æœºï¼Œå†æ¬¡å¯åŠ¨åä½œä¸ºä¸»æœºæ˜¯æ— æ³•è·å–ä¹‹å‰ä¸»æœºçš„æ•°æ®çš„ï¼Œè‹¥æ­¤æ—¶é‡æ–°é…ç½®ç§°ä¸ºä»æœºï¼Œåˆå¯ä»¥è·å–åˆ°ä¸»æœºçš„æ‰€æœ‰æ•°æ®ã€‚è¿™é‡Œå°±è¦æåˆ°ä¸€ä¸ªåŒæ­¥åŸç†ã€‚</p></li><li><p>ç¬¬äºŒæ¡ä¸­æåˆ°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»æœºæ•…éšœåï¼Œä¸ä¼šå‡ºç°æ–°çš„ä¸»æœºï¼Œæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥äº§ç”Ÿæ–°çš„ä¸»æœºï¼š</p><ul><li>ä»æœºæ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤<code>slaveof no one</code>,è¿™æ ·æ‰§è¡Œä»¥åä»æœºä¼šç‹¬ç«‹å‡ºæ¥æˆä¸ºä¸€ä¸ªä¸»æœº</li><li>ä½¿ç”¨å“¨å…µæ¨¡å¼ï¼ˆè‡ªåŠ¨é€‰ä¸¾ï¼‰</li></ul></li></ol><blockquote><p>å¦‚æœæ²¡æœ‰è€å¤§äº†ï¼Œè¿™ä¸ªæ—¶å€™èƒ½ä¸èƒ½é€‰æ‹©å‡ºæ¥ä¸€ä¸ªè€å¤§å‘¢ï¼Ÿæ‰‹åŠ¨ï¼</p></blockquote><p>å¦‚æœä¸»æœºæ–­å¼€äº†è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>SLAVEOF no one</code>è®©è‡ªå·±å˜æˆä¸»æœºï¼å…¶ä»–çš„èŠ‚ç‚¹å°±å¯ä»¥æ‰‹åŠ¨è¿æ¥åˆ°æœ€æ–°çš„ä¸»èŠ‚ç‚¹ï¼ˆæ‰‹åŠ¨ï¼‰ï¼å¦‚æœè¿™ä¸ªæ—¶å€™è€å¤§ä¿®å¤äº†ï¼Œé‚£ä¹ˆä¹…é‡æ–°è¿æ¥ï¼</p><h2 id="åäº”ã€å“¨å…µæ¨¡å¼"><a href="#åäº”ã€å“¨å…µæ¨¡å¼" class="headerlink" title="åäº”ã€å“¨å…µæ¨¡å¼"></a>åäº”ã€å“¨å…µæ¨¡å¼</h2><p>æ›´å¤šä¿¡æ¯å‚è€ƒåšå®¢ï¼š<a href="https://www.jianshu.com/p/06ab9daf921d">https://www.jianshu.com/p/06ab9daf921d</a></p><p><strong>ä¸»ä»åˆ‡æ¢æŠ€æœ¯çš„æ–¹æ³•æ˜¯ï¼šå½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦äººå·¥å¹²é¢„ï¼Œè´¹äº‹è´¹åŠ›ï¼Œè¿˜ä¼šé€ æˆä¸€æ®µæ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚\</strong>è¿™ä¸æ˜¯ä¸€ç§æ¨èçš„æ–¹å¼ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘**å“¨å…µæ¨¡å¼**ã€‚</p><p>å•æœºå•ä¸ªå“¨å…µ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xMTMyMDAzOS01N2E3N2NhMjc1N2QwOTI0LnBuZw?x-oss-process=image/format,png" alt="img"></p><p>å“¨å…µçš„ä½œç”¨ï¼š</p><ul><li>é€šè¿‡å‘é€å‘½ä»¤ï¼Œè®©RedisæœåŠ¡å™¨è¿”å›ç›‘æ§å…¶è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨ã€‚</li><li>å½“å“¨å…µç›‘æµ‹åˆ°masterå®•æœºï¼Œä¼šè‡ªåŠ¨å°†slaveåˆ‡æ¢æˆmasterï¼Œç„¶åé€šè¿‡<strong>å‘å¸ƒè®¢é˜…æ¨¡å¼</strong>é€šçŸ¥å…¶ä»–çš„ä»æœåŠ¡å™¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒä»¬åˆ‡æ¢ä¸»æœºã€‚</li></ul><p>å¤šå“¨å…µæ¨¡å¼</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xMTMyMDAzOS0zZjQwYjE3YzA0MTIxMTZjLnBuZw?x-oss-process=image/format,png" alt="img"></p><p>å“¨å…µçš„æ ¸å¿ƒé…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sentinel monitor mymaster 127.0.0.1 6379</span><br></pre></td></tr></table></figure><ul><li>æ•°å­—1è¡¨ç¤º ï¼šå½“ä¸€ä¸ªå“¨å…µä¸»è§‚è®¤ä¸ºä¸»æœºæ–­å¼€ï¼Œå°±å¯ä»¥å®¢è§‚è®¤ä¸ºä¸»æœºæ•…éšœï¼Œç„¶åå¼€å§‹é€‰ä¸¾æ–°çš„ä¸»æœºã€‚</li></ul><blockquote><p>æµ‹è¯•</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-sentinel xxx&#x2F;sentinel.conf</span><br></pre></td></tr></table></figure><p>æˆåŠŸå¯åŠ¨å“¨å…µæ¨¡å¼</p><p><img src="https://img-blog.csdnimg.cn/20200513215752444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ­¤æ—¶å“¨å…µç›‘è§†ç€æˆ‘ä»¬çš„ä¸»æœº6379ï¼Œå½“æˆ‘ä»¬æ–­å¼€ä¸»æœºåï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513215806972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>å“¨å…µæ¨¡å¼ä¼˜ç¼ºç‚¹</p></blockquote><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol><li>å“¨å…µé›†ç¾¤ï¼ŒåŸºäºä¸»ä»å¤åˆ¶æ¨¡å¼ï¼Œæ‰€æœ‰ä¸»ä»å¤åˆ¶çš„ä¼˜ç‚¹ï¼Œå®ƒéƒ½æœ‰</li><li>ä¸»ä»å¯ä»¥åˆ‡æ¢ï¼Œæ•…éšœå¯ä»¥è½¬ç§»ï¼Œç³»ç»Ÿçš„å¯ç”¨æ€§æ›´å¥½</li><li>å“¨å…µæ¨¡å¼æ˜¯ä¸»ä»æ¨¡å¼çš„å‡çº§ï¼Œæ‰‹åŠ¨åˆ°è‡ªåŠ¨ï¼Œæ›´åŠ å¥å£®</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li>Redisä¸å¥½åœ¨çº¿æ‰©å®¹ï¼Œé›†ç¾¤å®¹é‡ä¸€æ—¦è¾¾åˆ°ä¸Šé™ï¼Œåœ¨çº¿æ‰©å®¹å°±ååˆ†éº»çƒ¦</li><li>å®ç°å“¨å…µæ¨¡å¼çš„é…ç½®å…¶å®æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œé‡Œé¢æœ‰å¾ˆå¤šé…ç½®é¡¹</li></ol><blockquote><p>å“¨å…µæ¨¡å¼çš„å…¨éƒ¨é…ç½®</p></blockquote><p>å®Œæ•´çš„å“¨å…µæ¨¡å¼é…ç½®æ–‡ä»¶ sentinel.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Example sentinel.conf</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># å“¨å…µsentinelå®ä¾‹è¿è¡Œçš„ç«¯å£ é»˜è®¤26379</span></span><br><span class="line">port 26379</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å“¨å…µsentinelçš„å·¥ä½œç›®å½•</span></span><br><span class="line">dir /tmp</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å“¨å…µsentinelç›‘æ§çš„redisä¸»èŠ‚ç‚¹çš„ ip port </span></span><br><span class="line"><span class="comment"># master-name  å¯ä»¥è‡ªå·±å‘½åçš„ä¸»èŠ‚ç‚¹åå­— åªèƒ½ç”±å­—æ¯A-zã€æ•°å­—0-9 ã€è¿™ä¸‰ä¸ªå­—ç¬¦&quot;.-_&quot;ç»„æˆã€‚</span></span><br><span class="line"><span class="comment"># quorum å½“è¿™äº›quorumä¸ªæ•°sentinelå“¨å…µè®¤ä¸ºmasterä¸»èŠ‚ç‚¹å¤±è” é‚£ä¹ˆè¿™æ—¶ å®¢è§‚ä¸Šè®¤ä¸ºä¸»èŠ‚ç‚¹å¤±è”äº†</span></span><br><span class="line"><span class="comment"># sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt;</span></span><br><span class="line">sentinel monitor mymaster 127.0.0.1 6379 1</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å½“åœ¨Rediså®ä¾‹ä¸­å¼€å¯äº†requirepass foobared æˆæƒå¯†ç  è¿™æ ·æ‰€æœ‰è¿æ¥Rediså®ä¾‹çš„å®¢æˆ·ç«¯éƒ½è¦æä¾›å¯†ç </span></span><br><span class="line"><span class="comment"># è®¾ç½®å“¨å…µsentinel è¿æ¥ä¸»ä»çš„å¯†ç  æ³¨æ„å¿…é¡»ä¸ºä¸»ä»è®¾ç½®ä¸€æ ·çš„éªŒè¯å¯†ç </span></span><br><span class="line"><span class="comment"># sentinel auth-pass &lt;master-name&gt; &lt;password&gt;</span></span><br><span class="line">sentinel auth-pass mymaster MySUPER--secret-0123passw0rd</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æŒ‡å®šå¤šå°‘æ¯«ç§’ä¹‹å ä¸»èŠ‚ç‚¹æ²¡æœ‰åº”ç­”å“¨å…µsentinel æ­¤æ—¶ å“¨å…µä¸»è§‚ä¸Šè®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿ é»˜è®¤30ç§’</span></span><br><span class="line"><span class="comment"># sentinel down-after-milliseconds &lt;master-name&gt; &lt;milliseconds&gt;</span></span><br><span class="line">sentinel down-after-milliseconds mymaster 30000</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è¿™ä¸ªé…ç½®é¡¹æŒ‡å®šäº†åœ¨å‘ç”Ÿfailoverä¸»å¤‡åˆ‡æ¢æ—¶æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªslaveåŒæ—¶å¯¹æ–°çš„masterè¿›è¡Œ åŒæ­¥ï¼Œ</span></span><br><span class="line">è¿™ä¸ªæ•°å­—è¶Šå°ï¼Œå®Œæˆfailoveræ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ï¼Œ</span><br><span class="line">ä½†æ˜¯å¦‚æœè¿™ä¸ªæ•°å­—è¶Šå¤§ï¼Œå°±æ„å‘³ç€è¶Š å¤šçš„slaveå› ä¸ºreplicationè€Œä¸å¯ç”¨ã€‚</span><br><span class="line">å¯ä»¥é€šè¿‡å°†è¿™ä¸ªå€¼è®¾ä¸º 1 æ¥ä¿è¯æ¯æ¬¡åªæœ‰ä¸€ä¸ªslave å¤„äºä¸èƒ½å¤„ç†å‘½ä»¤è¯·æ±‚çš„çŠ¶æ€ã€‚</span><br><span class="line"><span class="comment"># sentinel parallel-syncs &lt;master-name&gt; &lt;numslaves&gt;</span></span><br><span class="line">sentinel parallel-syncs mymaster 1</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´ failover-timeout å¯ä»¥ç”¨åœ¨ä»¥ä¸‹è¿™äº›æ–¹é¢ï¼š </span></span><br><span class="line"><span class="comment">#1. åŒä¸€ä¸ªsentinelå¯¹åŒä¸€ä¸ªmasterä¸¤æ¬¡failoverä¹‹é—´çš„é—´éš”æ—¶é—´ã€‚</span></span><br><span class="line"><span class="comment">#2. å½“ä¸€ä¸ªslaveä»ä¸€ä¸ªé”™è¯¯çš„masteré‚£é‡ŒåŒæ­¥æ•°æ®å¼€å§‹è®¡ç®—æ—¶é—´ã€‚ç›´åˆ°slaveè¢«çº æ­£ä¸ºå‘æ­£ç¡®çš„masteré‚£é‡ŒåŒæ­¥æ•°æ®æ—¶ã€‚</span></span><br><span class="line"><span class="comment">#3.å½“æƒ³è¦å–æ¶ˆä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„failoveræ‰€éœ€è¦çš„æ—¶é—´ã€‚  </span></span><br><span class="line"><span class="comment">#4.å½“è¿›è¡Œfailoveræ—¶ï¼Œé…ç½®æ‰€æœ‰slavesæŒ‡å‘æ–°çš„masteræ‰€éœ€çš„æœ€å¤§æ—¶é—´ã€‚ä¸è¿‡ï¼Œå³ä½¿è¿‡äº†è¿™ä¸ªè¶…æ—¶ï¼Œslavesä¾ç„¶ä¼šè¢«æ­£ç¡®é…ç½®ä¸ºæŒ‡å‘masterï¼Œä½†æ˜¯å°±ä¸æŒ‰parallel-syncsæ‰€é…ç½®çš„è§„åˆ™æ¥äº†</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸‰åˆ†é’Ÿ</span></span><br><span class="line"><span class="comment"># sentinel failover-timeout &lt;master-name&gt; &lt;milliseconds&gt;</span></span><br><span class="line">sentinel failover-timeout mymaster 180000</span><br><span class="line"> </span><br><span class="line"><span class="comment"># SCRIPTS EXECUTION</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#é…ç½®å½“æŸä¸€äº‹ä»¶å‘ç”Ÿæ—¶æ‰€éœ€è¦æ‰§è¡Œçš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡è„šæœ¬æ¥é€šçŸ¥ç®¡ç†å‘˜ï¼Œä¾‹å¦‚å½“ç³»ç»Ÿè¿è¡Œä¸æ­£å¸¸æ—¶å‘é‚®ä»¶é€šçŸ¥ç›¸å…³äººå‘˜ã€‚</span></span><br><span class="line"><span class="comment">#å¯¹äºè„šæœ¬çš„è¿è¡Œç»“æœæœ‰ä»¥ä¸‹è§„åˆ™ï¼š</span></span><br><span class="line"><span class="comment">#è‹¥è„šæœ¬æ‰§è¡Œåè¿”å›1ï¼Œé‚£ä¹ˆè¯¥è„šæœ¬ç¨åå°†ä¼šè¢«å†æ¬¡æ‰§è¡Œï¼Œé‡å¤æ¬¡æ•°ç›®å‰é»˜è®¤ä¸º10</span></span><br><span class="line"><span class="comment">#è‹¥è„šæœ¬æ‰§è¡Œåè¿”å›2ï¼Œæˆ–è€…æ¯”2æ›´é«˜çš„ä¸€ä¸ªè¿”å›å€¼ï¼Œè„šæœ¬å°†ä¸ä¼šé‡å¤æ‰§è¡Œã€‚</span></span><br><span class="line"><span class="comment">#å¦‚æœè„šæœ¬åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç”±äºæ”¶åˆ°ç³»ç»Ÿä¸­æ–­ä¿¡å·è¢«ç»ˆæ­¢äº†ï¼Œåˆ™åŒè¿”å›å€¼ä¸º1æ—¶çš„è¡Œä¸ºç›¸åŒã€‚</span></span><br><span class="line"><span class="comment">#ä¸€ä¸ªè„šæœ¬çš„æœ€å¤§æ‰§è¡Œæ—¶é—´ä¸º60sï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œè„šæœ¬å°†ä¼šè¢«ä¸€ä¸ªSIGKILLä¿¡å·ç»ˆæ­¢ï¼Œä¹‹åé‡æ–°æ‰§è¡Œã€‚</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#é€šçŸ¥å‹è„šæœ¬:å½“sentinelæœ‰ä»»ä½•è­¦å‘Šçº§åˆ«çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚è¯´rediså®ä¾‹çš„ä¸»è§‚å¤±æ•ˆå’Œå®¢è§‚å¤±æ•ˆç­‰ç­‰ï¼‰ï¼Œå°†ä¼šå»è°ƒç”¨è¿™ä¸ªè„šæœ¬ï¼Œ</span></span><br><span class="line"><span class="comment">#è¿™æ—¶è¿™ä¸ªè„šæœ¬åº”è¯¥é€šè¿‡é‚®ä»¶ï¼ŒSMSç­‰æ–¹å¼å»é€šçŸ¥ç³»ç»Ÿç®¡ç†å‘˜å…³äºç³»ç»Ÿä¸æ­£å¸¸è¿è¡Œçš„ä¿¡æ¯ã€‚è°ƒç”¨è¯¥è„šæœ¬æ—¶ï¼Œå°†ä¼ ç»™è„šæœ¬ä¸¤ä¸ªå‚æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">#ä¸€ä¸ªæ˜¯äº‹ä»¶çš„ç±»å‹ï¼Œ</span></span><br><span class="line"><span class="comment">#ä¸€ä¸ªæ˜¯äº‹ä»¶çš„æè¿°ã€‚</span></span><br><span class="line"><span class="comment">#å¦‚æœsentinel.confé…ç½®æ–‡ä»¶ä¸­é…ç½®äº†è¿™ä¸ªè„šæœ¬è·¯å¾„ï¼Œé‚£ä¹ˆå¿…é¡»ä¿è¯è¿™ä¸ªè„šæœ¬å­˜åœ¨äºè¿™ä¸ªè·¯å¾„ï¼Œå¹¶ä¸”æ˜¯å¯æ‰§è¡Œçš„ï¼Œå¦åˆ™sentinelæ— æ³•æ­£å¸¸å¯åŠ¨æˆåŠŸã€‚</span></span><br><span class="line"><span class="comment">#é€šçŸ¥è„šæœ¬</span></span><br><span class="line"><span class="comment"># sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;</span></span><br><span class="line">  sentinel notification-script mymaster /var/redis/notify.sh</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯é‡æ–°é…ç½®ä¸»èŠ‚ç‚¹å‚æ•°è„šæœ¬</span></span><br><span class="line"><span class="comment"># å½“ä¸€ä¸ªmasterç”±äºfailoverè€Œå‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¿™ä¸ªè„šæœ¬å°†ä¼šè¢«è°ƒç”¨ï¼Œé€šçŸ¥ç›¸å…³çš„å®¢æˆ·ç«¯å…³äºmasteråœ°å€å·²ç»å‘ç”Ÿæ”¹å˜çš„ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment"># ä»¥ä¸‹å‚æ•°å°†ä¼šåœ¨è°ƒç”¨è„šæœ¬æ—¶ä¼ ç»™è„šæœ¬:</span></span><br><span class="line"><span class="comment"># &lt;master-name&gt; &lt;role&gt; &lt;state&gt; &lt;from-ip&gt; &lt;from-port&gt; &lt;to-ip&gt; &lt;to-port&gt;</span></span><br><span class="line"><span class="comment"># ç›®å‰&lt;state&gt;æ€»æ˜¯â€œfailoverâ€,</span></span><br><span class="line"><span class="comment"># &lt;role&gt;æ˜¯â€œleaderâ€æˆ–è€…â€œobserverâ€ä¸­çš„ä¸€ä¸ªã€‚ </span></span><br><span class="line"><span class="comment"># å‚æ•° from-ip, from-port, to-ip, to-portæ˜¯ç”¨æ¥å’Œæ—§çš„masterå’Œæ–°çš„master(å³æ—§çš„slave)é€šä¿¡çš„</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªè„šæœ¬åº”è¯¥æ˜¯é€šç”¨çš„ï¼Œèƒ½è¢«å¤šæ¬¡è°ƒç”¨ï¼Œä¸æ˜¯é’ˆå¯¹æ€§çš„ã€‚</span></span><br><span class="line"><span class="comment"># sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;</span></span><br><span class="line">sentinel client-reconfig-script mymaster /var/redis/reconfig.sh</span><br></pre></td></tr></table></figure><h2 id="åå…­ã€ç¼“å­˜ç©¿é€ä¸é›ªå´©"><a href="#åå…­ã€ç¼“å­˜ç©¿é€ä¸é›ªå´©" class="headerlink" title="åå…­ã€ç¼“å­˜ç©¿é€ä¸é›ªå´©"></a>åå…­ã€ç¼“å­˜ç©¿é€ä¸é›ªå´©</h2><h3 id="ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰"><a href="#ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰" class="headerlink" title="ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰"></a>ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰</h3><blockquote><p>æ¦‚å¿µ</p></blockquote><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·è¯·æ±‚æ•°æ®æ—¶ï¼Œä¼šå…ˆåœ¨ç¼“å­˜(Redis)ä¸­æŸ¥æ‰¾ï¼Œè‹¥æ²¡æ‰¾åˆ°å³ç¼“å­˜æœªå‘½ä¸­ï¼Œå†åœ¨æ•°æ®åº“ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ•°é‡å°‘å¯èƒ½é—®é¢˜ä¸å¤§ï¼Œå¯æ˜¯ä¸€æ—¦å¤§é‡çš„è¯·æ±‚æ•°æ®ï¼ˆä¾‹å¦‚ç§’æ€åœºæ™¯ï¼‰ç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­çš„è¯ï¼Œå°±ä¼šå…¨éƒ¨è½¬ç§»åˆ°æ•°æ®åº“ä¸Šï¼Œé€ æˆæ•°æ®åº“æå¤§çš„å‹åŠ›ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´æ•°æ®åº“å´©æºƒã€‚ç½‘ç»œå®‰å…¨ä¸­ä¹Ÿæœ‰äººæ¶æ„ä½¿ç”¨è¿™ç§æ‰‹æ®µè¿›è¡Œæ”»å‡»è¢«ç§°ä¸ºæ´ªæ°´æ”»å‡»ã€‚</p><blockquote><p>è§£å†³æ–¹æ¡ˆ</p></blockquote><p><strong>å¸ƒéš†è¿‡æ»¤å™¨</strong></p><p>å¯¹æ‰€æœ‰å¯èƒ½æŸ¥è¯¢çš„å‚æ•°ä»¥Hashçš„å½¢å¼å­˜å‚¨ï¼Œä»¥ä¾¿å¿«é€Ÿç¡®å®šæ˜¯å¦å­˜åœ¨è¿™ä¸ªå€¼ï¼Œåœ¨æ§åˆ¶å±‚å…ˆè¿›è¡Œæ‹¦æˆªæ ¡éªŒï¼Œæ ¡éªŒä¸é€šè¿‡ç›´æ¥æ‰“å›ï¼Œå‡è½»äº†å­˜å‚¨ç³»ç»Ÿçš„å‹åŠ›ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513215824722.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>ç¼“å­˜ç©ºå¯¹è±¡</strong></p><p>ä¸€æ¬¡è¯·æ±‚è‹¥åœ¨ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æ²¡æ‰¾åˆ°ï¼Œå°±åœ¨ç¼“å­˜ä¸­æ–¹ä¸€ä¸ªç©ºå¯¹è±¡ç”¨äºå¤„ç†åç»­è¿™ä¸ªè¯·æ±‚ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513215836317.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p> è¿™æ ·åšæœ‰ä¸€ä¸ªç¼ºé™·ï¼šå­˜å‚¨ç©ºå¯¹è±¡ä¹Ÿéœ€è¦ç©ºé—´ï¼Œå¤§é‡çš„ç©ºå¯¹è±¡ä¼šè€—è´¹ä¸€å®šçš„ç©ºé—´ï¼Œå­˜å‚¨æ•ˆç‡å¹¶ä¸é«˜ã€‚è§£å†³è¿™ä¸ªç¼ºé™·çš„æ–¹å¼å°±æ˜¯è®¾ç½®è¾ƒçŸ­è¿‡æœŸæ—¶é—´</p><p>å³ä½¿å¯¹ç©ºå€¼è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„æ•°æ®ä¼šæœ‰ä¸€æ®µæ—¶é—´çª—å£çš„ä¸ä¸€è‡´ï¼Œè¿™å¯¹äºéœ€è¦ä¿æŒä¸€è‡´æ€§çš„ä¸šåŠ¡ä¼šæœ‰å½±å“ã€‚</p><h3 id="ç¼“å­˜å‡»ç©¿ï¼ˆé‡å¤ªå¤§ï¼Œç¼“å­˜è¿‡æœŸï¼‰"><a href="#ç¼“å­˜å‡»ç©¿ï¼ˆé‡å¤ªå¤§ï¼Œç¼“å­˜è¿‡æœŸï¼‰" class="headerlink" title="ç¼“å­˜å‡»ç©¿ï¼ˆé‡å¤ªå¤§ï¼Œç¼“å­˜è¿‡æœŸï¼‰"></a>ç¼“å­˜å‡»ç©¿ï¼ˆé‡å¤ªå¤§ï¼Œç¼“å­˜è¿‡æœŸï¼‰</h3><blockquote><p>æ¦‚å¿µ</p></blockquote><p> ç›¸è¾ƒäºç¼“å­˜ç©¿é€ï¼Œç¼“å­˜å‡»ç©¿çš„ç›®çš„æ€§æ›´å¼ºï¼Œä¸€ä¸ªå­˜åœ¨çš„keyï¼Œåœ¨ç¼“å­˜è¿‡æœŸçš„ä¸€åˆ»ï¼ŒåŒæ—¶æœ‰å¤§é‡çš„è¯·æ±‚ï¼Œè¿™äº›è¯·æ±‚éƒ½ä¼šå‡»ç©¿åˆ°DBï¼Œé€ æˆç¬æ—¶DBè¯·æ±‚é‡å¤§ã€å‹åŠ›éª¤å¢ã€‚è¿™å°±æ˜¯ç¼“å­˜è¢«å‡»ç©¿ï¼Œåªæ˜¯é’ˆå¯¹å…¶ä¸­æŸä¸ªkeyçš„ç¼“å­˜ä¸å¯ç”¨è€Œå¯¼è‡´å‡»ç©¿ï¼Œä½†æ˜¯å…¶ä»–çš„keyä¾ç„¶å¯ä»¥ä½¿ç”¨ç¼“å­˜å“åº”ã€‚</p><p> æ¯”å¦‚çƒ­æœæ’è¡Œä¸Šï¼Œä¸€ä¸ªçƒ­ç‚¹æ–°é—»è¢«åŒæ—¶å¤§é‡è®¿é—®å°±å¯èƒ½å¯¼è‡´ç¼“å­˜å‡»ç©¿ã€‚</p><blockquote><p>è§£å†³æ–¹æ¡ˆ</p></blockquote><ol><li><p><strong>è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ</strong></p><p>è¿™æ ·å°±ä¸ä¼šå‡ºç°çƒ­ç‚¹æ•°æ®è¿‡æœŸçš„æƒ…å†µï¼Œä½†æ˜¯å½“Rediså†…å­˜ç©ºé—´æ»¡çš„æ—¶å€™ä¹Ÿä¼šæ¸…ç†éƒ¨åˆ†æ•°æ®ï¼Œè€Œä¸”æ­¤ç§æ–¹æ¡ˆä¼šå ç”¨ç©ºé—´ï¼Œä¸€æ—¦çƒ­ç‚¹æ•°æ®å¤šäº†èµ·æ¥ï¼Œå°±ä¼šå ç”¨éƒ¨åˆ†ç©ºé—´ã€‚</p></li><li><p><strong>åŠ äº’æ–¥é”(åˆ†å¸ƒå¼é”)</strong></p><p>åœ¨è®¿é—®keyä¹‹å‰ï¼Œé‡‡ç”¨SETNXï¼ˆset if not existsï¼‰æ¥è®¾ç½®å¦ä¸€ä¸ªçŸ­æœŸkeyæ¥é”ä½å½“å‰keyçš„è®¿é—®ï¼Œè®¿é—®ç»“æŸå†åˆ é™¤è¯¥çŸ­æœŸkeyã€‚ä¿è¯åŒæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚è¿™æ ·å¯¹é”çš„è¦æ±‚å°±ååˆ†é«˜ã€‚</p></li></ol><h3 id="ç¼“å­˜é›ªå´©"><a href="#ç¼“å­˜é›ªå´©" class="headerlink" title="ç¼“å­˜é›ªå´©"></a>ç¼“å­˜é›ªå´©</h3><blockquote><p>æ¦‚å¿µ</p></blockquote><p>å¤§é‡çš„keyè®¾ç½®äº†ç›¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œå¯¼è‡´åœ¨ç¼“å­˜åœ¨åŒä¸€æ—¶åˆ»å…¨éƒ¨å¤±æ•ˆï¼Œé€ æˆç¬æ—¶DBè¯·æ±‚é‡å¤§ã€å‹åŠ›éª¤å¢ï¼Œå¼•èµ·é›ªå´©ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200513215850428.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>è§£å†³æ–¹æ¡ˆ</p></blockquote><ul><li><p>redisé«˜å¯ç”¨</p><p>è¿™ä¸ªæ€æƒ³çš„å«ä¹‰æ˜¯ï¼Œæ—¢ç„¶redisæœ‰å¯èƒ½æŒ‚æ‰ï¼Œé‚£æˆ‘å¤šå¢è®¾å‡ å°redisï¼Œè¿™æ ·ä¸€å°æŒ‚æ‰ä¹‹åå…¶ä»–çš„è¿˜å¯ä»¥ç»§ç»­å·¥ä½œï¼Œå…¶å®å°±æ˜¯æ­å»ºçš„é›†ç¾¤</p></li><li><p>é™æµé™çº§</p><p>è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„æ€æƒ³æ˜¯ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆåï¼Œé€šè¿‡åŠ é”æˆ–è€…é˜Ÿåˆ—æ¥æ§åˆ¶è¯»æ•°æ®åº“å†™ç¼“å­˜çš„çº¿ç¨‹æ•°é‡ã€‚æ¯”å¦‚å¯¹æŸä¸ªkeyåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŸ¥è¯¢æ•°æ®å’Œå†™ç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ã€‚</p></li><li><p>æ•°æ®é¢„çƒ­</p><p>æ•°æ®åŠ çƒ­çš„å«ä¹‰å°±æ˜¯åœ¨æ­£å¼éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å…ˆæŠŠå¯èƒ½çš„æ•°æ®å…ˆé¢„å…ˆè®¿é—®ä¸€éï¼Œè¿™æ ·éƒ¨åˆ†å¯èƒ½å¤§é‡è®¿é—®çš„æ•°æ®å°±ä¼šåŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚åœ¨å³å°†å‘ç”Ÿå¤§å¹¶å‘è®¿é—®å‰æ‰‹åŠ¨è§¦å‘åŠ è½½ç¼“å­˜ä¸åŒçš„keyï¼Œè®¾ç½®ä¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œè®©ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´ç‚¹å°½é‡å‡åŒ€ã€‚</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä¸€ã€Nosqlæ¦‚è¿°&quot;&gt;&lt;a href=&quot;#ä¸€ã€Nosqlæ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€Nosqlæ¦‚è¿°&quot;&gt;&lt;/a&gt;ä¸€ã€Nosqlæ¦‚è¿°&lt;/h2&gt;&lt;h3 id=&quot;ä¸ºä»€ä¹ˆä½¿ç”¨Nosql&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆä½¿ç”¨Nosql&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆä½¿ç”¨Nosql&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆä½¿ç”¨Nosql&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;1ã€å•æœºMysqlæ—¶ä»£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/2020082010365930.png&quot; alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;&gt;&lt;/p&gt;
&lt;p&gt;90å¹´ä»£,ä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ä¸€èˆ¬ä¸ä¼šå¤ªå¤§ï¼Œå•ä¸ªæ•°æ®åº“å®Œå…¨å¤Ÿç”¨ã€‚éšç€ç”¨æˆ·å¢å¤šï¼Œç½‘ç«™å‡ºç°ä»¥ä¸‹é—®é¢˜==è¯»å†™ä¸€ä½“==&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•°æ®é‡å¢åŠ åˆ°ä¸€å®šç¨‹åº¦ï¼Œå•æœºæ•°æ®åº“å°±æ”¾ä¸ä¸‹äº†&lt;/li&gt;
&lt;li&gt;æ•°æ®çš„ç´¢å¼•ï¼ˆB+ Treeï¼‰,ä¸€ä¸ªæœºå™¨å†…å­˜ä¹Ÿå­˜æ”¾ä¸ä¸‹&lt;/li&gt;
&lt;li&gt;è®¿é—®é‡å˜å¤§åï¼ˆè¯»å†™æ··åˆï¼‰ï¼Œä¸€å°æœåŠ¡å™¨æ‰¿å—ä¸ä½ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;2ã€Memcached(==ç¼“å­˜==) + Mysql + å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰+ä¸»ä»å¤åˆ¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç½‘ç«™80%çš„æƒ…å†µéƒ½æ˜¯åœ¨==è¯»==ï¼Œæ¯æ¬¡éƒ½è¦å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201222113208261.png&quot; alt=&quot;image-20201222113208261&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–è¿‡ç¨‹ç»å†äº†ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š&lt;/p&gt;</summary>
    
    
    
    
    <category term="redis" scheme="http://example.com/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>Docker</title>
    <link href="http://example.com/posts/f5f9fa9b/"/>
    <id>http://example.com/posts/f5f9fa9b/</id>
    <published>2020-12-28T01:59:53.000Z</published>
    <updated>2020-12-28T03:34:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dockeræ¦‚è¿°"><a href="#Dockeræ¦‚è¿°" class="headerlink" title="Dockeræ¦‚è¿°"></a>Dockeræ¦‚è¿°</h1><p>Dockerä¸ºä»€ä¹ˆå‡ºç°ï¼Ÿ</p><p>ä¸€æ¬¾äº§å“ï¼š å¼€å‘â€“ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒï¼åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®ï¼</p><p>å¼€å‘ â€” è¿ç»´ã€‚ é—®é¢˜ï¼šæˆ‘åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥å…è®¸ï¼ç‰ˆæœ¬æ›´æ–°ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼å¯¹äºè¿ç»´æ¥è¯´è€ƒéªŒååˆ†å¤§ï¼Ÿ</p><p>==ç¯å¢ƒé…ç½®æ˜¯ååˆ†çš„éº»çƒ¦==ï¼Œæ¯ä¸€ä¸ªåŠå…¶éƒ½è¦éƒ¨ç½²ç¯å¢ƒ(é›†ç¾¤Redisã€ESã€Hadoopâ€¦) !è´¹äº‹è´¹åŠ›ã€‚</p><p>å‘å¸ƒä¸€ä¸ªé¡¹ç›®( jar + (Redis MySQL JDK ES) ),==é¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…==ï¼</p><p>ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ Redis MySQL JDK ES Hadoop é…ç½®è¶…éº»çƒ¦äº†ï¼Œä¸èƒ½å¤Ÿè·¨å¹³å°ã€‚</p><p>å¼€å‘ç¯å¢ƒWindowsï¼Œæœ€åå‘å¸ƒåˆ°Linuxï¼</p><p>ä¼ ç»Ÿï¼šå¼€å‘jarï¼Œè¿ç»´æ¥åšï¼</p><p>ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œï¼</p><p>å®‰å“æµç¨‹ï¼šjava â€” apk â€”å‘å¸ƒï¼ˆåº”ç”¨å•†åº—ï¼‰ä¸€ å¼ ä¸‰ä½¿ç”¨apkä¸€å®‰è£…å³å¯ç”¨ï¼</p><p>==dockeræµç¨‹ï¼š java-jarï¼ˆç¯å¢ƒï¼‰ â€” æ‰“åŒ…é¡¹ç›®å¸¯ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰ â€” ( Dockerä»“åº“ï¼šå•†åº—ï¼‰==</p><p>Dockerç»™ä»¥ä¸Šçš„é—®é¢˜ï¼Œæå‡ºäº†è§£å†³æ–¹æ¡ˆï¼</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201117165525341.png" alt="image-20201117165525341"></p><p>Dockerçš„æ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼</p><p>JRE â€“ å¤šä¸ªåº”ç”¨(ç«¯å£å†²çª) â€“ åŸæ¥éƒ½æ˜¯äº¤å‰çš„ï¼</p><p>==éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼æ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­æ˜¯äº’ç›¸éš”ç¦»çš„ã€‚==</p><p>Dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´ï¼</p><p>æœ¬è´¨ï¼šæ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯å› ä¸ºå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å»è§£å†³ï¼Œæ‰å»å­¦ä¹ ï¼</p><h3 id="Dockerå†å²"><a href="#Dockerå†å²" class="headerlink" title="Dockerå†å²"></a>Dockerå†å²</h3><p>2010å¹´ï¼Œå‡ ä¸ªçš„å¹´è½»äººï¼Œå°±åœ¨ç¾å›½æˆç«‹äº†ä¸€å®¶å…¬å¸ <code>dotcloud</code></p><p>åšä¸€äº›passçš„äº‘è®¡ç®—æœåŠ¡ï¼LXCï¼ˆLinux Containerå®¹å™¨ï¼‰æœ‰å…³çš„å®¹å™¨æŠ€æœ¯ï¼</p><p>Linux Containerå®¹å™¨æ˜¯ä¸€ç§å†…æ ¸è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¯ä»¥æä¾›è½»é‡çº§çš„è™šæ‹ŸåŒ–ï¼Œä»¥ä¾¿éš”ç¦»è¿›ç¨‹å’Œèµ„æºã€‚</p><p>ä»–ä»¬å°†è‡ªå·±çš„æŠ€æœ¯ï¼ˆå®¹å™¨åŒ–æŠ€æœ¯ï¼‰å‘½åå°±æ˜¯ Docker<br>Dockeråˆšåˆšå»¶ç”Ÿçš„æ—¶å€™ï¼Œæ²¡æœ‰å¼•èµ·è¡Œä¸šçš„æ³¨æ„ï¼dotCloudï¼Œå°±æ´»ä¸ä¸‹å»ï¼</p><blockquote><p>å¼€æº</p></blockquote><p>2013å¹´ï¼ŒDockerå¼€æºï¼</p><p>è¶Šæ¥è¶Šå¤šçš„äººå‘ç°dockerçš„ä¼˜ç‚¹ï¼ç«äº†ã€‚Dockeræ¯ä¸ªæœˆéƒ½ä¼šæ›´æ–°ä¸€ä¸ªç‰ˆæœ¬ï¼</p><p>2014å¹´4æœˆ9æ—¥ï¼ŒDocker1.0å‘å¸ƒï¼</p><p>dockerä¸ºä»€ä¹ˆè¿™ä¹ˆç«ï¼Ÿååˆ†çš„è½»å·§ï¼</p><p>åœ¨å®¹å™¨æŠ€æœ¯å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼</p><p>è™šæ‹Ÿæœºï¼šåœ¨windowä¸­è£…ä¸€ä¸ªVMwareï¼Œé€šè¿‡è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬å¯ä»¥è™šæ‹Ÿå‡ºæ¥ä¸€å°æˆ–è€…å¤šå°ç”µè„‘ï¼ç¬¨é‡ï¼</p><p>è™šæ‹Ÿæœºä¹Ÿå±äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼ŒDockerå®¹å™¨æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VMware : linux centos åŸç”Ÿé•œåƒï¼ˆä¸€ä¸ªç”µè„‘ï¼ï¼‰ éš”ç¦»ã€éœ€è¦å¼€å¯å¤šä¸ªè™šæ‹Ÿæœºï¼ å‡ ä¸ªG å‡ åˆ†é’Ÿ</span><br><span class="line">docker: éš”ç¦»ï¼Œé•œåƒï¼ˆæœ€æ ¸å¿ƒçš„ç¯å¢ƒ 4m + jdk + mysqlï¼‰ååˆ†çš„å°å·§ï¼Œè¿è¡Œé•œåƒå°±å¯ä»¥äº†ï¼å°å·§ï¼ å‡ ä¸ªM ç§’çº§å¯åŠ¨ï¼</span><br></pre></td></tr></table></figure><blockquote><p>èŠèŠDocker</p></blockquote><p>DockeråŸºäºGoè¯­è¨€å¼€å‘çš„ï¼å¼€æºé¡¹ç›®ï¼</p><p>dockerå®˜ç½‘ï¼š<a href="https://www.docker.com/">https://www.docker.com/</a></p><p>æ–‡æ¡£ï¼š<a href="https://docs.docker.com/">https://docs.docker.com/</a> Dockerçš„æ–‡æ¡£æ˜¯è¶…çº§è¯¦ç»†çš„ï¼</p><p>ä»“åº“ï¼š<a href="https://hub.docker.com/">https://hub.docker.com/</a></p><h3 id="Dockerèƒ½å¹²å˜›"><a href="#Dockerèƒ½å¹²å˜›" class="headerlink" title="Dockerèƒ½å¹²å˜›"></a>Dockerèƒ½å¹²å˜›</h3><blockquote><p>ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯<br><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png.png" alt="image-20200515153852954"><br><strong>è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹</strong>ï¼š</p></blockquote><p>1ã€ èµ„æºå ç”¨ååˆ†å¤š</p><p>2ã€ å†—ä½™æ­¥éª¤å¤š</p><p>3ã€ å¯åŠ¨å¾ˆæ…¢ï¼</p><blockquote><p>å®¹å™¨åŒ–æŠ€æœ¯</p></blockquote><p>==å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ==</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210135315089.png" alt="image-20200515094336846"></p><p>æ¯”è¾ƒDockerå’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒï¼š</p><ul><li>ä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€æ¡ç¡¬ä»¶ï¼Œè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç„¶ååœ¨è¿™ä¸ªç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶</li><li>å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„å†…å®¹ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è™šæ‹Ÿæˆ‘ä»¬çš„ç¡¬ä»¶ï¼Œæ‰€ä»¥å°±è½»ä¾¿äº†</li><li>æ¯ä¸ªå®¹å™¨é—´æ˜¯äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨å†…éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“</li></ul><blockquote><p>DevOpsï¼ˆå¼€å‘ã€è¿ç»´ï¼‰</p></blockquote><p><strong>åº”ç”¨æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²</strong></p><p>ä¼ ç»Ÿï¼šä¸€å¯¹å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åºã€‚</p><p>Dockerï¼šæ‰“åŒ…é•œåƒå‘å¸ƒæµ‹è¯•ä¸€é”®è¿è¡Œã€‚</p><p><strong>æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹</strong></p><p>ä½¿ç”¨äº† Dockerä¹‹åï¼Œæˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±å’Œæ­ç§¯æœ¨ä¸€æ ·<br>é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±•æœåŠ¡å™¨Aï¼æœåŠ¡å™¨B</p><p><strong>æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</strong><br>åœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬çš„å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒéƒ½æ˜¯é«˜åº¦ä¸€è‡´çš„</p><p><strong>æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨</strong></p><p>Dockeræ˜¯å†…æ ¸çº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼æœåŠ¡å™¨çš„æ€§èƒ½å¯ä»¥è¢«å‹æ¦¨åˆ°æè‡´ã€‚</p><h1 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h1><h3 id="Dockerçš„åŸºæœ¬ç»„æˆ"><a href="#Dockerçš„åŸºæœ¬ç»„æˆ" class="headerlink" title="Dockerçš„åŸºæœ¬ç»„æˆ"></a>Dockerçš„åŸºæœ¬ç»„æˆ</h3><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210135325346.png" alt="image-20200514195805400"></p><p><strong>é•œåƒï¼ˆimage)ï¼š</strong></p><p>dockeré•œåƒå°±å¥½æ¯”æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨æœåŠ¡ï¼Œtomcaté•œåƒ==&gt;run==&gt;å®¹å™¨ï¼ˆæä¾›æœåŠ¡å™¨ï¼‰ï¼Œé€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼ˆæœ€ç»ˆæœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­çš„ï¼‰ã€‚</p><p><strong>å®¹å™¨(container)ï¼š</strong></p><p>Dockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»ºçš„.<br>å¯åŠ¨ï¼Œåœæ­¢ï¼Œåˆ é™¤ï¼ŒåŸºæœ¬å‘½ä»¤<br>ç›®å‰å°±å¯ä»¥æŠŠè¿™ä¸ªå®¹å™¨ç†è§£ä¸ºå°±æ˜¯ä¸€ä¸ªç®€æ˜“çš„ Linuxç³»ç»Ÿã€‚</p><p><strong>ä»“åº“(repository)ï¼š</strong></p><p>ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼<br>ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚(å¾ˆç±»ä¼¼git)<br>Docker Hubæ˜¯å›½å¤–çš„ã€‚<br>é˜¿é‡Œäº‘â€¦éƒ½æœ‰å®¹å™¨æœåŠ¡å™¨(é…ç½®é•œåƒåŠ é€Ÿ!)</p><h3 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h3><blockquote><p>ç¯å¢ƒå‡†å¤‡</p></blockquote><p>1.Linuxè¦æ±‚å†…æ ¸3.0ä»¥ä¸Š</p><p>2.CentOS 7</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# uname -r</span><br><span class="line">3.10.0-514.26.2.el7.x86_64# è¦æ±‚3.0ä»¥ä¸Š</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# cat /etc/os-release </span><br><span class="line">NAME=&quot;CentOS Linux&quot;</span><br><span class="line">VERSION=&quot;7 (Core)&quot;</span><br><span class="line">ID=&quot;centos&quot;</span><br><span class="line">ID_LIKE=&quot;rhel fedora&quot;</span><br><span class="line">VERSION_ID=&quot;7&quot;</span><br><span class="line">PRETTY_NAME=&quot;CentOS Linux 7 (Core)&quot;</span><br><span class="line">ANSI_COLOR=&quot;0;31&quot;</span><br><span class="line">CPE_NAME=&quot;cpe:/o:centos:centos:7&quot;</span><br><span class="line">HOME_URL=&quot;https://www.centos.org/&quot;</span><br><span class="line">BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;</span><br><span class="line"></span><br><span class="line">CENTOS_MANTISBT_PROJECT=&quot;CentOS-7&quot;</span><br><span class="line">CENTOS_MANTISBT_PROJECT_VERSION=&quot;7&quot;</span><br><span class="line">REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;</span><br><span class="line">REDHAT_SUPPORT_PRODUCT_VERSION=&quot;7&quot;</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£…</p></blockquote><p>å¸®åŠ©æ–‡æ¡£ï¼š<a href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a><br>å¸è½½ä¸å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">1.å¸è½½æ—§ç‰ˆæœ¬</span></span><br><span class="line">yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br><span class="line"><span class="meta">#</span><span class="bash">2.éœ€è¦çš„å®‰è£…åŒ…</span></span><br><span class="line">yum install -y yum-utils</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">3.è®¾ç½®é•œåƒçš„ä»“åº“</span></span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸Šè¿°æ–¹æ³•é»˜è®¤æ˜¯ä»å›½å¤–çš„ï¼Œä¸æ¨è</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ¨èä½¿ç”¨å›½å†…çš„</span></span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">    </span><br><span class="line"><span class="meta">#</span><span class="bash">æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</span></span><br><span class="line">yum makecache fast</span><br><span class="line">centos8ï¼šyum makecache</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">4.å®‰è£…dockerç›¸å…³çš„ docker-ce ç¤¾åŒºç‰ˆ è€Œeeæ˜¯ä¼ä¸šç‰ˆ</span></span><br><span class="line">yum install docker-ce docker-ce-cli containerd.io # è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç¤¾åŒºç‰ˆå³å¯</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">5.å¯åŠ¨docker</span></span><br><span class="line">systemctl start docker</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">6. ä½¿ç”¨docker versionæŸ¥çœ‹æ˜¯å¦æŒ‰ç…§æˆåŠŸ</span></span><br><span class="line">docker version</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">7. æµ‹è¯•</span></span><br><span class="line">docker run hello-world</span><br><span class="line"><span class="meta">#</span><span class="bash">8.æŸ¥çœ‹å·²ç»ä¸‹è½½çš„é•œåƒ(ä»è¿™é‡Œå¯ä»¥æŸ¥çœ‹å·²æœ‰é•œåƒçš„id)</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">hello-world           latest              bf756fb1ae65        4 months ago      13.3kB</span><br></pre></td></tr></table></figure><p>å¸è½½docker</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">1. å¸è½½ä¾èµ–</span></span><br><span class="line">yum remove docker-ce docker-ce-cli containerd.io</span><br><span class="line"><span class="meta">#</span><span class="bash">2. åˆ é™¤èµ„æº</span></span><br><span class="line">rm -rf /var/lib/docker</span><br><span class="line"><span class="meta">#</span><span class="bash"> /var/lib/docker æ˜¯dockerçš„é»˜è®¤å·¥ä½œè·¯å¾„ï¼</span></span><br></pre></td></tr></table></figure><h3 id="é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ"><a href="#é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ" class="headerlink" title="é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ"></a>é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ</h3><h4 id="1ã€ç™»å½•é˜¿é‡Œäº‘æ‰¾åˆ°å®¹å™¨æœåŠ¡"><a href="#1ã€ç™»å½•é˜¿é‡Œäº‘æ‰¾åˆ°å®¹å™¨æœåŠ¡" class="headerlink" title="1ã€ç™»å½•é˜¿é‡Œäº‘æ‰¾åˆ°å®¹å™¨æœåŠ¡"></a>1ã€ç™»å½•é˜¿é‡Œäº‘æ‰¾åˆ°å®¹å™¨æœåŠ¡</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEwMjExMjg1MS5wbmc?x-oss-process=image/format,png" alt="image-20200515102112851"></p><h4 id="2ã€æ‰¾åˆ°é•œåƒåŠ é€Ÿå™¨"><a href="#2ã€æ‰¾åˆ°é•œåƒåŠ é€Ÿå™¨" class="headerlink" title="2ã€æ‰¾åˆ°é•œåƒåŠ é€Ÿå™¨"></a>2ã€æ‰¾åˆ°é•œåƒåŠ é€Ÿå™¨</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEwMjAwOTQ3MC5wbmc?x-oss-process=image/format,png" alt="image-20200515102009470"></p><h4 id="3ã€é…ç½®ä½¿ç”¨"><a href="#3ã€é…ç½®ä½¿ç”¨" class="headerlink" title="3ã€é…ç½®ä½¿ç”¨"></a>3ã€é…ç½®ä½¿ç”¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">1.åˆ›å»ºä¸€ä¸ªç›®å½•</span></span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">2.ç¼–å†™é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://rfxf12q1.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">3.é‡å¯æœåŠ¡</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="å›é¡¾HelloWorldæµç¨‹"><a href="#å›é¡¾HelloWorldæµç¨‹" class="headerlink" title="å›é¡¾HelloWorldæµç¨‹"></a>å›é¡¾HelloWorldæµç¨‹</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEwMjUwMzcyMi5wbmc?x-oss-process=image/format,png" alt="image-20200515102503722"></p><p><strong>docker run æµç¨‹å›¾</strong></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEwMjYzNzI0Ni5wbmc?x-oss-process=image/format,png" alt="image-20200515102637246"></p><h4 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="headerlink" title="åº•å±‚åŸç†"></a>åº•å±‚åŸç†</h4><p>Docker<strong>æ˜¯æ€ä¹ˆå·¥ä½œçš„</strong>ï¼Ÿ</p><p>Dockeræ˜¯ä¸€ä¸ªClient-Serverç»“æ„çš„ç³»ç»Ÿï¼ŒDockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šã€‚é€šè¿‡Socketä»å®¢æˆ·ç«¯è®¿é—®ï¼</p><p>Docker-Serveræ¥æ”¶åˆ°Docker-Clientçš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEwMjk0OTU1OC5wbmc?x-oss-process=image/format,png" alt="image-20200515102949558"></p><p><strong>ä¸ºä»€ä¹ˆDockeræ¯”Vmå¿«</strong><br>1ã€dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚ã€‚ç”±äºdockerä¸éœ€è¦Hypervisorå®ç°ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–,è¿è¡Œåœ¨dockerå®¹å™¨ä¸Šçš„ç¨‹åºç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯å®é™…ç‰©ç†æœºçš„ç¡¬ä»¶èµ„æºã€‚å› æ­¤åœ¨CPUã€å†…å­˜åˆ©ç”¨ç‡ä¸Šdockerå°†ä¼šåœ¨æ•ˆç‡ä¸Šæœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚<br>2ã€dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸,è€Œä¸éœ€è¦Guest OSã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GuestOSï¼š VMï¼ˆè™šæ‹Ÿæœºï¼‰é‡Œçš„çš„ç³»ç»Ÿï¼ˆOSï¼‰</span><br><span class="line"></span><br><span class="line">HostOSï¼šç‰©ç†æœºé‡Œçš„ç³»ç»Ÿï¼ˆOSï¼‰</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEwNDExNzMyOS5wbmc?x-oss-process=image/format,png" alt="image-20200515104117329"></p><p>å› æ­¤,å½“æ–°å»ºä¸€ä¸ª å®¹å™¨æ—¶,dockerä¸éœ€è¦å’Œè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ã€‚ä»è€Œé¿å…å¼•å¯¼ã€åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸è¿”ä¸ªæ¯”è¾ƒè´¹æ—¶è´¹èµ„æºçš„è¿‡ç¨‹,å½“æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶,è™šæ‹Ÿæœºè½¯ä»¶éœ€è¦åŠ è½½GuestOS,è¿”ä¸ªæ–°å»ºè¿‡ç¨‹æ˜¯<strong>åˆ†é’Ÿçº§åˆ«</strong>çš„ã€‚è€Œdockerç”±äºç›´æ¥åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿ,åˆ™çœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹,å› æ­¤æ–°å»ºä¸€ä¸ªdockerå®¹å™¨åªéœ€è¦<strong>å‡ ç§’é’Ÿ</strong>ã€‚</p><h1 id="Dockerçš„å¸¸ç”¨å‘½ä»¤"><a href="#Dockerçš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Dockerçš„å¸¸ç”¨å‘½ä»¤"></a>Dockerçš„å¸¸ç”¨å‘½ä»¤</h1><h3 id="1-å¸®åŠ©å‘½ä»¤"><a href="#1-å¸®åŠ©å‘½ä»¤" class="headerlink" title="1.å¸®åŠ©å‘½ä»¤"></a>1.å¸®åŠ©å‘½ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker version    #æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</span><br><span class="line">docker info       #æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨çš„æ•°é‡</span><br><span class="line">docker å‘½ä»¤ --help #å¸®åŠ©å‘½ä»¤</span><br></pre></td></tr></table></figure><p>å¸®åŠ©æ–‡æ¡£çš„åœ°å€ï¼š<a href="https://docs.docker.com/engine/reference/commandline/build/">https://docs.docker.com/engine/reference/commandline/build/</a></p><h3 id="2-é•œåƒå‘½ä»¤"><a href="#2-é•œåƒå‘½ä»¤" class="headerlink" title="2.é•œåƒå‘½ä»¤"></a>2.é•œåƒå‘½ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker images #æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ å¯ä»¥ä½¿ç”¨docker image lsä»£æ›¿</span><br><span class="line"></span><br><span class="line">docker search #æœç´¢é•œåƒ</span><br><span class="line"></span><br><span class="line">docker pull   #ä¸‹è½½é•œåƒ docker image pull</span><br><span class="line"></span><br><span class="line">docker rmi-f  #åˆ é™¤é•œåƒ docker image rm</span><br></pre></td></tr></table></figure><h5 id="docker-imagesæŸ¥çœ‹æ‰€æœ‰æœ¬åœ°çš„ä¸»æœºä¸Šçš„é•œåƒ"><a href="#docker-imagesæŸ¥çœ‹æ‰€æœ‰æœ¬åœ°çš„ä¸»æœºä¸Šçš„é•œåƒ" class="headerlink" title="docker imagesæŸ¥çœ‹æ‰€æœ‰æœ¬åœ°çš„ä¸»æœºä¸Šçš„é•œåƒ"></a>docker imagesæŸ¥çœ‹æ‰€æœ‰æœ¬åœ°çš„ä¸»æœºä¸Šçš„é•œåƒ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED           SIZE</span><br><span class="line">hello-world           latest              bf756fb1ae65        4 months ago     13.3kB</span><br><span class="line">mysql                 5.7                 b84d68d0a7db        6 days ago       448MB</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£é‡Š</span></span><br><span class="line"><span class="meta">#</span><span class="bash">REPOSITORY<span class="comment"># é•œåƒçš„ä»“åº“æº</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">TAG<span class="comment"># é•œåƒçš„æ ‡ç­¾(ç‰ˆæœ¬)---lastest è¡¨ç¤ºæœ€æ–°ç‰ˆæœ¬</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">IMAGE ID<span class="comment"># é•œåƒçš„id</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">CREATED<span class="comment"># é•œåƒçš„åˆ›å»ºæ—¶é—´</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">SIZE<span class="comment"># é•œåƒçš„å¤§å°</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯é€‰é¡¹</span></span><br><span class="line">Options:</span><br><span class="line">  -a, --all         Show all images (default hides intermediate images) #åˆ—å‡ºæ‰€æœ‰é•œåƒ</span><br><span class="line">  -q, --quiet       Only show numeric IDs # åªæ˜¾ç¤ºé•œåƒçš„id</span><br><span class="line">  </span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images -a  #åˆ—å‡ºæ‰€æœ‰é•œåƒè¯¦ç»†ä¿¡æ¯</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images -aq #åˆ—å‡ºæ‰€æœ‰é•œåƒçš„id</span><br><span class="line">d5f28a0bb0d0</span><br><span class="line">f19c56ce92a8</span><br><span class="line">1b6b1fe7261e</span><br><span class="line">1b6b1fe7261e</span><br></pre></td></tr></table></figure><h5 id="docker-search-æœç´¢é•œåƒ"><a href="#docker-search-æœç´¢é•œåƒ" class="headerlink" title="docker search æœç´¢é•œåƒ"></a>docker search æœç´¢é•œåƒ</h5><p>![image-20201125141928069](/Users/lantian/Library/Application Support/typora-user-images/image-20201125141928069.png)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker search mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> --filter=STARS=3000 <span class="comment">#è¿‡æ»¤ï¼Œæœç´¢å‡ºæ¥çš„é•œåƒæ”¶è—STARSæ•°é‡å¤§äº3000çš„</span></span></span><br><span class="line">Options:</span><br><span class="line">  -f, --filter filter   Filter output based on conditions provided</span><br><span class="line">      --format string   Pretty-print search using a Go template</span><br><span class="line">      --limit int       Max number of search results (default 25)</span><br><span class="line">      --no-trunc        Don&#x27;t truncate output</span><br><span class="line">      </span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker search mysql --filter=STARS=3000</span><br><span class="line">NAME        DESCRIPTION         STARS            OFFICIAL        AUTOMATED</span><br><span class="line">mysql       MySQL IS ...        9520             [OK]                </span><br><span class="line">mariadb     MariaDB IS ...      3456             [OK]   </span><br></pre></td></tr></table></figure><h5 id="docker-pull-ä¸‹è½½é•œåƒ"><a href="#docker-pull-ä¸‹è½½é•œåƒ" class="headerlink" title="docker pull ä¸‹è½½é•œåƒ"></a>docker pull ä¸‹è½½é•œåƒ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½é•œåƒ docker pull é•œåƒå[:tag]</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker pull tomcat:8</span><br><span class="line">8: Pulling from library/tomcat #å¦‚æœä¸å†™tagï¼Œé»˜è®¤å°±æ˜¯latest</span><br><span class="line">90fe46dd8199: Already exists   #åˆ†å±‚ä¸‹è½½ï¼š docker image çš„æ ¸å¿ƒ è”åˆæ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">35a4f1977689: Already exists </span><br><span class="line">bbc37f14aded: Already exists </span><br><span class="line">74e27dc593d4: Already exists </span><br><span class="line">93a01fbfad7f: Already exists </span><br><span class="line">1478df405869: Pull complete </span><br><span class="line">64f0dd11682b: Pull complete </span><br><span class="line">68ff4e050d11: Pull complete </span><br><span class="line">f576086003cf: Pull complete </span><br><span class="line">3b72593ce10e: Pull complete </span><br><span class="line">Digest: sha256:0c6234e7ec9d10ab32c06423ab829b32e3183ba5bf2620ee66de866df # ç­¾åé˜²ä¼ª</span><br><span class="line">Status: Downloaded newer image for tomcat:8</span><br><span class="line">docker.io/library/tomcat:8 #çœŸå®åœ°å€</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ç­‰ä»·äº</span></span><br><span class="line">docker pull tomcat:8</span><br><span class="line">docker pull docker.io/library/tomcat:8</span><br></pre></td></tr></table></figure><h5 id="docker-rmi-åˆ é™¤é•œåƒ"><a href="#docker-rmi-åˆ é™¤é•œåƒ" class="headerlink" title="docker rmi åˆ é™¤é•œåƒ"></a>docker rmi åˆ é™¤é•œåƒ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker rmi -f é•œåƒid #åˆ é™¤æŒ‡å®šidçš„é•œåƒ</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker rmi -f f19c56ce92a8</span><br><span class="line"></span><br><span class="line">docker rmi -f $(docker images -aq) #åˆ é™¤å…¨éƒ¨çš„é•œåƒ</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker rmi -f $(docker images -aq)</span><br></pre></td></tr></table></figure><h3 id="3-å®¹å™¨å‘½ä»¤"><a href="#3-å®¹å™¨å‘½ä»¤" class="headerlink" title="3.å®¹å™¨å‘½ä»¤"></a>3.å®¹å™¨å‘½ä»¤</h3><p>è¯´æ˜ï¼šæˆ‘ä»¬æœ‰äº†é•œåƒæ‰å¯ä»¥åˆ›å»ºå®¹å™¨ï¼ŒLinuxï¼Œä¸‹è½½centosé•œåƒæ¥å­¦ä¹ </p><h5 id="docker-run-æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨"><a href="#docker-run-æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨" class="headerlink" title="docker run æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨"></a>docker run æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run [å¯é€‰å‚æ•°] image | docker container run [å¯é€‰å‚æ•°] image </span><br><span class="line"><span class="meta">#</span><span class="bash">å‚ä¹¦è¯´æ˜</span></span><br><span class="line">--name=&quot;Name&quot;#å®¹å™¨åå­— tomcat01 tomcat02 ç”¨æ¥åŒºåˆ†å®¹å™¨</span><br><span class="line">-d#åå°æ–¹å¼è¿è¡Œ</span><br><span class="line">-it #ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œï¼Œè¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹</span><br><span class="line">-p#æŒ‡å®šå®¹å™¨çš„ç«¯å£ -p 8080(å®¿ä¸»æœº):8080(å®¹å™¨)</span><br><span class="line">-p ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span><br><span class="line">-p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£(å¸¸ç”¨)</span><br><span class="line">-p å®¹å™¨ç«¯å£</span><br><span class="line">å®¹å™¨ç«¯å£</span><br><span class="line">-P(å¤§å†™) éšæœºæŒ‡å®šç«¯å£</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•ã€å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -it centos /bin/bash</span><br><span class="line">[root@241b5abce65e /]# ls</span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">[root@241b5abce65e /]# exit #ä»å®¹å™¨é€€å›ä¸»æœº</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><p>![image-20201125152833793](/Users/lantian/Library/Application Support/typora-user-images/image-20201125152833793.png)</p><h5 id="exit-ctrl-P-Q-é€€å‡ºå®¹å™¨"><a href="#exit-ctrl-P-Q-é€€å‡ºå®¹å™¨" class="headerlink" title="exit/ctrl +P +Q  é€€å‡ºå®¹å™¨"></a>exit/ctrl +P +Q  é€€å‡ºå®¹å™¨</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exit #å®¹å™¨ç›´æ¥é€€å‡º</span><br><span class="line">ctrl +P +Q  #å®¹å™¨ä¸åœæ­¢é€€å‡º(å¤§å†™)</span><br></pre></td></tr></table></figure><h5 id="docker-ps-åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨"><a href="#docker-ps-åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨" class="headerlink" title="docker ps åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨"></a>docker ps åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker ps å‘½ä»¤  #åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">  -a, --all      #åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ + å¸¦å‡ºå†å²è¿è¡Œè¿‡çš„å®¹å™¨</span><br><span class="line">  -n=?, --last int   #åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„?ä¸ªå®¹å™¨ ?ä¸º1åˆ™åªåˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„ä¸€ä¸ªå®¹å™¨,ä¸º2åˆ™åˆ—å‡º2ä¸ª</span><br><span class="line">  -q, --quiet        #åªåˆ—å‡ºå®¹å™¨çš„ç¼–å·</span><br></pre></td></tr></table></figure><h5 id="image-20201125152948705-Users-lantian-Library-Application-Support-typora-user-images-image-20201125152948705-png-docker-rm-åˆ é™¤å®¹å™¨"><a href="#image-20201125152948705-Users-lantian-Library-Application-Support-typora-user-images-image-20201125152948705-png-docker-rm-åˆ é™¤å®¹å™¨" class="headerlink" title="![image-20201125152948705](/Users/lantian/Library/Application Support/typora-user-images/image-20201125152948705.png)docker rm åˆ é™¤å®¹å™¨"></a>![image-20201125152948705](/Users/lantian/Library/Application Support/typora-user-images/image-20201125152948705.png)docker rm åˆ é™¤å®¹å™¨</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rm å®¹å™¨id   #åˆ é™¤æŒ‡å®šçš„å®¹å™¨ï¼Œä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œå¦‚æœè¦å¼ºåˆ¶åˆ é™¤ rm -rf</span><br><span class="line">docker rm -f $(docker ps -aq)   #åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span><br><span class="line">docker ps -a -q|xargs docker rm  #åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span><br></pre></td></tr></table></figure><h5 id="docker-start-restart-stop-kill-å¯åŠ¨å’Œåœæ­¢å®¹å™¨çš„æ“ä½œ"><a href="#docker-start-restart-stop-kill-å¯åŠ¨å’Œåœæ­¢å®¹å™¨çš„æ“ä½œ" class="headerlink" title="docker start/restart/stop/kill å¯åŠ¨å’Œåœæ­¢å®¹å™¨çš„æ“ä½œ"></a>docker start/restart/stop/kill å¯åŠ¨å’Œåœæ­¢å®¹å™¨çš„æ“ä½œ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker start å®¹å™¨id#å¯åŠ¨å®¹å™¨</span><br><span class="line">docker restart å®¹å™¨id#é‡å¯å®¹å™¨</span><br><span class="line">docker stop å®¹å™¨id#åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker kill å®¹å™¨id#å¼ºåˆ¶åœæ­¢å½“å‰å®¹å™¨</span><br></pre></td></tr></table></figure><h3 id="4-å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#4-å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="4.å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>4.å¸¸ç”¨å…¶ä»–å‘½ä»¤</h3><h5 id="docker-run-d-åå°å¯åŠ¨å‘½ä»¤"><a href="#docker-run-d-åå°å¯åŠ¨å‘½ä»¤" class="headerlink" title="docker run -d åå°å¯åŠ¨å‘½ä»¤"></a>docker run -d åå°å¯åŠ¨å‘½ä»¤</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤ docker run -d é•œåƒå</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -d centos</span><br><span class="line">a8f922c255859622ac45ce3a535b7a0e8253329be4756ed6e32265d2dd2fac6c</span><br><span class="line"></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker ps    </span><br><span class="line">CONTAINER ID      IMAGE       COMMAND    CREATED     STATUS   PORTS    NAMES</span><br><span class="line"><span class="meta">#</span><span class="bash"> é—®é¢˜docker ps. å‘ç°centos åœæ­¢äº†</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¸¸è§çš„å‘ï¼Œdockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰è¦ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> nginxï¼Œå®¹å™¨å¯åŠ¨åï¼Œå‘ç°è‡ªå·±æ²¡æœ‰æä¾›æœåŠ¡ï¼Œå°±ä¼šç«‹åˆ»åœæ­¢ï¼Œå°±æ˜¯æ²¡æœ‰ç¨‹åºäº†</span></span><br></pre></td></tr></table></figure><h5 id="docker-logs-æŸ¥çœ‹æ—¥å¿—"><a href="#docker-logs-æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="docker logs æŸ¥çœ‹æ—¥å¿—"></a>docker logs æŸ¥çœ‹æ—¥å¿—</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">docker logs --help</span><br><span class="line">Options:</span><br><span class="line">      --details        Show extra details provided to logs </span><br><span class="line">*  -f, --follow         Follow log output</span><br><span class="line">      --since string   Show logs since timestamp (e.g. 2013-01-02T13:23:37) or relative (e.g. 42m for 42 minutes)</span><br><span class="line">*      --tail string    Number of lines to show from the end of the logs (default &quot;all&quot;)</span><br><span class="line">*  -t, --timestamps     Show timestamps</span><br><span class="line">      --until string   Show logs before a timestamp (e.g. 2013-01-02T13:23:37) or relative (e.g. 42m for 42 minutes)</span><br><span class="line">âœ  ~ docker run -d centos /bin/sh -c &quot;while true;do echo 6666;sleep 1;done&quot; #æ¨¡æ‹Ÿæ—¥å¿—      </span><br><span class="line"><span class="meta">#</span><span class="bash">æ˜¾ç¤ºæ—¥å¿—</span></span><br><span class="line">-tf#æ˜¾ç¤ºæ—¥å¿—ä¿¡æ¯ï¼ˆä¸€ç›´æ›´æ–°ï¼‰</span><br><span class="line">--tail number #éœ€è¦æ˜¾ç¤ºæ—¥å¿—æ¡æ•°</span><br><span class="line">docker logs -t --tail n å®¹å™¨id #æŸ¥çœ‹nè¡Œæ—¥å¿—</span><br><span class="line">docker logs -ft å®¹å™¨id #è·Ÿç€æ—¥å¿—</span><br></pre></td></tr></table></figure><h5 id="docker-top-æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯ps"><a href="#docker-top-æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯ps" class="headerlink" title="docker top æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯ps"></a>docker top æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯ps</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-15-centos ~]# docker top å®¹å™¨id</span><br></pre></td></tr></table></figure><p>![image-20201125193859249](/Users/lantian/Library/Application Support/typora-user-images/image-20201125193859249.png)</p><h5 id="docker-inspect-æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®"><a href="#docker-inspect-æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®" class="headerlink" title="docker inspect æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®"></a>docker inspect æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-15-centos ~]# docker inspect å®¹å™¨id</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;491d88de8b5e0fb13ee887c425b4a7d0e0b2287aff51678c29552261acc71a4d&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2020-11-25T08:26:27.324756163Z&quot;,</span><br><span class="line">        &quot;Path&quot;: &quot;/bin/bash&quot;,</span><br><span class="line">        &quot;Args&quot;: [],</span><br><span class="line">        &quot;State&quot;: &#123;</span><br><span class="line">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="docker-exec-è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#docker-exec-è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="docker exec è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>docker exec è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">æˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ä½¿ç”¨åå°æ–¹å¼è¿è¡Œçš„ï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹ä¸€äº›é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤</span></span><br><span class="line">docker exec -it å®¹å™¨id bashshell</span><br></pre></td></tr></table></figure><p>![image-20201125195917315](/Users/lantian/Library/Application Support/typora-user-images/image-20201125195917315.png)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ–¹å¼äºŒ</span></span><br><span class="line">docker attach å®¹å™¨id</span><br><span class="line"><span class="meta">#</span><span class="bash">æµ‹è¯•</span></span><br><span class="line">docker attach 55321bcae33d </span><br><span class="line">æ­£åœ¨æ‰§è¡Œå½“å‰çš„ä»£ç ...</span><br><span class="line">åŒºåˆ«</span><br><span class="line"><span class="meta">#</span><span class="bash">docker <span class="built_in">exec</span> <span class="comment">#è¿›å…¥å½“å‰å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œã€‚ï¼ˆå¸¸ç”¨ï¼‰</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">docker attach <span class="comment"># è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯</span></span></span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTEzMzkwNzEzNC5wbmc?x-oss-process=image/format,png" alt="image-20200515133907134"></p><h4 id="docker-cp-ä»å®¹å™¨å†…æ‹·dè´åˆ°ä¸»æœºä¸Š"><a href="#docker-cp-ä»å®¹å™¨å†…æ‹·dè´åˆ°ä¸»æœºä¸Š" class="headerlink" title="docker cp ä»å®¹å™¨å†…æ‹·dè´åˆ°ä¸»æœºä¸Š"></a>docker cp ä»å®¹å™¨å†…æ‹·dè´åˆ°ä¸»æœºä¸Š</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">docker cp å®¹å™¨id:å®¹å™¨å†…è·¯å¾„  ä¸»æœºç›®çš„è·¯å¾„</span><br><span class="line"></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker ps</span><br><span class="line">CONTAINER ID     IMAGE    COMMAND     CREATED         STATUS       PORTS      NAMES</span><br><span class="line">56a5583b25b4     centos   &quot;/bin/bash&quot; 7seconds ago    Up 6 seconds      </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">1. è¿›å…¥dockerå®¹å™¨å†…éƒ¨</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker exec -it 56a5583b25b4 /bin/bash</span><br><span class="line">[root@55321bcae33d /]# ls</span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ–°å»ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">[root@55321bcae33d /]# echo &quot;hello&quot; &gt; java.java</span><br><span class="line">[root@55321bcae33d /]# cat hello.java </span><br><span class="line">hello</span><br><span class="line">[root@55321bcae33d /]# exit</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">hello.javaæ‹·è´åˆ°homeæ–‡ä»¶åŠ ä¸‹</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z /]# docker cp 56a5583b25b4:/hello.java /home </span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z /]# cd /home</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z home]# ls -l#å¯ä»¥çœ‹è§java.javaå­˜åœ¨</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r-- 1 root root    0 May 19 22:09 haust.java</span><br><span class="line">-rw-r--r-- 1 root root    6 May 22 11:12 java.java</span><br><span class="line">drwx------ 3 www  www  4096 May  8 12:14 www</span><br></pre></td></tr></table></figure><p>å­¦ä¹ æ–¹å¼ï¼šå°†æˆ‘çš„æ‰€æœ‰ç¬”è®°æ•²ä¸€éï¼Œè‡ªå·±è®°å½•ç¬”è®°ï¼</p><p><strong>å°ç»“ï¼š</strong><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNDIxNDMxMzk2Mi5wbmc?x-oss-process=image/format,png" alt="image-20200514214313962"><br><strong>å‘½ä»¤å¤§å…¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">attach      Attach local standard input, output, and error streams to a running container</span><br><span class="line"><span class="meta">#</span><span class="bash">å½“å‰shellä¸‹ attachè¿æ¥æŒ‡å®šè¿è¡Œçš„é•œåƒ</span></span><br><span class="line">build       Build an image from a Dockerfile # é€šè¿‡Dockerfileå®šåˆ¶é•œåƒ</span><br><span class="line">commit      Create a new image from a container&#x27;s changes #æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ</span><br><span class="line">cp          Copy files/folders between a container and the local filesystem #æ‹·è´æ–‡ä»¶</span><br><span class="line">create      Create a new container #åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨</span><br><span class="line">diff        Inspect changes to files or directories on a container&#x27;s filesystem #æŸ¥çœ‹dockerå®¹å™¨çš„å˜åŒ–</span><br><span class="line">events      Get real time events from the server # ä»æœåŠ¡è·å–å®¹å™¨å®æ—¶æ—¶é—´</span><br><span class="line">exec        Run a command in a running container # åœ¨è¿è¡Œä¸­çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤</span><br><span class="line">export      Export a container&#x27;s filesystem as a tar archive #å¯¼å‡ºå®¹å™¨æ–‡ä»¶ç³»ç»Ÿä½œä¸ºä¸€ä¸ªtarå½’æ¡£æ–‡ä»¶[å¯¹åº”import]</span><br><span class="line">history     Show the history of an image # å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆå†å²</span><br><span class="line">images      List images #åˆ—å‡ºç³»ç»Ÿå½“å‰çš„é•œåƒ</span><br><span class="line">import      Import the contents from a tarball to create a filesystem image #ä»taråŒ…ä¸­å¯¼å…¥å†…å®¹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿé•œåƒ</span><br><span class="line">info        Display system-wide information # æ˜¾ç¤ºå…¨ç³»ç»Ÿä¿¡æ¯</span><br><span class="line">inspect     Return low-level information on Docker objects #æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯</span><br><span class="line">kill        Kill one or more running containers # killæŒ‡å®šdockerå®¹å™¨</span><br><span class="line">load        Load an image from a tar archive or STDIN #ä»ä¸€ä¸ªtaråŒ…æˆ–æ ‡å‡†è¾“å…¥ä¸­åŠ è½½ä¸€ä¸ªé•œåƒ[å¯¹åº”save]</span><br><span class="line">login       Log in to a Docker registry #</span><br><span class="line">logout      Log out from a Docker registry</span><br><span class="line">logs        Fetch the logs of a container</span><br><span class="line">pause       Pause all processes within one or more containers</span><br><span class="line">port        List port mappings or a specific mapping for the container</span><br><span class="line">ps          List containers</span><br><span class="line">pull        Pull an image or a repository from a registry</span><br><span class="line">push        Push an image or a repository to a registry</span><br><span class="line">rename      Rename a container</span><br><span class="line">restart     Restart one or more containers</span><br><span class="line">rm          Remove one or more containers</span><br><span class="line">rmi         Remove one or more images</span><br><span class="line">run         Run a command in a new container</span><br><span class="line">save        Save one or more images to a tar archive (streamed to STDOUT by default)</span><br><span class="line">search      Search the Docker Hub for images</span><br><span class="line">start       Start one or more stopped containers</span><br><span class="line">stats       Display a live stream of container(s) resource usage statistics</span><br><span class="line">stop        Stop one or more running containers</span><br><span class="line">tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span><br><span class="line">top         Display the running processes of a container</span><br><span class="line">unpause     Unpause all processes within one or more containers</span><br><span class="line">update      Update configuration of one or more containers</span><br><span class="line">version     Show the Docker version information</span><br><span class="line">wait        Block until one or more containers stop, then print their exit codes</span><br></pre></td></tr></table></figure><h3 id="ä½œä¸šç»ƒä¹ "><a href="#ä½œä¸šç»ƒä¹ " class="headerlink" title="ä½œä¸šç»ƒä¹ "></a>ä½œä¸šç»ƒä¹ </h3><h5 id="ä½œä¸šä¸€ï¼šDocker-å®‰è£…Nginx"><a href="#ä½œä¸šä¸€ï¼šDocker-å®‰è£…Nginx" class="headerlink" title="ä½œä¸šä¸€ï¼šDocker å®‰è£…Nginx"></a>ä½œä¸šä¸€ï¼šDocker å®‰è£…Nginx</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">1. æœç´¢é•œåƒ search å»ºè®®å¤§å®¶å»dockeræœç´¢ï¼Œå¯ä»¥çœ‹åˆ°å¸®åŠ©æ–‡æ¡£</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker search nginx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">2. æ‹‰å–ä¸‹è½½é•œåƒ pull</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker pull nginx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">3. æŸ¥çœ‹æ˜¯å¦ä¸‹è½½æˆåŠŸé•œåƒ</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">3. è¿è¡Œæµ‹è¯•</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -d åå°è¿è¡Œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --name ç»™å®¹å™¨å‘½å</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -p å®¿ä¸»æœºç«¯å£ï¼šå®¹å™¨å†…éƒ¨ç«¯å£</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -d --name nginx01 -p 3344:80 nginx</span><br><span class="line">aa664b0c8ed98f532453ce1c599be823bcc1f3c9209e5078615af416ccb454c2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">4. æŸ¥çœ‹æ­£åœ¨å¯åŠ¨çš„é•œåƒ</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES</span><br><span class="line">75943663c116        nginx               &quot;nginx -g &#x27;daemon ofâ€¦&quot;   41 seconds ago      Up 40 seconds       0.0.0.0:82-&gt;80/tcp   nginx00</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">5. è¿›å…¥å®¹å™¨</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker exec -it nginx01 /bin/bash #è¿›å…¥</span><br><span class="line">root@aa664b0c8ed9:/# whereis nginx#æ‰¾åˆ°nginxä½ç½®</span><br><span class="line">nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx</span><br><span class="line">root@aa664b0c8ed9:/# cd /etc/nginx/</span><br><span class="line">root@aa664b0c8ed9:/etc/nginx# ls</span><br><span class="line">conf.dfastcgi_paramskoi-utf  koi-win  mime.types  modules  nginx.conf  scgi_paramsuwsgi_params  win-utf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">6. é€€å‡ºå®¹å™¨</span></span><br><span class="line">root@aa664b0c8ed9:/etc/nginx# exit</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">7. åœæ­¢å®¹å™¨</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</span><br><span class="line">aa664b0c8ed9        nginx               &quot;nginx -g &#x27;daemon ofâ€¦&quot;   10 minutes ago      Up 10 minutes       0.0.0.0:3344-&gt;80/tcp   nginx01</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker stop aa664b0c8ed9</span><br></pre></td></tr></table></figure><p><strong>å®¿ä¸»æœºç«¯å£</strong> å’Œ <strong>å®¹å™¨å†…éƒ¨ç«¯å£</strong> ä»¥åŠç«¯å£æš´éœ²ï¼š</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNDIxNTkxNTY1MC5wbmc?x-oss-process=image/format,png" alt="img"><br><strong>é—®é¢˜ï¼š</strong>æˆ‘ä»¬æ¯æ¬¡æ”¹åŠ¨nginxé…ç½®æ–‡ä»¶ï¼Œéƒ½éœ€è¦è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Ÿååˆ†éº»çƒ¦ï¼Œæˆ‘è¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œè¾¾åˆ°åœ¨å®¹å™¨å¤–éƒ¨ä¿®æ”¹æ–‡ä»¶åï¼Œå®¹å™¨å†…éƒ¨å°±å¯ä»¥è‡ªåŠ¨ä¿®æ”¹ï¼Ÿ-v æ•°æ®å· æŠ€æœ¯ï¼</p><h5 id="ä½œä¸šäºŒï¼šç”¨docker-æ¥è£…ä¸€ä¸ªtomcat"><a href="#ä½œä¸šäºŒï¼šç”¨docker-æ¥è£…ä¸€ä¸ªtomcat" class="headerlink" title="ä½œä¸šäºŒï¼šç”¨docker æ¥è£…ä¸€ä¸ªtomcat"></a>ä½œä¸šäºŒï¼šç”¨docker æ¥è£…ä¸€ä¸ªtomcat</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½ tomcat9.0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¹‹å‰çš„å¯åŠ¨éƒ½æ˜¯åå°ï¼Œåœæ­¢äº†å®¹å™¨ï¼Œå®¹å™¨è¿˜æ˜¯å¯ä»¥æŸ¥åˆ°ï¼Œ docker run -it --rm é•œåƒå ä¸€èˆ¬æ˜¯ç”¨æ¥æµ‹è¯•ï¼Œç”¨å®Œå°±åˆ é™¤</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -it --rm tomcat:9.0</span><br><span class="line"></span><br><span class="line">--rm       Automatically remove the container when it exits ç”¨å®Œå³åˆ </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸‹è½½ æœ€æ–°ç‰ˆ</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker pull tomcat</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æŸ¥çœ‹ä¸‹è½½çš„é•œåƒ</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä»¥åå°æ–¹å¼ï¼Œæš´éœ²ç«¯å£æ–¹å¼ï¼Œå¯åŠ¨è¿è¡Œ</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -d -p 8080:8080 --name tomcat01 tomcat</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æµ‹è¯•è®¿é—®æœ‰æ²¡æœ‰é—®é¢˜</span></span><br><span class="line">curl localhost:8080</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ ¹æ®å®¹å™¨idè¿›å…¥tomcatå®¹å™¨</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker exec -it 645596565d3f /bin/bash</span><br><span class="line">root@645596565d3f:/usr/local/tomcat# </span><br><span class="line"><span class="meta">#</span><span class="bash">æŸ¥çœ‹tomcatå®¹å™¨å†…éƒ¨å†…å®¹ï¼š</span></span><br><span class="line">root@645596565d3f:/usr/local/tomcat# ls -l</span><br><span class="line">total 152</span><br><span class="line">-rw-r--r-- 1 root root 18982 May  5 20:40 BUILDING.txt</span><br><span class="line">-rw-r--r-- 1 root root  5409 May  5 20:40 CONTRIBUTING.md</span><br><span class="line">-rw-r--r-- 1 root root 57092 May  5 20:40 LICENSE</span><br><span class="line">-rw-r--r-- 1 root root  2333 May  5 20:40 NOTICE</span><br><span class="line">-rw-r--r-- 1 root root  3255 May  5 20:40 README.md</span><br><span class="line">-rw-r--r-- 1 root root  6898 May  5 20:40 RELEASE-NOTES</span><br><span class="line">-rw-r--r-- 1 root root 16262 May  5 20:40 RUNNING.txt</span><br><span class="line">drwxr-xr-x 2 root root  4096 May 16 12:05 bin</span><br><span class="line">drwxr-xr-x 1 root root  4096 May 21 11:04 conf</span><br><span class="line">drwxr-xr-x 2 root root  4096 May 16 12:05 lib</span><br><span class="line">drwxrwxrwx 1 root root  4096 May 21 11:04 logs</span><br><span class="line">drwxr-xr-x 2 root root  4096 May 16 12:05 native-jni-lib</span><br><span class="line">drwxrwxrwx 2 root root  4096 May 16 12:05 temp</span><br><span class="line">drwxr-xr-x 2 root root  4096 May 16 12:05 webapps</span><br><span class="line">drwxr-xr-x 7 root root  4096 May  5 20:37 webapps.dist</span><br><span class="line">drwxrwxrwx 2 root root  4096 May  5 20:36 work</span><br><span class="line">root@645596565d3f:/usr/local/tomcat# </span><br><span class="line"><span class="meta">#</span><span class="bash">è¿›å…¥webappsç›®å½•</span></span><br><span class="line">root@645596565d3f:/usr/local/tomcat# cd webapps</span><br><span class="line">root@645596565d3f:/usr/local/tomcat/webapps# ls</span><br><span class="line">root@645596565d3f:/usr/local/tomcat/webapps# </span><br><span class="line"><span class="meta">#</span><span class="bash"> å‘ç°é—®é¢˜ï¼š1ã€linuxå‘½ä»¤å°‘äº†ã€‚ 2.webappsç›®å½•ä¸ºç©º</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> åŸå› ï¼šé˜¿é‡Œäº‘é•œåƒçš„åŸå› ï¼Œé˜¿é‡Œäº‘é»˜è®¤æ˜¯æœ€å°çš„é•œåƒï¼Œæ‰€ä»¥ä¸å¿…è¦çš„éƒ½å‰”é™¤æ‰</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿è¯æœ€å°å¯è¿è¡Œçš„ç¯å¢ƒï¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å†³æ–¹æ¡ˆï¼š</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†webapps.distä¸‹çš„æ–‡ä»¶éƒ½æ‹·è´åˆ°webappsä¸‹å³å¯</span></span><br><span class="line">root@645596565d3f:/usr/local/tomcat# ls æ‰¾åˆ°webapps.dist</span><br><span class="line">BUILDING.txt LICENSE  README.md RUNNING.txt  conf  logs  temp     webapps.dist</span><br><span class="line">CONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin   lib   native-jni-lib  webapps  work</span><br><span class="line"></span><br><span class="line">root@645596565d3f:/usr/local/tomcat# cd webapps.dist/ # è¿›å…¥webapps.dist </span><br><span class="line">root@645596565d3f:/usr/local/tomcat/webapps.dist# ls # æŸ¥çœ‹å†…å®¹</span><br><span class="line">ROOT  docs  examples  host-manager  manager</span><br><span class="line"></span><br><span class="line">root@645596565d3f:/usr/local/tomcat/webapps.dist# cd ..</span><br><span class="line">root@645596565d3f:/usr/local/tomcat# cp -r webapps.dist/* webapps # æ‹·è´webapps.dist å†…å®¹ç»™webapps</span><br><span class="line">root@645596565d3f:/usr/local/tomcat# cd webapps #è¿›å…¥webapps</span><br><span class="line">root@645596565d3f:/usr/local/tomcat/webapps# ls #æŸ¥çœ‹æ‹·è´ç»“æœ</span><br><span class="line">ROOT  docs  examples  host-manager  manager</span><br></pre></td></tr></table></figure><p>è¿™æ ·dockeréƒ¨ç½²tomcatå°±å¯ä»¥è®¿é—®äº†<br><img src="https://img-blog.csdnimg.cn/20200522112432972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU5MTk4MA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>é—®é¢˜</strong>:æˆ‘ä»¬ä»¥åè¦éƒ¨ç½²é¡¹ç›®ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦è¿›å…¥å®¹å™¨æ˜¯ä¸æ˜¯ååˆ†éº»çƒ¦ï¼Ÿè¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œæ¯”å¦‚webappsï¼Œæˆ‘ä»¬åœ¨å¤–éƒ¨æ”¾ç½®é¡¹ç›®ï¼Œå°±è‡ªåŠ¨åŒæ­¥å†…éƒ¨å°±å¥½äº†ï¼</p><h5 id="ä½œä¸šä¸‰ï¼šéƒ¨ç½²elasticsearch-kibana"><a href="#ä½œä¸šä¸‰ï¼šéƒ¨ç½²elasticsearch-kibana" class="headerlink" title="ä½œä¸šä¸‰ï¼šéƒ¨ç½²elasticsearch+kibana"></a>ä½œä¸šä¸‰ï¼šéƒ¨ç½²elasticsearch+kibana</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> es æš´éœ²çš„ç«¯å£å¾ˆå¤šï¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> es ååˆ†è€—å†…å­˜</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> es çš„æ•°æ®ä¸€èˆ¬éœ€è¦æ”¾ç½®åˆ°å®‰å…¨ç›®å½•ï¼æŒ‚è½½</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --net somenetwork ? ç½‘ç»œé…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨elasticsearch</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]#docker run -d --name elasticsearch  -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; elasticsearch:7.6.2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•ä¸€ä¸‹esæ˜¯å¦æˆåŠŸå¯åŠ¨</span></span><br><span class="line">âœ  ~ curl localhost:9200</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot; : &quot;d73ad2f22dd3&quot;,</span><br><span class="line">  &quot;cluster_name&quot; : &quot;docker-cluster&quot;,</span><br><span class="line">  &quot;cluster_uuid&quot; : &quot;atFKgANxS8CzgIyCB8PGxA&quot;,</span><br><span class="line">  &quot;version&quot; : &#123;</span><br><span class="line">    &quot;number&quot; : &quot;7.6.2&quot;,</span><br><span class="line">    &quot;build_flavor&quot; : &quot;default&quot;,</span><br><span class="line">    &quot;build_type&quot; : &quot;docker&quot;,</span><br><span class="line">    &quot;build_hash&quot; : &quot;ef48eb35cf30adf4db14086e8aabd07ef6fb113f&quot;,</span><br><span class="line">    &quot;build_date&quot; : &quot;2020-03-26T06:34:37.794943Z&quot;,</span><br><span class="line">    &quot;build_snapshot&quot; : false,</span><br><span class="line">    &quot;lucene_version&quot; : &quot;8.4.0&quot;,</span><br><span class="line">    &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,</span><br><span class="line">    &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;tagline&quot; : &quot;You Know, for Search&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æµ‹è¯•æˆåŠŸå°±å…³æ‰elasticSearchï¼Œé˜²æ­¢è€—å†…å­˜</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker stop d834ce2bd306</span><br><span class="line">d834ce2bd306</span><br><span class="line"></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker stats  # æŸ¥çœ‹dockerå®¹å™¨ä½¿ç”¨å†…å­˜æƒ…å†µ</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTE1MjU1MjcyMi5wbmc?x-oss-process=image/format,png" alt="img"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">æµ‹è¯•æˆåŠŸå°±å…³æ‰elasticSearchï¼Œå¯ä»¥æ·»åŠ å†…å­˜çš„é™åˆ¶ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ -e ç¯å¢ƒé…ç½®ä¿®æ”¹</span></span><br><span class="line">âœ  ~ docker rm -f d73ad2f22dd3            # stopå‘½ä»¤ä¹Ÿè¡Œ                               </span><br><span class="line">âœ  ~ docker run -d --name elasticsearch  -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -e ES_JAVA_OPTS=&quot;-Xms64m -Xmx128m&quot; elasticsearch:7.6.2</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTE1MzUxMTY5NS5wbmc?x-oss-process=image/format,png" alt="img"></p><blockquote><p>ä½œä¸šä¸‰ï¼šä½¿ç”¨kibanaè¿æ¥es (elasticSearch)ï¼Ÿæ€è€ƒç½‘ç»œå¦‚ä½•æ‰èƒ½è¿æ¥<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTE1MzcyNTk5MS5wbmc?x-oss-process=image/format,png" alt="img"></p></blockquote><h1 id="Portainer-å¯è§†åŒ–é¢æ¿å®‰è£…"><a href="#Portainer-å¯è§†åŒ–é¢æ¿å®‰è£…" class="headerlink" title="Portainer å¯è§†åŒ–é¢æ¿å®‰è£…"></a>Portainer å¯è§†åŒ–é¢æ¿å®‰è£…</h1><ul><li><p>portainer(å…ˆç”¨è¿™ä¸ª)</p></li><li><p>Rancher(CI/CDå†ç”¨)</p></li></ul><p><strong>ä»€ä¹ˆæ˜¯portainerï¼Ÿ</strong></p><p>Dockerå›¾å½¢åŒ–ç•Œé¢ç®¡ç†å·¥å…·ï¼æä¾›ä¸€ä¸ªåå°é¢æ¿ä¾›æˆ‘ä»¬æ“ä½œï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…å‘½ä»¤</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -d -p 8088:9000 \</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=<span class="literal">true</span> portainer/portainer</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•è®¿é—®ï¼š<br>![image-20201127104453619](/Users/lantian/Library/Application Support/typora-user-images/image-20201127104453619.png)<br>è¿›å…¥ä¹‹åçš„é¢æ¿</p><p>![image-20201127105306386](/Users/lantian/Library/Application Support/typora-user-images/image-20201127105306386.png)</p><h1 id="é•œåƒåŸç†ä¹‹è”åˆæ–‡ä»¶ç³»ç»Ÿ"><a href="#é•œåƒåŸç†ä¹‹è”åˆæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="é•œåƒåŸç†ä¹‹è”åˆæ–‡ä»¶ç³»ç»Ÿ"></a>é•œåƒåŸç†ä¹‹è”åˆæ–‡ä»¶ç³»ç»Ÿ</h1><h4 id="é•œåƒæ˜¯ä»€ä¹ˆ"><a href="#é•œåƒæ˜¯ä»€ä¹ˆ" class="headerlink" title="é•œåƒæ˜¯ä»€ä¹ˆ"></a><strong>é•œåƒæ˜¯ä»€ä¹ˆ</strong></h4><p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶ä¿ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œä»–åŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p><p>æ‰€æœ‰åº”ç”¨ï¼Œç›´æ¥æ‰“åŒ…dockeré•œåƒï¼Œå°±å¯ä»¥ç›´æ¥è·‘èµ·æ¥ï¼</p><p><strong>å¦‚ä½•å¾—åˆ°é•œåƒ</strong></p><ul><li>ä»è¿œç¨‹ä»“åº“ä¸‹è½½</li><li>åˆ«äººæ‹·è´ç»™ä½ </li><li>è‡ªå·±åˆ¶ä½œä¸€ä¸ªé•œåƒ DockerFile</li></ul><h4 id="Dockeré•œåƒåŠ è½½åŸç†"><a href="#Dockeré•œåƒåŠ è½½åŸç†" class="headerlink" title="Dockeré•œåƒåŠ è½½åŸç†"></a><strong>Dockeré•œåƒåŠ è½½åŸç†</strong></h4><blockquote><p>UnionFs ï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰</p></blockquote><p>UnionFsï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šUnionæ–‡ä»¶ç³»ç»Ÿï¼ˆUnionFsï¼‰æ˜¯ä¸€ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä»–æ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹ï¼ˆ unite several directories into a single virtual filesystem)ã€‚Unionæ–‡ä»¶ç³»ç»Ÿæ˜¯ Dockeré•œåƒçš„åŸºç¡€ã€‚é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ï¼ŒåŸºäºåŸºç¡€é•œåƒï¼ˆæ²¡æœ‰çˆ¶é•œåƒï¼‰ï¼Œå¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒ<br>ç‰¹æ€§ï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•ã€‚</p><blockquote><p>Dockeré•œåƒåŠ è½½åŸç†</p></blockquote><p> dockerçš„é•œåƒå®é™…ä¸Šç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFSã€‚<br>        boots(boot file systemï¼‰ä¸»è¦åŒ…å« bootloaderå’Œ Kernel, bootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ  kernel, Linuxåˆšå¯åŠ¨æ—¶ä¼šåŠ bootfsæ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨ Dockeré•œåƒçš„æœ€åº•å±‚æ˜¯ bootsã€‚è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„Linux/Unixç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è¼‰å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”± bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfsã€‚<br>        rootfsï¼ˆroot file system),åœ¨ bootfsä¹‹ä¸Šã€‚åŒ…å«çš„å°±æ˜¯å…¸å‹ Linuxç³»ç»Ÿä¸­çš„/dev,/proc,/bin,/etcç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶ã€‚ rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚ Ubuntu, Centosç­‰ç­‰ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTE2MzA0OTk1OS5wbmc?x-oss-process=image/format,png" alt="img"></p><p>å¹³æ—¶æˆ‘ä»¬å®‰è£…è¿›è™šæ‹Ÿæœºçš„CentOSéƒ½æ˜¯å¥½å‡ ä¸ªGï¼Œä¸ºä»€ä¹ˆDockerè¿™é‡Œæ‰200Mï¼Ÿ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTE2MzE0MDU1OS5wbmc?x-oss-process=image/format,png" alt="img"></p><p>å¯¹äºä¸ªç²¾ç®€çš„OS,rootfså¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…åˆæœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ç”¨Hostçš„kernel(æœ¬æœºå†…æ ¸)ï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså°±å¯ä»¥äº†ã€‚ç”±æ­¤å¯è§å¯¹äºä¸åŒçš„Linuxå‘è¡Œç‰ˆï¼Œ bootsåŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œ rootfsä¼šæœ‰å·®åˆ¥ï¼Œå› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…¬ç”¨bootfs.</p><p>è™šæ‹Ÿæœºæ˜¯åˆ†é’Ÿçº§åˆ«ï¼Œå®¹å™¨æ˜¯ç§’çº§ï¼</p><h4 id="åˆ†å±‚ç†è§£"><a href="#åˆ†å±‚ç†è§£" class="headerlink" title="åˆ†å±‚ç†è§£"></a>åˆ†å±‚ç†è§£</h4><blockquote><p>åˆ†å±‚çš„é•œåƒ</p></blockquote><p>æˆ‘ä»¬å¯ä»¥å»ä¸‹è½½ä¸€ä¸ªé•œåƒï¼Œæ³¨æ„è§‚å¯Ÿä¸‹è½½çš„æ—¥å¿—è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€å±‚å±‚çš„åœ¨ä¸‹è½½</p><p><img src="https://i.loli.net/2020/12/10/zQtaWfLFgJCuEm7.png" alt="image-20201210094638846"></p><p><strong>æ€è€ƒï¼šä¸ºä»€ä¹ˆDockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚çš„ç»“æ„å‘¢ï¼Ÿ</strong></p><p>æœ€å¤§çš„å¥½å¤„ï¼Œæˆ‘è§‰å¾—è«è¿‡äºèµ„æºå…±äº«äº†ï¼æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„Baseé•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½baseé•œåƒï¼ŒåŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½baseé•œåƒï¼Œè¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœåŠ¡äº†ï¼Œè€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚</p><p>æŸ¥çœ‹é•œåƒåˆ†å±‚çš„æ–¹å¼å¯ä»¥é€šè¿‡docker image inspect å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">âœ  [root@VM-4-15-centos ~]# docker image inspect tomcat</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;sha256:e0bd8b34b4ea904874e55eae50e8987815030d140f9773a4b61759f4f85bf38d&quot;,</span><br><span class="line">        &quot;RepoTags&quot;: [</span><br><span class="line">            &quot;tomcat:latest&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;RepoDigests&quot;: [</span><br><span class="line">            &quot;tomcat@sha256:a319b10d8729817c7ce0bcc2343a6f97711c7870395019340d96b6aafd6ccbea&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;Parent&quot;: &quot;&quot;,</span><br><span class="line">        &quot;Comment&quot;: &quot;&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2020-11-19T06:16:44.82638216Z&quot;,</span><br><span class="line">        &quot;Container&quot;: &quot;fb077d585e6862f0e331c1c7f321d95f8dbb500170bff5050f266367ee48963a&quot;,</span><br><span class="line">        &quot;ContainerConfig&quot;: &#123;</span><br><span class="line">            &quot;Hostname&quot;: &quot;fb077d585e68&quot;,</span><br><span class="line">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;AttachStdin&quot;: false,</span><br><span class="line">            &quot;AttachStdout&quot;: false,</span><br><span class="line">            &quot;AttachStderr&quot;: false,</span><br><span class="line">            &quot;ExposedPorts&quot;: &#123;</span><br><span class="line">                &quot;8080/tcp&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Tty&quot;: false,</span><br><span class="line">            &quot;OpenStdin&quot;: false,</span><br><span class="line">            &quot;StdinOnce&quot;: false,</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/tomcat/bin:/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,</span><br><span class="line">                &quot;LANG=C.UTF-8&quot;,</span><br><span class="line">                &quot;JAVA_HOME=/usr/local/openjdk-11&quot;,</span><br><span class="line">                &quot;JAVA_VERSION=11.0.9.1&quot;,</span><br><span class="line">                &quot;CATALINA_HOME=/usr/local/tomcat&quot;,</span><br><span class="line">                &quot;TOMCAT_NATIVE_LIBDIR=/usr/local/tomcat/native-jni-lib&quot;,</span><br><span class="line">                &quot;LD_LIBRARY_PATH=/usr/local/tomcat/native-jni-lib&quot;,</span><br><span class="line">                &quot;GPG_KEYS=05AB33110949707C93A279E3D3EFE6B686867BA6 07E48665A34DCAFAE522E5E6266191C37C037D42 47309207D818FFD8DCD3F83F1931D684307A10A5 541FBE7D8F78B25E055DDEE13C370389288584E7 61B832AC2F1C5A90F0F9B00A1C506407564C17A3 79F7026C690BAA50B92CD8B66A3AD3F4F22C4FED 9BA44C2621385CB966EBA586F72C284D731FABEE A27677289986DB50844682F8ACB77FC2E86E29AC A9C5DF4D22E99998D9875A5110C01C5A2F6059E7 DCFD35E0BF8CA7344752DE8B6FB21E8933C60243 F3A04C595DB5B6A5F1ECA43E3B7BBB100D811BBE F7DA48BB64BCB84ECBA7EE6935CD23C10D498E23&quot;,</span><br><span class="line">                &quot;TOMCAT_MAJOR=9&quot;,</span><br><span class="line">                &quot;TOMCAT_VERSION=9.0.40&quot;,</span><br><span class="line">                &quot;TOMCAT_SHA512=a37c787b659e7123363ea20ff601a2fb5d289d2c0d57d497d301af9e9f316629aca3d406d7d54e7b263fbdd725e0ed29456c10b5586b7e994a50eaa7b07312ec&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;/bin/sh&quot;,</span><br><span class="line">                &quot;-c&quot;,</span><br><span class="line">                &quot;#(nop) &quot;,</span><br><span class="line">                &quot;CMD [\&quot;catalina.sh\&quot; \&quot;run\&quot;]&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Image&quot;: &quot;sha256:191bf29c7c4b9a79b61b3455ac08206043b74981c99a57b1ccb9cf94c60cd7e5&quot;,</span><br><span class="line">            &quot;Volumes&quot;: null,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;/usr/local/tomcat&quot;,</span><br><span class="line">            &quot;Entrypoint&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;Labels&quot;: &#123;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;DockerVersion&quot;: &quot;19.03.12&quot;,</span><br><span class="line">        &quot;Author&quot;: &quot;&quot;,</span><br><span class="line">        &quot;Config&quot;: &#123;</span><br><span class="line">            &quot;Hostname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;AttachStdin&quot;: false,</span><br><span class="line">            &quot;AttachStdout&quot;: false,</span><br><span class="line">            &quot;AttachStderr&quot;: false,</span><br><span class="line">            &quot;ExposedPorts&quot;: &#123;</span><br><span class="line">                &quot;8080/tcp&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Tty&quot;: false,</span><br><span class="line">            &quot;OpenStdin&quot;: false,</span><br><span class="line">            &quot;StdinOnce&quot;: false,</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/tomcat/bin:/usr/local/openjdk-11/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,</span><br><span class="line">                &quot;LANG=C.UTF-8&quot;,</span><br><span class="line">                &quot;JAVA_HOME=/usr/local/openjdk-11&quot;,</span><br><span class="line">                &quot;JAVA_VERSION=11.0.9.1&quot;,</span><br><span class="line">                &quot;CATALINA_HOME=/usr/local/tomcat&quot;,</span><br><span class="line">                &quot;TOMCAT_NATIVE_LIBDIR=/usr/local/tomcat/native-jni-lib&quot;,</span><br><span class="line">                &quot;LD_LIBRARY_PATH=/usr/local/tomcat/native-jni-lib&quot;,</span><br><span class="line">                &quot;GPG_KEYS=05AB33110949707C93A279E3D3EFE6B686867BA6 07E48665A34DCAFAE522E5E6266191C37C037D42 47309207D818FFD8DCD3F83F1931D684307A10A5 541FBE7D8F78B25E055DDEE13C370389288584E7 61B832AC2F1C5A90F0F9B00A1C506407564C17A3 79F7026C690BAA50B92CD8B66A3AD3F4F22C4FED 9BA44C2621385CB966EBA586F72C284D731FABEE A27677289986DB50844682F8ACB77FC2E86E29AC A9C5DF4D22E99998D9875A5110C01C5A2F6059E7 DCFD35E0BF8CA7344752DE8B6FB21E8933C60243 F3A04C595DB5B6A5F1ECA43E3B7BBB100D811BBE F7DA48BB64BCB84ECBA7EE6935CD23C10D498E23&quot;,</span><br><span class="line">                &quot;TOMCAT_MAJOR=9&quot;,</span><br><span class="line">                &quot;TOMCAT_VERSION=9.0.40&quot;,</span><br><span class="line">                &quot;TOMCAT_SHA512=a37c787b659e7123363ea20ff601a2fb5d289d2c0d57d497d301af9e9f316629aca3d406d7d54e7b263fbdd725e0ed29456c10b5586b7e994a50eaa7b07312ec&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;catalina.sh&quot;,</span><br><span class="line">                &quot;run&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Image&quot;: &quot;sha256:191bf29c7c4b9a79b61b3455ac08206043b74981c99a57b1ccb9cf94c60cd7e5&quot;,</span><br><span class="line">            &quot;Volumes&quot;: null,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;/usr/local/tomcat&quot;,</span><br><span class="line">            &quot;Entrypoint&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;Labels&quot;: null</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Architecture&quot;: &quot;amd64&quot;,</span><br><span class="line">        &quot;Os&quot;: &quot;linux&quot;,</span><br><span class="line">        &quot;Size&quot;: 648656660,</span><br><span class="line">        &quot;VirtualSize&quot;: 648656660,</span><br><span class="line">        &quot;GraphDriver&quot;: &#123;</span><br><span class="line">            &quot;Data&quot;: &#123;</span><br><span class="line">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/88043684d3bc4cbecbfa1ee7c823fe760d993d1caafbee96c8c707ab1b6bdaf9/diff:/var/lib/docker/overlay2/ce80695df51966499087d78f6f7c9ab587be84289c9278861969209d4fc5106a/diff:/var/lib/docker/overlay2/e5a0850b8ecf83315090372b18a4f0a45b35b12c9a8cdfea1001f7d16230a87c/diff:/var/lib/docker/overlay2/027da1777f93ffcfa0cde1aa6f2092471f5151bbcf61cb027bd2432554d977dd/diff:/var/lib/docker/overlay2/70ddfab4e5e89b69c48b8a1a78d2c6540f66fef2b4fd01f34f10024bb7857b4b/diff:/var/lib/docker/overlay2/6fdbd8cd8b9f4273c58192ee0731c7e1175f59df1fe5bf70689869f2ab7f8ada/diff:/var/lib/docker/overlay2/337629fcc68b008004b1d3a288eda2b7d933a16ce9f5a0893b37a52e0c3aa2ef/diff:/var/lib/docker/overlay2/653d935408f10be17ebf2a14adc2740ae2d8769900c8430bc6b7ece066048efd/diff:/var/lib/docker/overlay2/413ff30569554dde786c93e7e9018d2d9ff3fb4cc94dd038c83fa856730992f7/diff&quot;,</span><br><span class="line">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/873fc8260f39702b0a9e0cd230be991871fda84f7ddd39e098f8dafd8ba44abb/merged&quot;,</span><br><span class="line">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/873fc8260f39702b0a9e0cd230be991871fda84f7ddd39e098f8dafd8ba44abb/diff&quot;,</span><br><span class="line">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/873fc8260f39702b0a9e0cd230be991871fda84f7ddd39e098f8dafd8ba44abb/work&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;RootFS&quot;: &#123;</span><br><span class="line">            &quot;Type&quot;: &quot;layers&quot;,</span><br><span class="line">            &quot;Layers&quot;: [</span><br><span class="line">                &quot;sha256:114ca5b7280f3b49e94a67659890aadde83d58a8bde0d9020b2bc8c902c3b9de&quot;,</span><br><span class="line">                &quot;sha256:f3be340a54b957a0152075fdb818610c824dec82cfa258da60caabf42f553359&quot;,</span><br><span class="line">                &quot;sha256:475b4eb7969561f545314b25a284c14e3ac501f2c4fc6474e9a9875dc11fafd5&quot;,</span><br><span class="line">                &quot;sha256:712264374d249aeac0004beff96f69ebaf293f75e0f8584b94926c7bdc64a5e4&quot;,</span><br><span class="line">                &quot;sha256:4b9227ba273ca262a3d3d67a1cf662a4f70c9e7748f8ae2aae03ddc090b5d64f&quot;,</span><br><span class="line">                &quot;sha256:39341dafb26188816d7d32fe2843a420b0f768c3c9f4ad2c88330d516ec2e14b&quot;,</span><br><span class="line">                &quot;sha256:94982bbe98d51a37ef6d2e87c73449b86ab9c0b18fbcca3ff09ba341be33a930&quot;,</span><br><span class="line">                &quot;sha256:438ec47051c4b41a37fd1cd92c7b7341670b922b9e42ab0125e9879a4c9cebf2&quot;,</span><br><span class="line">                &quot;sha256:a84354b89db39abf5f0a8d2e2116a73916d2adb2eff9894caa07e98405feb42e&quot;,</span><br><span class="line">                &quot;sha256:3be17d77a93ad9f4598efa98f9b1db634bae34316cae15261dc80f0b093871fe&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Metadata&quot;: &#123;</span><br><span class="line">            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>ç†è§£ï¼š</strong></p><p>æ‰€æœ‰çš„ Dockeré•œåƒéƒ½èµ·å§‹äºä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œå½“è¿›è¡Œä¿®æ”¹æˆ–åŸ¹åŠ æ–°çš„å†…å®¹æ—¶ï¼Œå°±ä¼šåœ¨å½“å‰é•œåƒå±‚ä¹‹ä¸Šï¼Œåˆ›å»ºæ–°çš„é•œåƒå±‚ã€‚</p><p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚åŸºäº Ubuntu Linux16.04åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œè¿™å°±æ˜¯æ–°é•œåƒçš„ç¬¬ä¸€å±‚ï¼›å¦‚æœåœ¨è¯¥é•œåƒä¸­æ·»åŠ  PythonåŒ…ï¼Œ<br>å°±ä¼šåœ¨åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šåˆ›å»ºç¬¬äºŒä¸ªé•œåƒå±‚ï¼›å¦‚æœç»§ç»­æ·»åŠ ä¸€ä¸ªå®‰å…¨è¡¥ä¸ï¼Œå°±ä¼šåˆ›å¥ç¬¬ä¸‰ä¸ªé•œåƒå±‚è¯¥åƒå½“å‰å·²ç»åŒ…å«3ä¸ªé•œåƒå±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆè¿™åªæ˜¯ä¸€ä¸ªç”¨äºæ¼”ç¤ºçš„å¾ˆç®€å•çš„ä¾‹å­ï¼‰ã€‚</p><p>åœ¨æ·»åŠ é¢å¤–çš„é•œåƒå±‚çš„åŒæ—¶ï¼Œé•œåƒå§‹ç»ˆä¿æŒæ˜¯å½“å‰æ‰€æœ‰é•œåƒçš„ç»„åˆï¼Œç†è§£è¿™ä¸€ç‚¹.</p><p><img src="https://i.loli.net/2020/12/10/vCWcyAJ1o4wtr9N.png" alt="image-20201210101633248"></p><p>åœ¨æ·»åŠ é¢å¤–çš„é•œåƒå±‚çš„åŒæ—¶ï¼Œé•œåƒå§‹ç»ˆä¿æŒæ˜¯å½“å‰æ‰€æœ‰é•œåƒçš„ç»„åˆï¼Œç†è§£è¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚ä¸‹å›¾ä¸­ä¸¾äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¯ä¸ªé•œåƒå±‚åŒ…å«3ä¸ªæ–‡ä»¶ï¼Œè€Œé•œåƒåŒ…å«äº†æ¥è‡ªä¸¤ä¸ªé•œåƒå±‚çš„6ä¸ªæ–‡ä»¶ã€‚</p><p><img src="https://i.loli.net/2020/12/10/RxrGBsJmKkovC7e.png" alt="image-20201210102105999"></p><p>ä¸Šå›¾ä¸­çš„é•œåƒå±‚è·Ÿä¹‹å‰å›¾ä¸­çš„ç•¥æœ‰åŒºåˆ¥ï¼Œä¸»è¦ç›®çš„æ˜¯ä¾¿äºå±•ç¤ºæ–‡ä»¶<br>ä¸‹å›¾ä¸­å±•ç¤ºäº†ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¸‰å±‚é•œåƒï¼Œåœ¨å¤–éƒ¨çœ‹æ¥æ•´ä¸ªé•œåƒåªæœ‰6ä¸ªæ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºæœ€ä¸Šå±‚ä¸­çš„æ–‡ä»¶7æ˜¯æ–‡ä»¶5çš„ä¸€ä¸ªæ›´æ–°ç‰ˆã€‚ </p><p>![image-20201210102136930](/Users/lantian/Library/Application Support/typora-user-images/image-20201210102136930.png)</p><p>æ–‡ç§æƒ…æ³ä¸‹ï¼Œä¸Šå±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶è¦†ç›–äº†åº•å±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶ã€‚è¿™æ ·å°±ä½¿å¾—æ–‡ä»¶çš„æ›´æ–°ç‰ˆæœ¬ä½œä¸ºä¸€ä¸ªæ–°é•œåƒå±‚æ·»åŠ åˆ°é•œåƒå½“ä¸­</p><p>Dockeré€šè¿‡å­˜å‚¨å¼•æ“ï¼ˆæ–°ç‰ˆæœ¬é‡‡ç”¨å¿«ç…§æœºåˆ¶ï¼‰çš„æ–¹å¼æ¥å®ç°é•œåƒå±‚å †æ ˆï¼Œå¹¶ä¿è¯å¤šé•œåƒå±‚å¯¹å¤–å±•ç¤ºä¸ºç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿ</p><p>Linuxä¸Šå¯ç”¨çš„å­˜å‚¨å¼•æ’ƒæœ‰AUFSã€ Overlay2ã€ Device Mapperã€Btrfsä»¥åŠZFSã€‚é¡¾åæ€ä¹‰ï¼Œæ¯ç§å­˜å‚¨å¼•æ“éƒ½åŸºäº Linuxä¸­å¯¹åº”çš„<br>ä»¶ç³»ç»Ÿæˆ–è€…å—è®¾å¤‡æŠ€æœ¯ï¼Œäº•ä¸”æ¯ç§å­˜å‚¨å¼•æ“éƒ½æœ‰å…¶ç‹¬æœ‰çš„æ€§èƒ½ç‰¹ç‚¹ã€‚</p><p>Dockeråœ¨ Windowsä¸Šä»…æ”¯æŒ windowsfilter ä¸€ç§å­˜å‚¨å¼•æ“ï¼Œè¯¥å¼•æ“åŸºäºNTFSæ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šå®ç°äº†åˆ†å±‚å’ŒCoW [1]ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸ç³»ç»Ÿæ˜¾ç¤ºç›¸åŒçš„ä¸‰å±‚é•œåƒã€‚æ‰€æœ‰é•œåƒå±‚å †å¹¶åˆäº•ï¼Œå¯¹å¤–æä¾›ç»Ÿä¸€çš„è§†å›¾ã€‚</p><p><img src="https://i.loli.net/2020/12/10/oT9xRXtae2C1n7k.png" alt="image-20201210102314968"></p><blockquote><p>ç‰¹ç‚¹</p></blockquote><p>Docker é•œåƒéƒ½æ˜¯åªè¯»çš„ï¼Œå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ï¼</p><p>è¿™ä¸€å±‚å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„å®¹å™¨å±‚ï¼Œå®¹å™¨ä¹‹ä¸‹çš„éƒ½å«é•œåƒå±‚ï¼</p><p><img src="https://i.loli.net/2020/12/10/PxNuSw6pVsd3T9X.png" alt="image-20201210102630872"></p><h4 id="commité•œåƒ"><a href="#commité•œåƒ" class="headerlink" title="commité•œåƒ"></a>commité•œåƒ</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„å‰¯æœ¬</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤å’ŒgitåŸç†ç±»ä¼¼</span></span><br><span class="line">docker commit -m=&quot;æè¿°ä¿¡æ¯&quot; -a=&quot;ä½œè€…&quot; å®¹å™¨id ç›®æ ‡é•œåƒå:[ç‰ˆæœ¬TAG]</span><br></pre></td></tr></table></figure><p>å®æˆ˜æµ‹è¯•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1ã€å¯åŠ¨ä¸€ä¸ªåå°è¿è¡Œçš„tomcat</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker run -d -p 8080:8080 tomcat</span><br><span class="line">de57d0ace5716d27d0e3a7341503d07ed4695ffc266aef78e0a855b270c4064e</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2ã€å‘ç°è¿™ä¸ªé»˜è®¤çš„tomcat æ˜¯æ²¡æœ‰webappsåº”ç”¨ï¼Œå®˜æ–¹çš„é•œåƒé»˜è®¤webappsä¸‹é¢æ˜¯æ²¡æœ‰æ–‡ä»¶çš„ï¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash">äº¤äº’å¼è¿è¡Œè¿›å…¥åˆšæ‰å¯åŠ¨çš„tomcat</span></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker exec -it de57d0ace571 /bin/bash</span><br><span class="line">root@de57d0ace571:/usr/local/tomcat#cd webapps</span><br><span class="line">root@de57d0ace571:/usr/local/tomcat/webapps#ls</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3ã€ä»webapps.distæ‹·è´æ–‡ä»¶(cp -r xxx/* xxx)è¿›å»webapp</span></span><br><span class="line">root@de57d0ace571:/usr/local/tomcat# cp -r webapps.dist/* webapps</span><br><span class="line">root@de57d0ace571:/usr/local/tomcat# cd webapps</span><br><span class="line">root@de57d0ace571:/usr/local/tomcat/webapps# ls</span><br><span class="line">ROOT  docs  examples  host-manager  manager</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 4ã€å°†æ“ä½œè¿‡çš„å®¹å™¨é€šè¿‡commitè°ƒæ•™ä¸ºä¸€ä¸ªé•œåƒï¼æˆ‘ä»¬ä»¥åå°±ä½¿ç”¨æˆ‘ä»¬ä¿®æ”¹è¿‡çš„é•œåƒå³å¯ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡éƒ½é‡æ–°æ‹·è´webapps.distä¸‹çš„æ–‡ä»¶åˆ°webappsäº†ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„ä¸€ä¸ªä¿®æ”¹çš„é•œåƒã€‚</span></span><br><span class="line">docker commit -m=&quot;æè¿°ä¿¡æ¯&quot; -a=&quot;ä½œè€…&quot; å®¹å™¨id ç›®æ ‡é•œåƒå:[TAG]</span><br><span class="line"></span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]#docker commit -a=&quot;sinoeast&quot; -m=&quot;åŠ å…¥äº†webapps&quot; 1ac65188277b tomcatwithwebapps:1.0</span><br><span class="line">sha256:27841a40b5e93f13fe8673c1167d2e1870557cf3e2ada2e4cfc7b862c6dea2d7</span><br><span class="line">[root@iz2zeak7sgj6i7hrb2g862z ~]# docker images</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">tomcatwithwebapps     1.0                 27841a40b5e9        51 seconds ago      653MB</span><br><span class="line">nginx                 latest              bc9a0695f571        2 weeks ago         133MB</span><br><span class="line">tomcat                latest              e0bd8b34b4ea        2 weeks ago         649MB</span><br><span class="line">centos                latest              0d120b6ccaa8        4 months ago        215MB</span><br><span class="line">portainer/portainer   latest              62771b0b9b09        4 months ago        79.1MB</span><br><span class="line">elasticsearch         7.6.2               f29a1ee41030        8 months ago        791MB</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³è¦ä¿å­˜å½“å‰å®¹å™¨çš„çŠ¶æ€ï¼Œå°±å¯ä»¥é€šè¿‡commitæ¥æäº¤ï¼Œè·å¾—ä¸€ä¸ªé•œåƒï¼Œå°±å¥½æ¯”æˆ‘ä»¬æˆ‘ä»¬ä½¿ç”¨è™šæ‹Ÿæœºçš„å¿«ç…§ã€‚</p><h1 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="headerlink" title="å®¹å™¨æ•°æ®å·"></a>å®¹å™¨æ•°æ®å·</h1><h2 id="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·" class="headerlink" title="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"></a>ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</h2><p><strong>dockerçš„ç†å¿µå›é¡¾</strong></p><p>å°†åº”ç”¨å’Œç¯å¢ƒæ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼</p><p>æ•°æ®ï¼Ÿå¦‚æœæ•°æ®éƒ½åœ¨å®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®¹å™¨åˆ é™¤ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ï¼==éœ€æ±‚ï¼šæ•°æ®å¯ä»¥æŒä¹…åŒ–==</p><p>MySQLï¼Œå®¹å™¨åˆ é™¤äº†ï¼Œåˆ åº“è·‘è·¯ï¼==éœ€æ±‚ï¼šMySQLæ•°æ®å¯ä»¥å­˜å‚¨åœ¨æœ¬åœ°ï¼==</p><p>å®¹å™¨ä¹‹é—´å¯ä»¥æœ‰ä¸€ä¸ªæ•°æ®å…±äº«çš„æŠ€æœ¯ï¼Dockerå®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®ï¼ŒåŒæ­¥åˆ°æœ¬åœ°ï¼</p><p>è¿™å°±æ˜¯å·æŠ€æœ¯ï¼ç›®å½•çš„æŒ‚è½½ï¼Œå°†æˆ‘ä»¬å®¹å™¨å†…çš„ç›®å½•ï¼ŒæŒ‚è½½åˆ°Linuxä¸Šé¢ï¼</p><p><img src="https://i.loli.net/2020/12/10/NhOYswtqfIZzQam.png" alt="image-20201210112417986"></p><p><strong>æ€»ç»“ä¸€å¥è¯ï¼šå®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œï¼å®¹å™¨é—´ä¹Ÿæ˜¯å¯ä»¥æ•°æ®å…±äº«çš„ï¼</strong></p><h2 id="ä½¿ç”¨æ•°æ®å·"><a href="#ä½¿ç”¨æ•°æ®å·" class="headerlink" title="ä½¿ç”¨æ•°æ®å·"></a>ä½¿ç”¨æ•°æ®å·</h2><blockquote><p>æ–¹å¼ä¸€ ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æŒ‚è½½ -v</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-v, --volume list                    Bind mount a volume</span><br><span class="line"></span><br><span class="line">docker run -it -v ä¸»æœºç›®å½•:å®¹å™¨å†…ç›®å½•  -p ä¸»æœºç«¯å£:å®¹å™¨å†…ç«¯å£</span><br><span class="line">[root@VM-4-15-centos ~]# docker run -it -v /root/doc:/home centos /bin/bash</span><br><span class="line"><span class="meta">#</span><span class="bash">é€šè¿‡ docker inspect å®¹å™¨id æŸ¥çœ‹</span></span><br><span class="line">docker inspect centos:latest</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/12/10/u7niyKb5OhvewxA.png" alt="image-20201210114048797"></p><h2 id="å®æˆ˜ï¼šå®‰è£…MySQL"><a href="#å®æˆ˜ï¼šå®‰è£…MySQL" class="headerlink" title="å®æˆ˜ï¼šå®‰è£…MySQL"></a>å®æˆ˜ï¼šå®‰è£…MySQL</h2><p>æ€è€ƒï¼šMySQLçš„æ•°æ®æŒä¹…åŒ–çš„é—®é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è·å–mysqlé•œåƒ</span></span><br><span class="line">âœ  ~ docker pull mysql:5.7</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œå®¹å™¨,éœ€è¦åšæ•°æ®æŒ‚è½½ <span class="comment">#å®‰è£…å¯åŠ¨mysqlï¼Œéœ€è¦é…ç½®å¯†ç çš„ï¼Œè¿™æ˜¯è¦æ³¨æ„ç‚¹ï¼</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‚è€ƒå®˜ç½‘hub</span> </span><br><span class="line"> docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¯åŠ¨æˆ‘ä»¬å¾—</span></span><br><span class="line">-d åå°è¿è¡Œ</span><br><span class="line">-p ç«¯å£æ˜ å°„</span><br><span class="line">-v å·æŒ‚è½½</span><br><span class="line">-e ç¯å¢ƒé…ç½®</span><br><span class="line">-- name å®¹å™¨åå­—</span><br><span class="line">âœ  ~ docker run -d -p 3306:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨æœ¬åœ°æµ‹è¯•åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬æ˜ å°„çš„è·¯å¾„æ˜¯å¦okï¼</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬å°†å®¹å™¨åˆ é™¤</p><p><img src="https://i.loli.net/2020/12/10/xZioAmp9QeHsV7C.png" alt="image-20201210134508099"></p><p>å‘ç°ï¼Œæˆ‘ä»¬æŒ‚è½½åˆ°æœ¬åœ°çš„æ•°æ®å·ä¾æ—§æ²¡æœ‰ä¸¢å¤±ï¼Œè¿™å°±å®ç°äº†å®¹å™¨æ•°æ®æŒä¹…åŒ–åŠŸèƒ½ã€‚</p><h2 id="å…·åå’ŒåŒ¿åæŒ‚è½½"><a href="#å…·åå’ŒåŒ¿åæŒ‚è½½" class="headerlink" title="å…·åå’ŒåŒ¿åæŒ‚è½½"></a>å…·åå’ŒåŒ¿åæŒ‚è½½</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åŒ¿åæŒ‚è½½</span></span><br><span class="line">-v å®¹å™¨å†…è·¯å¾„!</span><br><span class="line">docker run -d -P --name nginx01 -v /etc/nginx nginx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æ‰€æœ‰çš„volumeçš„æƒ…å†µ</span></span><br><span class="line">âœ  ~ docker volume ls    </span><br><span class="line">DRIVER              VOLUME NAME</span><br><span class="line">local               33ae588fae6d34f511a769948f0d3d123c9d45c442ac7728cb85599c2657e50d</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™é‡Œå‘ç°ï¼Œè¿™ç§å°±æ˜¯åŒ¿åæŒ‚è½½ï¼Œæˆ‘ä»¬åœ¨ -våªå†™äº†å®¹å™¨å†…çš„è·¯å¾„ï¼Œæ²¡æœ‰å†™å®¹å™¨å¤–çš„è·¯åŠ²ï¼</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…·åæŒ‚è½½</span></span><br><span class="line">âœ  ~ docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx nginx</span><br><span class="line">âœ  ~ docker volume ls                  </span><br><span class="line">DRIVER              VOLUME NAME</span><br><span class="line">local               juming-nginx</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201210135740909.png" alt="image-20201210135740909"></p><p>æ‰€æœ‰çš„dockerå®¹å™¨å†…çš„å·ï¼Œæ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨<code>/var/lib/docker/volumes/xxxx/_data</code>ä¸‹<br>å¦‚æœæŒ‡å®šäº†ç›®å½•ï¼Œdocker volume ls æ˜¯æŸ¥çœ‹ä¸åˆ°çš„</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210140324828.png" alt="image-20200516114231435"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‰ç§æŒ‚è½½ï¼š åŒ¿åæŒ‚è½½ã€å…·åæŒ‚è½½ã€æŒ‡å®šè·¯å¾„æŒ‚è½½</span></span><br><span class="line">-v å®¹å™¨å†…è·¯å¾„#åŒ¿åæŒ‚è½½</span><br><span class="line">-v å·åï¼šå®¹å™¨å†…è·¯å¾„#å…·åæŒ‚è½½</span><br><span class="line">-v /å®¿ä¸»æœºè·¯å¾„ï¼šå®¹å™¨å†…è·¯å¾„ #æŒ‡å®šè·¯å¾„æŒ‚è½½ docker volume ls æ˜¯æŸ¥çœ‹ä¸åˆ°çš„</span><br></pre></td></tr></table></figure><p>æ‹“å±•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> é€šè¿‡ -v å®¹å™¨å†…è·¯å¾„ï¼š ro rw æ”¹å˜è¯»å†™æƒé™</span></span><br><span class="line">ro #readonly åªè¯»</span><br><span class="line">rw #readwrite å¯è¯»å¯å†™</span><br><span class="line">docker run -d -P --name nginx05 -v juming:/etc/nginx:ro nginx</span><br><span class="line">docker run -d -P --name nginx05 -v juming:/etc/nginx:rw nginx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ro åªè¦çœ‹åˆ°roå°±è¯´æ˜è¿™ä¸ªè·¯å¾„åªèƒ½é€šè¿‡å®¿ä¸»æœºæ¥æ“ä½œï¼Œå®¹å™¨å†…éƒ¨æ˜¯æ— æ³•æ“ä½œï¼</span></span><br></pre></td></tr></table></figure><h2 id="åˆå§‹Dockerfile"><a href="#åˆå§‹Dockerfile" class="headerlink" title="åˆå§‹Dockerfile"></a>åˆå§‹Dockerfile</h2><p>Dockerfile å°±æ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼å‘½ä»¤è„šæœ¬ï¼å…ˆä½“éªŒä¸€ä¸‹ï¼</p><p>é€šè¿‡è¿™ä¸ªè„šæœ¬å¯ä»¥ç”Ÿæˆé•œåƒï¼Œé•œåƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºä¸€ä¸ªdockerfileæ–‡ä»¶ï¼Œåå­—å¯ä»¥éšä¾¿ å»ºè®®Dockerfile</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–‡ä»¶ä¸­çš„å†…å®¹ æŒ‡ä»¤(å¤§å†™) å‚æ•°</span></span><br><span class="line">FROM centos</span><br><span class="line"></span><br><span class="line">VOLUME [&quot;volume01&quot;,&quot;volume02&quot;]</span><br><span class="line"></span><br><span class="line">CMD echo &quot;----end----&quot;</span><br><span class="line">CMD /bin/bash</span><br><span class="line"><span class="meta">#</span><span class="bash">è¿™é‡Œçš„æ¯ä¸ªå‘½ä»¤ï¼Œå°±æ˜¯é•œåƒçš„ä¸€å±‚ï¼</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201210145152711.png" alt="image-20201210145152711"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨è‡ªå·±å†™çš„é•œåƒ</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201210145420194.png" alt="image-20201210145420194"></p><p>è¿™ä¸ªå·å’Œå¤–éƒ¨ä¸€å®šæœ‰ä¸€ä¸ªåŒæ­¥çš„ç›®å½•</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210150443780.png" alt="image-20200516121531626"></p><p>æŸ¥çœ‹ä¸€ä¸‹å·æŒ‚è½½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect å®¹å™¨id</span><br></pre></td></tr></table></figure><p>![image-20201210145541717](/Users/lantian/Library/Application Support/typora-user-images/image-20201210145541717.png)</p><p>æµ‹è¯•ä¸€ä¸‹åˆšæ‰çš„æ–‡ä»¶æ˜¯å¦åŒæ­¥å‡ºå»äº†ï¼</p><p>è¿™ç§æ–¹å¼ä½¿ç”¨çš„ååˆ†å¤šï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸ä¼šæ„å»ºè‡ªå·±çš„é•œåƒï¼</p><p>å‡è®¾æ„å»ºé•œåƒæ—¶å€™æ²¡æœ‰æŒ‚è½½å·ï¼Œè¦æ‰‹åŠ¨é•œåƒæŒ‚è½½ -v å·åï¼šå®¹å™¨å†…è·¯å¾„ï¼</p><h2 id="æ•°æ®å·å®¹å™¨"><a href="#æ•°æ®å·å®¹å™¨" class="headerlink" title="æ•°æ®å·å®¹å™¨"></a>æ•°æ®å·å®¹å™¨</h2><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201210161714553.png" alt="image-20201210161714553"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å¯åŠ¨2ä¸ªå®¹å™¨ï¼Œé€šè¿‡æˆ‘ä»¬åˆšæ‰è‡ªå·±å†™çš„é•œåƒå¯åŠ¨</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201210161646500.png" alt="image-20201210161646500"></p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/image-20201210162014671.png" alt="image-20201210162014671"></p><p>å¤šä¸ªmysqlå®ç°æ•°æ®å…±äº«</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker run -d -p 3306:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span><br><span class="line">âœ  ~ docker run -d -p 3307:3306 -e MYSQL_ROOT_PASSWORD=123456 --name mysql02 --volumes-from mysql01  mysql:5.7</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™ä¸ªæ—¶å€™ï¼Œå¯ä»¥å®ç°ä¸¤ä¸ªå®¹å™¨æ•°æ®åŒæ­¥ï¼</span></span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼š</p><p>å®¹å™¨ä¹‹é—´çš„é…ç½®ä¿¡æ¯çš„ä¼ é€’ï¼Œæ•°æ®å·å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨ä¸ºæ­¢ã€‚</p><p>ä½†æ˜¯ä¸€æ—¦ä½ æŒä¹…åŒ–åˆ°äº†æœ¬åœ°ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæœ¬åœ°çš„æ•°æ®æ˜¯ä¸ä¼šåˆ é™¤çš„ï¼</p><h1 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h1><h2 id="DockerFileä»‹ç»"><a href="#DockerFileä»‹ç»" class="headerlink" title="DockerFileä»‹ç»"></a>DockerFileä»‹ç»</h2><p><code>dockerfile</code>æ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ–‡ä»¶ï¼å‘½ä»¤å‚æ•°è„šæœ¬ï¼</p><p>æ„å»ºæ­¥éª¤ï¼š</p><p>1ã€ ç¼–å†™ä¸€ä¸ªdockerfileæ–‡ä»¶</p><p>2ã€ docker build æ„å»ºç§°ä¸ºä¸€ä¸ªé•œåƒ</p><p>3ã€ docker runè¿è¡Œé•œåƒ</p><p>4ã€ docker pushå‘å¸ƒé•œåƒï¼ˆDockerHub ã€é˜¿é‡Œäº‘ä»“åº“)</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210163054783.png" alt="image-20200516131400456"></p><p>ç‚¹å‡»åè·³åˆ°ä¸€ä¸ªDockerfile</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210163153676.png" alt="image-20200516131441750"></p><p>å¾ˆå¤šå®˜æ–¹é•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼Œå¾ˆå¤šåŠŸèƒ½æ²¡æœ‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè‡ªå·±æ­å»ºè‡ªå·±çš„é•œåƒï¼</p><p>å®˜æ–¹æ—¢ç„¶å¯ä»¥åˆ¶ä½œé•œåƒï¼Œé‚£æˆ‘ä»¬ä¹Ÿå¯ä»¥ï¼</p><h2 id="DockerFileæ„å»ºè¿‡ç¨‹"><a href="#DockerFileæ„å»ºè¿‡ç¨‹" class="headerlink" title="DockerFileæ„å»ºè¿‡ç¨‹"></a>DockerFileæ„å»ºè¿‡ç¨‹</h2><p><strong>åŸºç¡€çŸ¥è¯†ï¼š</strong></p><p>1ã€æ¯ä¸ªä¿ç•™å…³é”®å­—(æŒ‡ä»¤ï¼‰éƒ½æ˜¯å¿…é¡»æ˜¯å¤§å†™å­—æ¯</p><p>2ã€æ‰§è¡Œä»ä¸Šåˆ°ä¸‹é¡ºåº</p><p>3ã€#è¡¨ç¤ºæ³¨é‡Š</p><p>4ã€æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶æäº¤ï¼</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210163532287.png" alt="image-20200516131756997"></p><p>Dockerfileæ˜¯é¢å‘å¼€å‘çš„ï¼Œæˆ‘ä»¬ä»¥åè¦å‘å¸ƒé¡¹ç›®ï¼Œåšé•œåƒï¼Œå°±éœ€è¦ç¼–å†™dockerfileæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•ï¼</p><p>Dockeré•œåƒé€æ¸æˆä¼ä¸šäº¤ä»˜çš„æ ‡å‡†ï¼Œå¿…é¡»è¦æŒæ¡ï¼</p><p>DockerFileï¼šæ„å»ºæ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€åˆ‡çš„æ­¥éª¤ï¼Œæºä»£ç </p><p>DockerImagesï¼šé€šè¿‡DockerFileæ„å»ºç”Ÿæˆçš„é•œåƒï¼Œæœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œäº§å“ã€‚</p><p>Dockerå®¹å™¨ï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡ã€‚</p><h2 id="DockerFileçš„æŒ‡ä»¤"><a href="#DockerFileçš„æŒ‡ä»¤" class="headerlink" title="DockerFileçš„æŒ‡ä»¤"></a>DockerFileçš„æŒ‡ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FROM# åŸºç¡€é•œåƒï¼Œä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»º</span><br><span class="line">MAINTAINER# é•œåƒæ˜¯è°å†™çš„ï¼Œ å§“å+é‚®ç®±</span><br><span class="line">RUN# é•œåƒæ„å»ºçš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤</span><br><span class="line">ADD# æ­¥éª¤ï¼Œtomcaté•œåƒï¼Œè¿™ä¸ªtomcatå‹ç¼©åŒ…ï¼æ·»åŠ å†…å®¹ æ·»åŠ åŒç›®å½•</span><br><span class="line">WORKDIR# é•œåƒçš„å·¥ä½œç›®å½•</span><br><span class="line">VOLUME# æŒ‚è½½çš„ç›®å½•</span><br><span class="line">EXPOSE# ä¿ç•™ç«¯å£é…ç½®</span><br><span class="line">CMD# æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£ã€‚</span><br><span class="line">ENTRYPOINT# æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥è¿½åŠ å‘½ä»¤</span><br><span class="line">ONBUILD# å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿ DockerFile è¿™ä¸ªæ—¶å€™å°±ä¼šè¿è¡ŒONBUILDçš„æŒ‡ä»¤ï¼Œè§¦å‘æŒ‡ä»¤ã€‚</span><br><span class="line">COPY# ç±»ä¼¼ADDï¼Œå°†æˆ‘ä»¬æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­</span><br><span class="line">ENV# æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡ï¼</span><br></pre></td></tr></table></figure><h2 id="å®æˆ˜æµ‹è¯•"><a href="#å®æˆ˜æµ‹è¯•" class="headerlink" title="å®æˆ˜æµ‹è¯•"></a>å®æˆ˜æµ‹è¯•</h2><blockquote><p>åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„centos</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1.ç¼–å†™Dockerfileæ–‡ä»¶</span></span><br><span class="line">âœ  ~ vim Dockerfile</span><br><span class="line">FROM centos</span><br><span class="line">MAINTAINER sinoeast&lt;sinoeast1108@gmail.com&gt;</span><br><span class="line"></span><br><span class="line">ENV MYPATH /usr/local</span><br><span class="line">WORKDIR $MYPATH</span><br><span class="line"></span><br><span class="line">RUN yum -y install vim</span><br><span class="line">RUN yum -y install net-tools</span><br><span class="line"></span><br><span class="line">EXPOSE 80</span><br><span class="line"></span><br><span class="line">CMD echo $MYPATH</span><br><span class="line">CMD echo &quot;-----end----&quot;</span><br><span class="line">CMD /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2ã€é€šè¿‡è¿™ä¸ªæ–‡ä»¶æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤ docker build -f æ–‡ä»¶è·¯å¾„ -t é•œåƒå:[tag] .</span></span><br><span class="line">âœ  ~ docker build -f Dockerfile -t mycentos:0.1 .</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•è¿è¡Œ</strong></p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210170342156.png" alt="image-20200516141629583"></p><p>æˆ‘ä»¬å¯ä»¥åˆ—å‡ºæœ¬åœ°è¿›è¡Œçš„å˜æ›´å†å²</p><p><img src="https://raw.githubusercontent.com/sinoeast/Mypic/master/uPic/format,png-20201210170452656.png" alt="image-20200516141840706"></p><p>æˆ‘ä»¬å¹³æ—¶æ‹¿åˆ°ä¸€ä¸ªé•œåƒï¼Œå¯ä»¥ç ”ç©¶ä¸€ä¸‹æ˜¯ä»€ä¹ˆåšçš„</p><blockquote><p>CMD å’Œ ENTRYPOINTåŒºåˆ«</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CMD# æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£ã€‚</span><br><span class="line">ENTRYPOINT# æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥è¿½åŠ å‘½ä»¤</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•cmd</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç¼–å†™dockerfileæ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim dockerfile-test-cmd</span></span><br><span class="line">FROM centos</span><br><span class="line">CMD [&quot;ls&quot;,&quot;-a&quot;]</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build  -f dockerfile-test-cmd -t cmd-test:0.1 .</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œé•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run cmd-test:0.1</span></span><br><span class="line">.</span><br><span class="line">..</span><br><span class="line">.dockerenv</span><br><span class="line">bin</span><br><span class="line">dev</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æƒ³è¿½åŠ ä¸€ä¸ªå‘½ä»¤  -l æˆä¸ºls -al</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run cmd-test:0.1 -l</span></span><br><span class="line">docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused &quot;exec: \&quot;-l\&quot;:</span><br><span class="line"> executable file not found in $PATH&quot;: unknown.</span><br><span class="line">ERRO[0000] error waiting for container: context canceled </span><br><span class="line"><span class="meta">#</span><span class="bash"> cmdçš„æƒ…å†µä¸‹ -l æ›¿æ¢äº†CMD[<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-l&quot;</span>]ã€‚ -l  ä¸æ˜¯å‘½ä»¤æ‰€æœ‰æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ENTRYPOINT</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç¼–å†™dockerfileæ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim dockerfile-test-entrypoint</span></span><br><span class="line">FROM centos</span><br><span class="line">ENTRYPOINT [&quot;ls&quot;,&quot;-a&quot;]</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run entrypoint-test:0.1</span></span><br><span class="line">.</span><br><span class="line">..</span><br><span class="line">.dockerenv</span><br><span class="line">bin</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">home</span><br><span class="line">lib</span><br><span class="line">lib64</span><br><span class="line">lost+found ...</span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬çš„å‘½ä»¤ï¼Œæ˜¯ç›´æ¥æ‹¼æ¥åœ¨æˆ‘ä»¬å¾—ENTRYPOINTå‘½ä»¤åé¢çš„</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run entrypoint-test:0.1 -l</span></span><br><span class="line">total 56</span><br><span class="line">drwxr-xr-x   1 root root 4096 May 16 06:32 .</span><br><span class="line">drwxr-xr-x   1 root root 4096 May 16 06:32 ..</span><br><span class="line">-rwxr-xr-x   1 root root    0 May 16 06:32 .dockerenv</span><br><span class="line">lrwxrwxrwx   1 root root    7 May 11  2019 bin -&gt; usr/bin</span><br><span class="line">drwxr-xr-x   5 root root  340 May 16 06:32 dev</span><br><span class="line">drwxr-xr-x   1 root root 4096 May 16 06:32 etc</span><br><span class="line">drwxr-xr-x   2 root root 4096 May 11  2019 home</span><br><span class="line">lrwxrwxrwx   1 root root    7 May 11  2019 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx   1 root root    9 May 11  2019 lib64 -&gt; usr/lib64 ....</span><br></pre></td></tr></table></figure><p>Dockerfileä¸­å¾ˆå¤šå‘½ä»¤éƒ½ååˆ†çš„ç›¸ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å®ƒä»¬çš„åŒºåˆ«ï¼Œæˆ‘ä»¬æœ€å¥½çš„å­¦ä¹ å°±æ˜¯å¯¹æ¯”ä»–ä»¬ç„¶åæµ‹è¯•æ•ˆæœï¼</p><h2 id="å®æˆ˜ï¼šTomcaté•œåƒ"><a href="#å®æˆ˜ï¼šTomcaté•œåƒ" class="headerlink" title="å®æˆ˜ï¼šTomcaté•œåƒ"></a>å®æˆ˜ï¼šTomcaté•œåƒ</h2><p>1ã€å‡†å¤‡é•œåƒæ–‡ä»¶</p><p> å‡†å¤‡tomcat å’Œ jdkåˆ°å½“å‰ç›®å½•ï¼Œç¼–å†™å¥½README</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE2MjQ0MzY1Mi5wbmc?x-oss-process=image/format,png" alt="image-20200516162443652"></p><p>2ã€ç¼–å†™dokerfile</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FROM centos #</span><br><span class="line">MAINTAINER cheng&lt;1204598429@qq.com&gt;</span><br><span class="line">COPY README /usr/local/README #å¤åˆ¶æ–‡ä»¶</span><br><span class="line">ADD jdk-8u231-linux-x64.tar.gz /usr/local/ #å¤åˆ¶è§£å‹</span><br><span class="line">ADD apache-tomcat-9.0.35.tar.gz /usr/local/ #å¤åˆ¶è§£å‹</span><br><span class="line">RUN yum -y install vim</span><br><span class="line">ENV MYPATH /usr/local #è®¾ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">WORKDIR $MYPATH #è®¾ç½®å·¥ä½œç›®å½•</span><br><span class="line">ENV JAVA_HOME /usr/local/jdk1.8.0_231 #è®¾ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.35 #è®¾ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib #è®¾ç½®ç¯å¢ƒå˜é‡ åˆ†éš”ç¬¦æ˜¯ï¼š</span><br><span class="line">EXPOSE 8080 #è®¾ç½®æš´éœ²çš„ç«¯å£</span><br><span class="line">CMD /usr/local/apache-tomcat-9.0.35/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.35/logs/catalina.out # è®¾ç½®é»˜è®¤å‘½ä»¤</span><br></pre></td></tr></table></figure><p>3ã€æ„å»ºé•œåƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å› ä¸ºdockerfileå‘½åä½¿ç”¨é»˜è®¤å‘½å å› æ­¤ä¸ç”¨ä½¿ç”¨-f æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -t mytomcat:0.1 .</span></span><br></pre></td></tr></table></figure><p>4ã€runé•œåƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -p 8080:8080 --name tomcat01 -v /home/kuangshen/build/tomcat/<span class="built_in">test</span>:/usr/<span class="built_in">local</span>/apache-tomcat-9.0.35/webapps/<span class="built_in">test</span> -v /home/kuangshen/build/tomcat/tomcatlogs/:/usr/<span class="built_in">local</span>/apache-tomcat-9.0.35/logs mytomcat:0.1</span></span><br></pre></td></tr></table></figure><p>5ã€è®¿é—®æµ‹è¯•</p><p>6ã€å‘å¸ƒé¡¹ç›®(ç”±äºåšäº†å·æŒ‚è½½ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨æœ¬åœ°ç¼–å†™é¡¹ç›®å°±å¯ä»¥å‘å¸ƒäº†ï¼)</p><p>å‘ç°ï¼šé¡¹ç›®éƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼</p><p>æˆ‘ä»¬ä»¥åå¼€å‘çš„æ­¥éª¤ï¼šéœ€è¦æŒæ¡Dockerfileçš„ç¼–å†™ï¼æˆ‘ä»¬ä¹‹åçš„ä¸€åˆ‡éƒ½æ˜¯ä½¿ç”¨dockeré•œåƒæ¥å‘å¸ƒè¿è¡Œï¼</p><h2 id="å‘å¸ƒè‡ªå·±çš„é•œåƒ"><a href="#å‘å¸ƒè‡ªå·±çš„é•œåƒ" class="headerlink" title="å‘å¸ƒè‡ªå·±çš„é•œåƒ"></a>å‘å¸ƒè‡ªå·±çš„é•œåƒ</h2><blockquote><p>Dockerhub</p></blockquote><p>1ã€åœ°å€ <a href="https://hub.docker.com/">https://hub.docker.com/</a></p><p>2ã€ç¡®å®šè¿™ä¸ªè´¦å·å¯ä»¥ç™»å½•</p><p>3ã€ç™»å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker login --<span class="built_in">help</span></span></span><br><span class="line">Usage:  docker login [OPTIONS] [SERVER]</span><br><span class="line"></span><br><span class="line">Log in to a Docker registry.</span><br><span class="line">If no server is specified, the default is defined by the daemon.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -p, --password string   Password</span><br><span class="line">      --password-stdin    Take the password from stdin</span><br><span class="line">  -u, --username string   Username</span><br></pre></td></tr></table></figure><p>4ã€æäº¤ pushé•œåƒ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE2NDQzNDA0Mi5wbmc?x-oss-process=image/format,png" alt="image-20200516164434042"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¼šå‘ç°pushä¸ä¸Šå»ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰å‰ç¼€çš„è¯é»˜è®¤æ˜¯pushåˆ° å®˜æ–¹çš„library</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å†³æ–¹æ³•</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¬¬ä¸€ç§ buildçš„æ—¶å€™æ·»åŠ ä½ çš„dockerhubç”¨æˆ·åï¼Œç„¶ååœ¨pushå°±å¯ä»¥æ”¾åˆ°è‡ªå·±çš„ä»“åº“äº†</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -t chengcoder/mytomcat:0.1 .</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¬¬äºŒç§ ä½¿ç”¨docker tag <span class="comment">#ç„¶åå†æ¬¡push</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker tag å®¹å™¨id chengcoder/mytomcat:1.0 <span class="comment">#ç„¶åå†æ¬¡push</span></span></span><br></pre></td></tr></table></figure><blockquote><p>é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸Š</p></blockquote><p>çœ‹å®˜ç½‘ å¾ˆè¯¦ç»†<a href="https://cr.console.aliyun.com/repository/">https://cr.console.aliyun.com/repository/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker login --username=zchengx registry.cn-shenzhen.aliyuncs.com</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/dsadxzc/cheng:[é•œåƒç‰ˆæœ¬å·]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹id å’Œ ç‰ˆæœ¬</span></span><br><span class="line">sudo docker tag a5ef1f32aaae registry.cn-shenzhen.aliyuncs.com/dsadxzc/cheng:1.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹ç‰ˆæœ¬</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo docker push registry.cn-shenzhen.aliyuncs.com/dsadxzc/cheng:[é•œåƒç‰ˆæœ¬å·]</span></span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3MTAxMjE4Ni5wbmc?x-oss-process=image/format,png" alt="image-20200516171012186"></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3MTE1NTY2Ny5wbmc?x-oss-process=image/format,png" alt="image-20200516171155667"></p><h1 id="Docker-ç½‘ç»œ"><a href="#Docker-ç½‘ç»œ" class="headerlink" title="Docker ç½‘ç»œ"></a>Docker ç½‘ç»œ</h1><h2 id="ç†è§£Docker-0"><a href="#ç†è§£Docker-0" class="headerlink" title="ç†è§£Docker 0"></a>ç†è§£Docker 0</h2><p>æ¸…ç©ºæ‰€æœ‰ç½‘ç»œ</p><blockquote><p>æµ‹è¯•</p></blockquote><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTIyMzIzNjc3Mi5wbmc?x-oss-process=image/format,png" alt="image-20200515223236772"></p><p>ä¸‰ä¸ªç½‘ç»œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> #</span><span class="bash"> é—®é¢˜ï¼š docker æ˜¯å¦‚æœå¤„ç†å®¹å™¨ç½‘ç»œè®¿é—®çš„ï¼Ÿ</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3MjA0MTk4NS5wbmc?x-oss-process=image/format,png" alt="image-20200516172041985"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•  è¿è¡Œä¸€ä¸ªtomcat</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d --name tomcat01 tomcat</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip addr</span>                               </span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">551: vethbfc37e3@if550: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP group default </span><br><span class="line">    link/ether 1a:81:06:13:ec:a1 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br><span class="line">    inet6 fe80::1881:6ff:fe13:eca1/64 scope link </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">       </span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it å®¹å™¨id</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> ip addr</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç½‘ç»œåœ°å€ å‘ç°å®¹å™¨å¯åŠ¨çš„æ—¶å€™ä¼šå¾—åˆ°ä¸€ä¸ª eth0@if551 ipåœ°å€ï¼Œdockeråˆ†é…ï¼</span></span><br><span class="line">550: eth0@if551: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default </span><br><span class="line">    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">       </span><br><span class="line"><span class="meta">#</span><span class="bash"> æ€è€ƒï¼Ÿ linuxèƒ½ä¸èƒ½pingé€šå®¹å™¨å†…éƒ¨ï¼ å¯ä»¥ å®¹å™¨å†…éƒ¨å¯ä»¥pingé€šå¤–ç•Œå—ï¼Ÿ å¯ä»¥ï¼</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ping 172.17.0.2</span></span><br><span class="line">PING 172.17.0.2 (172.17.0.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from 172.17.0.2: icmp_seq=1 ttl=64 time=0.069 ms</span><br><span class="line">64 bytes from 172.17.0.2: icmp_seq=2 ttl=64 time=0.074 ms</span><br><span class="line">123456789101112131415161718192021222324252627</span><br></pre></td></tr></table></figure><blockquote><p>åŸç†</p></blockquote><p>1ã€æˆ‘ä»¬æ¯å¯åŠ¨ä¸€ä¸ªdockerå®¹å™¨ï¼Œdockerå°±ä¼šç»™dockerå®¹å™¨åˆ†é…ä¸€ä¸ªipï¼Œæˆ‘ä»¬åªè¦æŒ‰ç…§äº†dockerï¼Œå°±ä¼šæœ‰ä¸€ä¸ªdocker0æ¡¥æ¥æ¨¡å¼ï¼Œä½¿ç”¨çš„æŠ€æœ¯æ˜¯veth-pairæŠ€æœ¯ï¼</p><p><a href="https://www.cnblogs.com/bakari/p/10613710.html">https://www.cnblogs.com/bakari/p/10613710.html</a></p><p>å†æ¬¡æµ‹è¯•ip add</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNTIyNDAzNjg4My5wbmc?x-oss-process=image/format,png" alt="image-20200515224036883"></p><p>2 ã€åœ¨å¯åŠ¨ä¸€ä¸ªå®¹å™¨æµ‹è¯•ï¼Œå‘ç°åˆå¤šäº†ä¸€å¯¹ç½‘ç»œ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3MzI1OTQ1OC5wbmc?x-oss-process=image/format,png" alt="image-20200516173259458"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬å‘ç°è¿™ä¸ªå®¹å™¨å¸¦æ¥ç½‘å¡ï¼Œéƒ½æ˜¯ä¸€å¯¹å¯¹çš„</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> veth-pair å°±æ˜¯ä¸€å¯¹çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œä»–ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¸€ç«¯è¿ç€åè®®ï¼Œä¸€ç«¯å½¼æ­¤ç›¸è¿</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ­£å› ä¸ºæœ‰è¿™ä¸ªç‰¹æ€§ veth-pair å……å½“ä¸€ä¸ªæ¡¥æ¢ï¼Œè¿æ¥å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> OpenStac,Dockerå®¹å™¨ä¹‹é—´çš„è¿æ¥ï¼ŒOVSçš„è¿æ¥ï¼Œéƒ½æ˜¯ä½¿ç”¨evth-pairæŠ€æœ¯</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure><p>3ã€æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹tomcat01å’Œtomcat02æ˜¯å¦å¯ä»¥pingé€š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker-tomcat docker <span class="built_in">exec</span> -it tomcat01 ip addr  <span class="comment">#è·å–tomcat01çš„ip 172.17.0.2</span></span>   </span><br><span class="line">550: eth0@if551: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default </span><br><span class="line">    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br><span class="line">    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker-tomcat docker <span class="built_in">exec</span> -it tomcat02 ping 172.17.0.2<span class="comment">#è®©tomcat02ping tomcat01</span></span> </span><br><span class="line">PING 172.17.0.2 (172.17.0.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from 172.17.0.2: icmp_seq=1 ttl=64 time=0.098 ms</span><br><span class="line">64 bytes from 172.17.0.2: icmp_seq=2 ttl=64 time=0.071 ms</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯ä»¥pingé€š</span></span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3NDI0ODYyNi5wbmc?x-oss-process=image/format,png" alt="image-20200516174248626"></p><p>ç»“è®ºï¼štomcat01å’Œtomcat02å…¬ç”¨ä¸€ä¸ªè·¯ç”±å™¨ï¼Œdocker0ã€‚</p><p>æ‰€æœ‰çš„å®¹å™¨ä¸æŒ‡å®šç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯docker0è·¯ç”±çš„ï¼Œdockerä¼šç»™æˆ‘ä»¬çš„å®¹å™¨åˆ†é…ä¸€ä¸ªé»˜è®¤çš„å¯ç”¨ipã€‚</p><blockquote><p>å°ç»“ï¼š</p></blockquote><p>Dockerä½¿ç”¨çš„æ˜¯Linuxçš„æ¡¥æ¥ï¼Œå®¿ä¸»æœºæ˜¯ä¸€ä¸ªDockerå®¹å™¨çš„ç½‘æ¡¥ docker0</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3NDcwMTA2My5wbmc?x-oss-process=image/format,png" alt="image-20200516174701063"></p><p>Dockerä¸­æ‰€æœ‰ç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œè™šæ‹Ÿçš„è½¬å‘æ•ˆç‡é«˜ï¼ˆå†…ç½‘ä¼ é€’æ–‡ä»¶ï¼‰</p><p>åªè¦å®¹å™¨åˆ é™¤ï¼Œå¯¹åº”çš„ç½‘æ¡¥ä¸€å¯¹å°±æ²¡äº†ï¼</p><blockquote><p>æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼šæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¾®æœåŠ¡ï¼Œdatabase url=ip: é¡¹ç›®ä¸é‡å¯ï¼Œæ•°æ®ipæ¢äº†ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åå­—æ¥è¿›è¡Œè®¿é—®å®¹å™¨ï¼Ÿ</p></blockquote><h2 id="â€“link"><a href="#â€“link" class="headerlink" title="â€“link"></a>â€“link</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat02 ping tomca01   <span class="comment"># pingä¸é€š</span></span></span><br><span class="line">ping: tomca01: Name or service not known</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œä¸€ä¸ªtomcat03 --link tomcat02</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat03 --link tomcat02 tomcat</span></span><br><span class="line">5f9331566980a9e92bc54681caaac14e9fc993f14ad13d98534026c08c0a9aef</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨tomcat03 ping tomcat02 å¯ä»¥pingé€š</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat03 ping tomcat02</span></span><br><span class="line">PING tomcat02 (172.17.0.3) 56(84) bytes of data.</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=1 ttl=64 time=0.115 ms</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=2 ttl=64 time=0.080 ms</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨tomcat02 ping tomcat03 pingä¸é€š</span></span><br><span class="line"></span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure><p><strong>æ¢ç©¶ï¼š</strong></p><p>docker network inspect ç½‘ç»œid ç½‘æ®µç›¸åŒ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE3NTkwNDU1MS5wbmc?x-oss-process=image/format,png" alt="image-20200516175904551"></p><p>docker inspect tomcat03</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE4MDMwODUzMC5wbmc?x-oss-process=image/format,png" alt="image-20200516180308530"></p><p>æŸ¥çœ‹tomcat03é‡Œé¢çš„/etc/hostså‘ç°æœ‰tomcat02çš„é…ç½®</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE4MDYyOTAxMi5wbmc?x-oss-process=image/format,png" alt="image-20200516180629012"></p><p>â€“link æœ¬è´¨å°±æ˜¯åœ¨hostsé…ç½®ä¸­æ·»åŠ æ˜ å°„</p><p>ç°åœ¨ä½¿ç”¨Dockerå·²ç»ä¸å»ºè®®ä½¿ç”¨â€“linkäº†ï¼</p><p>è‡ªå®šä¹‰ç½‘ç»œï¼Œä¸é€‚ç”¨docker0ï¼</p><p>docker0é—®é¢˜ï¼šä¸æ”¯æŒå®¹å™¨åè¿æ¥è®¿é—®ï¼</p><h2 id="è‡ªå®šä¹‰ç½‘ç»œ"><a href="#è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="è‡ªå®šä¹‰ç½‘ç»œ"></a>è‡ªå®šä¹‰ç½‘ç»œ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker network</span><br><span class="line">connect     -- Connect a container to a network</span><br><span class="line">create      -- Creates a new network with a name specified by the</span><br><span class="line">disconnect  -- Disconnects a container from a network</span><br><span class="line">inspect     -- Displays detailed information on a network</span><br><span class="line">ls          -- Lists all the networks created by the user</span><br><span class="line">prune       -- Remove all unused networks</span><br><span class="line">rm          -- Deletes one or more networks</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure><blockquote><p>æŸ¥çœ‹æ‰€æœ‰çš„dockerç½‘ç»œ</p></blockquote><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MDMxNjA3My5wbmc?x-oss-process=image/format,png" alt="image-20200516190316073"></p><p><strong>ç½‘ç»œæ¨¡å¼</strong></p><p>bridge ï¼šæ¡¥æ¥ dockerï¼ˆé»˜è®¤ï¼Œè‡ªå·±åˆ›å»ºä¹Ÿæ˜¯ç”¨bridgeæ¨¡å¼ï¼‰</p><p>none ï¼šä¸é…ç½®ç½‘ç»œï¼Œä¸€èˆ¬ä¸ç”¨</p><p>host ï¼šå’Œæ‰€ä¸»æœºå…±äº«ç½‘ç»œ</p><p>container ï¼šå®¹å™¨ç½‘ç»œè¿é€šï¼ˆç”¨å¾—å°‘ï¼å±€é™å¾ˆå¤§ï¼‰</p><p>æµ‹è¯•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬ç›´æ¥å¯åŠ¨çš„å‘½ä»¤ --net bridge,è€Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬å¾—docker0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> bridgeå°±æ˜¯docker0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat01 tomcat</span></span><br><span class="line">ç­‰ä»·äº =&gt; docker run -d -P --name tomcat01 --net bridge tomcat</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker0ï¼Œç‰¹ç‚¹ï¼šé»˜è®¤ï¼ŒåŸŸåä¸èƒ½è®¿é—®ã€‚ --linkå¯ä»¥æ‰“é€šè¿æ¥ï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ï¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬å¯ä»¥ è‡ªå®šä¹‰ä¸€ä¸ªç½‘ç»œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet</span></span><br><span class="line">12345678</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MTEzOTk0NC5wbmc?x-oss-process=image/format,png" alt="image-20200516191139944"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker network inspect mynet;</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MTQwNzA2NS5wbmc?x-oss-process=image/format,png" alt="image-20200516191407065"></p><p>å¯åŠ¨ä¸¤ä¸ªtomcat,å†æ¬¡æŸ¥çœ‹ç½‘ç»œæƒ…å†µ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MTg0NDI0MC5wbmc?x-oss-process=image/format,png" alt="image-20200516191844240"></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MjAwNzM3MS5wbmc?x-oss-process=image/format,png" alt="image-20200516192007371"></p><p>åœ¨è‡ªå®šä¹‰çš„ç½‘ç»œä¸‹ï¼ŒæœåŠ¡å¯ä»¥äº’ç›¸pingé€šï¼Œä¸ç”¨ä½¿ç”¨â€“link</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MjEzNDY3My5wbmc?x-oss-process=image/format,png" alt="image-20200516192134673"></p><p>æˆ‘ä»¬è‡ªå®šä¹‰çš„ç½‘ç»œdockerå½“æˆ‘ä»¬ç»´æŠ¤å¥½äº†å¯¹åº”çš„å…³ç³»ï¼Œæ¨èæˆ‘ä»¬å¹³æ—¶è¿™æ ·ä½¿ç”¨ç½‘ç»œï¼</p><p>å¥½å¤„ï¼š</p><p>redis -ä¸åŒçš„é›†ç¾¤ä½¿ç”¨ä¸åŒçš„ç½‘ç»œï¼Œä¿è¯é›†ç¾¤æ˜¯å®‰å…¨å’Œå¥åº·çš„</p><p>mysql-ä¸åŒçš„é›†ç¾¤ä½¿ç”¨ä¸åŒçš„ç½‘ç»œï¼Œä¿è¯é›†ç¾¤æ˜¯å®‰å…¨å’Œå¥åº·çš„</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MjUwNDM2Ny5wbmc?x-oss-process=image/format,png" alt="image-20200516192504367"></p><h2 id="ç½‘ç»œè¿é€š"><a href="#ç½‘ç»œè¿é€š" class="headerlink" title="ç½‘ç»œè¿é€š"></a>ç½‘ç»œè¿é€š</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MzI0MzE0Ni5wbmc?x-oss-process=image/format,png" alt="image-20200516193243146"></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MzI1OTE4NS5wbmc?x-oss-process=image/format,png" alt="image-20200516193259185"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•ä¸¤ä¸ªä¸åŒçš„ç½‘ç»œè¿é€š  å†å¯åŠ¨ä¸¤ä¸ªtomcat ä½¿ç”¨é»˜è®¤ç½‘ç»œï¼Œå³docker0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat01 tomcat</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat02 tomcat</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ­¤æ—¶pingä¸é€š</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5MzU1NDkzMS5wbmc?x-oss-process=image/format,png" alt="image-20200516193554931"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¦å°†tomcat01 è¿é€š tomcatâ€”net-01 ï¼Œè¿é€šå°±æ˜¯å°† tomcat01åŠ åˆ° mynetç½‘ç»œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªipï¼ˆtomcat01ï¼‰</span></span><br><span class="line">12</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5Mzg0ODMzNy5wbmc?x-oss-process=image/format,png" alt="image-20200516193848337"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 01è¿é€š ï¼ŒåŠ å…¥åæ­¤æ—¶ï¼Œå·²ç»å¯ä»¥tomcat01 å’Œ tomcat-01-net pingé€šäº†</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 02æ˜¯ä¾æ—§ä¸é€šçš„</span></span><br><span class="line">12</span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼šå‡è®¾è¦è·¨ç½‘ç»œæ“ä½œåˆ«äººï¼Œå°±éœ€è¦ä½¿ç”¨docker network connect è¿é€šï¼</p><h2 id="å®æˆ˜ï¼šéƒ¨ç½²Redisé›†ç¾¤"><a href="#å®æˆ˜ï¼šéƒ¨ç½²Redisé›†ç¾¤" class="headerlink" title="å®æˆ˜ï¼šéƒ¨ç½²Redisé›†ç¾¤"></a>å®æˆ˜ï¼šéƒ¨ç½²Redisé›†ç¾¤</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjE5NDQxOTQ3MS5wbmc?x-oss-process=image/format,png" alt="image-20200516194419471"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºç½‘å¡</span></span><br><span class="line">docker network create redis --subnet 172.38.0.0/16</span><br><span class="line"><span class="meta">#</span><span class="bash"> é€šè¿‡è„šæœ¬åˆ›å»ºå…­ä¸ªredisé…ç½®</span></span><br><span class="line">for port in $(seq 1 6);\</span><br><span class="line">do \</span><br><span class="line">mkdir -p /mydata/redis/node-$&#123;port&#125;/conf</span><br><span class="line">touch /mydata/redis/node-$&#123;port&#125;/conf/redis.conf</span><br><span class="line">cat &lt;&lt; EOF &gt;&gt; /mydata/redis/node-$&#123;port&#125;/conf/redis.conf</span><br><span class="line">port 6379</span><br><span class="line">bind 0.0.0.0</span><br><span class="line">cluster-enabled yes</span><br><span class="line">cluster-config-file nodes.conf</span><br><span class="line">cluster-node-timeout 5000</span><br><span class="line">cluster-announce-ip 172.38.0.1$&#123;port&#125;</span><br><span class="line">cluster-announce-port 6379</span><br><span class="line">cluster-announce-bus-port 16379</span><br><span class="line">appendonly yes</span><br><span class="line">EOF</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é€šè¿‡è„šæœ¬è¿è¡Œå…­ä¸ªredis</span></span><br><span class="line">for port in $(seq 1 6);\</span><br><span class="line">docker run -p 637$&#123;port&#125;:6379 -p 1667$&#123;port&#125;:16379 --name redis-$&#123;port&#125; \</span><br><span class="line">-v /mydata/redis/node-$&#123;port&#125;/data:/data \</span><br><span class="line">-v /mydata/redis/node-$&#123;port&#125;/conf/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">-d --net redis --ip 172.38.0.1$&#123;port&#125; redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf</span><br><span class="line">docker exec -it redis-1 /bin/sh #redisé»˜è®¤æ²¡æœ‰bash</span><br><span class="line">redis-cli --cluster create 172.38.0.11:6379 172.38.0.12:6379 172.38.0.13:6379 172.38.0.14:6379 172.38.0.15:6379 172.38.0.16:6379  --cluster-replicas 1</span><br><span class="line">12345678910111213141516171819202122232425262728</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjIwMjkwMjI0MS5wbmc?x-oss-process=image/format,png" alt="image-20200516202902241"></p><p>dockeræ­å»ºredisé›†ç¾¤å®Œæˆï¼</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZW5nY29kZXgvY2xvdWRpbWcvbWFzdGVyL2ltZy9pbWFnZS0yMDIwMDUxNjIwMzMyMzk3MS5wbmc?x-oss-process=image/format,png" alt="image-20200516203323971"></p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-i60F3UA4-1589635687509)(C:/Users/xiao/Pictures/md/image-20200516203010672.png)]</p><p>æˆ‘ä»¬ä½¿ç”¨dockerä¹‹åï¼Œæ‰€æœ‰çš„æŠ€æœ¯éƒ½ä¼šæ…¢æ…¢å˜å¾—ç®€å•èµ·æ¥ï¼</p><h1 id="SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ"><a href="#SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ" class="headerlink" title="SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ"></a>SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ</h1><p>1ã€æ„å»ºSpringBooté¡¹ç›®</p><p>2ã€æ‰“åŒ…è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>3ã€ç¼–å†™dockerfile</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FROM java:8</span><br><span class="line">COPY *.jar /app.jar</span><br><span class="line">CMD [&quot;--server.port=8080&quot;]</span><br><span class="line">EXPOSE 8080</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]</span><br><span class="line">12345</span><br></pre></td></tr></table></figure><p>4ã€æ„å»ºé•œåƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1.å¤åˆ¶jarå’ŒDockerFIleåˆ°æœåŠ¡å™¨</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -t xxxxx:xx  .</span></span><br><span class="line">123</span><br></pre></td></tr></table></figure><p>5ã€å‘å¸ƒè¿è¡Œ</p><p>ä»¥åæˆ‘ä»¬ä½¿ç”¨äº†Dockerä¹‹åï¼Œç»™åˆ«äººäº¤ä»˜å°±æ˜¯ä¸€ä¸ªé•œåƒå³å¯ï¼</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;Dockeræ¦‚è¿°&quot;&gt;&lt;a href=&quot;#Dockeræ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;Dockeræ¦‚è¿°&quot;&gt;&lt;/a&gt;Dockeræ¦‚è¿°&lt;/h1&gt;&lt;p&gt;Dockerä¸ºä»€ä¹ˆå‡ºç°ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¾äº§å“ï¼š å¼€å‘â€“ä¸Šçº¿ ä¸¤å¥—ç¯å¢ƒï¼åº”ç”¨ç¯å¢ƒï¼Œåº”ç”¨é…ç½®ï¼&lt;/p&gt;
&lt;p&gt;å¼€å‘ â€” è¿ç»´ã€‚ é—®é¢˜ï¼šæˆ‘åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥å…è®¸ï¼ç‰ˆæœ¬æ›´æ–°ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼å¯¹äºè¿ç»´æ¥è¯´è€ƒéªŒååˆ†å¤§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;==ç¯å¢ƒé…ç½®æ˜¯ååˆ†çš„éº»çƒ¦==ï¼Œæ¯ä¸€ä¸ªåŠå…¶éƒ½è¦éƒ¨ç½²ç¯å¢ƒ(é›†ç¾¤Redisã€ESã€Hadoopâ€¦) !è´¹äº‹è´¹åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;å‘å¸ƒä¸€ä¸ªé¡¹ç›®( jar + (Redis MySQL JDK ES) ),==é¡¹ç›®èƒ½ä¸èƒ½å¸¦ä¸Šç¯å¢ƒå®‰è£…æ‰“åŒ…==ï¼&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨æœåŠ¡å™¨é…ç½®ä¸€ä¸ªåº”ç”¨çš„ç¯å¢ƒ Redis MySQL JDK ES Hadoop é…ç½®è¶…éº»çƒ¦äº†ï¼Œä¸èƒ½å¤Ÿè·¨å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å‘ç¯å¢ƒWindowsï¼Œæœ€åå‘å¸ƒåˆ°Linuxï¼&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿï¼šå¼€å‘jarï¼Œè¿ç»´æ¥åšï¼&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å¥—æµç¨‹åšå®Œï¼&lt;/p&gt;</summary>
    
    
    
    <category term="Diary" scheme="http://example.com/categories/Diary/"/>
    
    
    <category term="Docker" scheme="http://example.com/tags/Docker/"/>
    
  </entry>
  
</feed>
